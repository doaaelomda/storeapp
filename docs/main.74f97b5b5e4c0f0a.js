"use strict";(self.webpackChunkstore=self.webpackChunkstore||[]).push([[179],{6304:(gt,Ce,L)=>{L.d(Ce,{Dh:()=>Se,GT:()=>pe,cc:()=>Me,hO:()=>ke,on:()=>$,pX:()=>ie,xv:()=>ge});var d=L(5879),B=L(7142),P=L(8186);gt=L.hmd(gt);const Q=["ngOnDestroy"],ie=(Pe,Dt,lt,te={})=>new Proxy(Pe,{get:(De,se)=>lt.runOutsideAngular(()=>{var fe;if(Pe[se])return!(null===(fe=te?.spy)||void 0===fe)&&fe.get&&te.spy.get(se,Pe[se]),Pe[se];if(Q.indexOf(se)>-1)return()=>{};const Ne=Dt.toPromise().then(ee=>{const tt=ee&&ee[se];return"function"==typeof tt?tt.bind(ee):tt&&tt.then?tt.then(je=>lt.run(()=>je)):lt.run(()=>tt)});return new Proxy(()=>{},{get:(ee,tt)=>Ne[tt],apply:(ee,tt,je)=>Ne.then(Xt=>{var sr;const Br=Xt&&Xt(...je);return!(null===(sr=te?.spy)||void 0===sr)&&sr.apply&&te.spy.apply(se,je,Br),Br})})})}),pe=(Pe,Dt)=>{Dt.forEach(lt=>{Object.getOwnPropertyNames(lt.prototype||lt).forEach(te=>{Object.defineProperty(Pe.prototype,te,Object.getOwnPropertyDescriptor(lt.prototype||lt,te))})})};class ve{constructor(Dt){return Dt}}const Se=new d.OlP("angularfire2.app.options"),ge=new d.OlP("angularfire2.app.name");function $(Pe,Dt,lt){const De="object"==typeof lt&&lt||{};De.name=De.name||"string"==typeof lt&&lt||"[DEFAULT]";const fe=B.Z.apps.filter(Ne=>Ne&&Ne.name===De.name)[0]||Dt.runOutsideAngular(()=>B.Z.initializeApp(Pe,De));try{JSON.stringify(Pe)!==JSON.stringify(fe.options)&&z("error",`${fe.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(fe)}const z=(Pe,...Dt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Pe](...Dt)},ne={provide:ve,useFactory:$,deps:[Se,d.R0b,[new d.FiY,ge]]};let ke=(()=>{class Pe{constructor(lt){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",d.q4F.full,lt.toString())}static initializeApp(lt,te){return{ngModule:Pe,providers:[{provide:Se,useValue:lt},{provide:ge,useValue:te}]}}}return Pe.\u0275fac=function(lt){return new(lt||Pe)(d.LFG(d.Lbi))},Pe.\u0275mod=d.oAB({type:Pe}),Pe.\u0275inj=d.cJS({providers:[ne]}),Pe})();function Me(Pe,Dt,lt,te,De){const[,se,fe]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===Pe)||[];if(se)return function qe(Pe,Dt){try{return Pe.toString()===Dt.toString()}catch{return Pe===Dt}}(De,fe)||(We("error",`${Dt} was already initialized on the ${lt} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),We("warn",{is:De,was:fe})),se;{const Ne=te();return globalThis.\u0275AngularfireInstanceCache.push([Pe,Ne,De]),Ne}}const xe=!!gt.hot,We=(Pe,...Dt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Pe](...Dt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(gt,Ce,L)=>{L.d(Ce,{q4:()=>hl,iC:()=>Po,fc:()=>pl,HU:()=>Ya,vb:()=>Yi,JM:()=>Ka});var d=L(5879),B=L(3182),P=L(5861),Q=L(534),ie=L(9058),pe=L(4537),ve=L(7879);const Se=(E,b)=>b.some(S=>E instanceof S);let ge,$;const ke=new WeakMap,Me=new WeakMap,qe=new WeakMap,xe=new WeakMap,We=new WeakMap;let lt={get(E,b,S){if(E instanceof IDBTransaction){if("done"===b)return Me.get(E);if("objectStoreNames"===b)return E.objectStoreNames||qe.get(E);if("store"===b)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return fe(E[b])},set:(E,b,S)=>(E[b]=S,!0),has:(E,b)=>E instanceof IDBTransaction&&("done"===b||"store"===b)||b in E};function se(E){return"function"==typeof E?function De(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...b){return E.apply(Ne(this),b),fe(ke.get(this))}:function(...b){return fe(E.apply(Ne(this),b))}:function(b,...S){const U=E.call(Ne(this),b,...S);return qe.set(U,b.sort?b.sort():[b]),fe(U)}}(E):(E instanceof IDBTransaction&&function Dt(E){if(Me.has(E))return;const b=new Promise((S,U)=>{const q=()=>{E.removeEventListener("complete",Y),E.removeEventListener("error",de),E.removeEventListener("abort",de)},Y=()=>{S(),q()},de=()=>{U(E.error||new DOMException("AbortError","AbortError")),q()};E.addEventListener("complete",Y),E.addEventListener("error",de),E.addEventListener("abort",de)});Me.set(E,b)}(E),Se(E,function z(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,lt):E)}function fe(E){if(E instanceof IDBRequest)return function Pe(E){const b=new Promise((S,U)=>{const q=()=>{E.removeEventListener("success",Y),E.removeEventListener("error",de)},Y=()=>{S(fe(E.result)),q()},de=()=>{U(E.error),q()};E.addEventListener("success",Y),E.addEventListener("error",de)});return b.then(S=>{S instanceof IDBCursor&&ke.set(S,E)}).catch(()=>{}),We.set(b,E),b}(E);if(xe.has(E))return xe.get(E);const b=se(E);return b!==E&&(xe.set(E,b),We.set(b,E)),b}const Ne=E=>We.get(E),je=["get","getKey","getAll","getAllKeys","count"],Xt=["put","add","delete","clear"],sr=new Map;function Br(E,b){if(!(E instanceof IDBDatabase)||b in E||"string"!=typeof b)return;if(sr.get(b))return sr.get(b);const S=b.replace(/FromIndex$/,""),U=b!==S,q=Xt.includes(S);if(!(S in(U?IDBIndex:IDBObjectStore).prototype)||!q&&!je.includes(S))return;const Y=function(){var de=(0,P.Z)(function*(Ke,...He){const ut=this.transaction(Ke,q?"readwrite":"readonly");let Ot=ut.store;return U&&(Ot=Ot.index(He.shift())),(yield Promise.all([Ot[S](...He),q&&ut.done]))[0]});return function(He){return de.apply(this,arguments)}}();return sr.set(b,Y),Y}!function te(E){lt=E(lt)}(E=>({...E,get:(b,S,U)=>Br(b,S)||E.get(b,S,U),has:(b,S)=>!!Br(b,S)||E.has(b,S)}));const Ds="@firebase/installations",ae="0.6.4",we=1e4,Te=`w:${ae}`,Oe="FIS_v2",$e="https://firebaseinstallations.googleapis.com/v1",Ve=36e5,nt=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mt(E){return E instanceof ie.ZR&&E.code.includes("request-failed")}function rn({projectId:E}){return`${$e}/projects/${E}/installations`}function pn(E){return{token:E.token,requestStatus:2,expiresIn:Ti(E.expiresIn),creationTime:Date.now()}}function xn(E,b){return en.apply(this,arguments)}function en(){return(en=(0,P.Z)(function*(E,b){const U=(yield b.json()).error;return nt.create("request-failed",{requestName:E,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function or({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function tr(E){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,P.Z)(function*(E){const b=yield E();return b.status>=500&&b.status<600?E():b})).apply(this,arguments)}function Ti(E){return Number(E.replace("s","000"))}function Dr(){return(Dr=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:b},{fid:S}){const U=rn(E),q=or(E),Y=b.getImmediate({optional:!0});if(Y){const ut=yield Y.getHeartbeatsHeader();ut&&q.append("x-firebase-client",ut)}const Ke={method:"POST",headers:q,body:JSON.stringify({fid:S,authVersion:Oe,appId:E.appId,sdkVersion:Te})},He=yield tr(()=>fetch(U,Ke));if(He.ok){const ut=yield He.json();return{fid:ut.fid||S,registrationStatus:2,refreshToken:ut.refreshToken,authToken:pn(ut.authToken)}}throw yield xn("Create Installation",He)})).apply(this,arguments)}function Ln(E){return new Promise(b=>{setTimeout(b,E)})}const is=/^[cdef][\w-]{21}$/,Ze="";function dt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const S=function Ct(E){return function jr(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return is.test(S)?S:Ze}catch{return Ze}}function Qt(E){return`${E.appName}!${E.appId}`}const nr=new Map;function Xr(E,b){const S=Qt(E);ss(S,b),function hn(E,b){const S=function Ft(){return!Nr&&"BroadcastChannel"in self&&(Nr=new BroadcastChannel("[Firebase] FID Change"),Nr.onmessage=E=>{ss(E.data.key,E.data.fid)}),Nr}();S&&S.postMessage({key:E,fid:b}),function Rn(){0===nr.size&&Nr&&(Nr.close(),Nr=null)}()}(S,b)}function ss(E,b){const S=nr.get(E);if(S)for(const U of S)U(b)}let Nr=null;const ji="firebase-installations-database",Cs=1,Cr="firebase-installations-store";let Un=null;function _n(){return Un||(Un=function ee(E,b,{blocked:S,upgrade:U,blocking:q,terminated:Y}={}){const de=indexedDB.open(E,b),Ke=fe(de);return U&&de.addEventListener("upgradeneeded",He=>{U(fe(de.result),He.oldVersion,He.newVersion,fe(de.transaction))}),S&&de.addEventListener("blocked",()=>S()),Ke.then(He=>{Y&&He.addEventListener("close",()=>Y()),q&&He.addEventListener("versionchange",()=>q())}).catch(()=>{}),Ke}(ji,Cs,{upgrade:(E,b)=>{0===b&&E.createObjectStore(Cr)}})),Un}function Zn(E,b){return bn.apply(this,arguments)}function bn(){return(bn=(0,P.Z)(function*(E,b){const S=Qt(E),q=(yield _n()).transaction(Cr,"readwrite"),Y=q.objectStore(Cr),de=yield Y.get(S);return yield Y.put(b,S),yield q.done,(!de||de.fid!==b.fid)&&Xr(E,b.fid),b})).apply(this,arguments)}function rr(E){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,P.Z)(function*(E){const b=Qt(E),U=(yield _n()).transaction(Cr,"readwrite");yield U.objectStore(Cr).delete(b),yield U.done})).apply(this,arguments)}function Hr(E,b){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,P.Z)(function*(E,b){const S=Qt(E),q=(yield _n()).transaction(Cr,"readwrite"),Y=q.objectStore(Cr),de=yield Y.get(S),Ke=b(de);return void 0===Ke?yield Y.delete(S):yield Y.put(Ke,S),yield q.done,Ke&&(!de||de.fid!==Ke.fid)&&Xr(E,Ke.fid),Ke})).apply(this,arguments)}function G(E){return j.apply(this,arguments)}function j(){return j=(0,P.Z)(function*(E){let b;const S=yield Hr(E.appConfig,U=>{const q=function k(E){return wt(E||{fid:dt(),registrationStatus:0})}(U),Y=function F(E,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(nt.create("app-offline"))};const S={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},U=function N(E,b){return J.apply(this,arguments)}(E,S);return{installationEntry:S,registrationPromise:U}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:_e(E)}:{installationEntry:b}}(E,q);return b=Y.registrationPromise,Y.installationEntry});return S.fid===Ze?{installationEntry:yield b}:{installationEntry:S,registrationPromise:b}}),j.apply(this,arguments)}function J(){return J=(0,P.Z)(function*(E,b){try{const S=yield function Bi(E,b){return Dr.apply(this,arguments)}(E,b);return Zn(E.appConfig,S)}catch(S){throw mt(S)&&409===S.customData.serverCode?yield rr(E.appConfig):yield Zn(E.appConfig,{fid:b.fid,registrationStatus:0}),S}}),J.apply(this,arguments)}function _e(E){return ze.apply(this,arguments)}function ze(){return(ze=(0,P.Z)(function*(E){let b=yield Et(E.appConfig);for(;1===b.registrationStatus;)yield Ln(100),b=yield Et(E.appConfig);if(0===b.registrationStatus){const{installationEntry:S,registrationPromise:U}=yield G(E);return U||S}return b})).apply(this,arguments)}function Et(E){return Hr(E,b=>{if(!b)throw nt.create("installation-not-found");return wt(b)})}function wt(E){return function ht(E){return 1===E.registrationStatus&&E.registrationTime+we<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function gn(){return(gn=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:b},S){const U=function Ut(E,{fid:b}){return`${rn(E)}/${b}/authTokens:generate`}(E,S),q=function ar(E,{refreshToken:b}){const S=or(E);return S.append("Authorization",function mo(E){return`${Oe} ${E}`}(b)),S}(E,S),Y=b.getImmediate({optional:!0});if(Y){const ut=yield Y.getHeartbeatsHeader();ut&&q.append("x-firebase-client",ut)}const Ke={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Te,appId:E.appId}})},He=yield tr(()=>fetch(U,Ke));if(He.ok)return pn(yield He.json());throw yield xn("Generate Auth Token",He)})).apply(this,arguments)}function mr(E){return br.apply(this,arguments)}function br(){return br=(0,P.Z)(function*(E,b=!1){let S;const U=yield Hr(E.appConfig,Y=>{if(!$t(Y))throw nt.create("not-registered");const de=Y.authToken;if(!b&&function nn(E){return 2===E.requestStatus&&!function yr(E){const b=Date.now();return b<E.creationTime||E.creationTime+E.expiresIn<b+Ve}(E)}(de))return Y;if(1===de.requestStatus)return S=function he(E,b){return re.apply(this,arguments)}(E,b),Y;{if(!navigator.onLine)throw nt.create("app-offline");const Ke=function Vn(E){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:b})}(Y);return S=function ft(E,b){return xt.apply(this,arguments)}(E,Ke),Ke}});return S?yield S:U.authToken}),br.apply(this,arguments)}function re(){return(re=(0,P.Z)(function*(E,b){let S=yield Le(E.appConfig);for(;1===S.authToken.requestStatus;)yield Ln(100),S=yield Le(E.appConfig);const U=S.authToken;return 0===U.requestStatus?mr(E,b):U})).apply(this,arguments)}function Le(E){return Hr(E,b=>{if(!$t(b))throw nt.create("not-registered");return function $s(E){return 1===E.requestStatus&&E.requestTime+we<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function xt(){return xt=(0,P.Z)(function*(E,b){try{const S=yield function Mt(E,b){return gn.apply(this,arguments)}(E,b),U=Object.assign(Object.assign({},b),{authToken:S});return yield Zn(E.appConfig,U),S}catch(S){if(!mt(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const U=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield Zn(E.appConfig,U)}else yield rr(E.appConfig);throw S}}),xt.apply(this,arguments)}function $t(E){return void 0!==E&&2===E.registrationStatus}function Ra(){return(Ra=(0,P.Z)(function*(E){const b=E,{installationEntry:S,registrationPromise:U}=yield G(b);return U?U.catch(console.error):mr(b).catch(console.error),S.fid})).apply(this,arguments)}function ei(){return ei=(0,P.Z)(function*(E,b=!1){const S=E;return yield function Gs(E){return vo.apply(this,arguments)}(S),(yield mr(S,b)).token}),ei.apply(this,arguments)}function vo(){return(vo=(0,P.Z)(function*(E){const{registrationPromise:b}=yield G(E);b&&(yield b)})).apply(this,arguments)}function Qo(E){return nt.create("missing-app-config-values",{valueName:E})}const Rc="installations",Pa=E=>{const b=E.getProvider("app").getImmediate(),S=function Iu(E){if(!E||!E.options)throw Qo("App Configuration");if(!E.name)throw Qo("App Name");const b=["projectId","apiKey","appId"];for(const S of b)if(!E.options[S])throw Qo(S);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(b);return{app:b,appConfig:S,heartbeatServiceProvider:(0,Q._getProvider)(b,"heartbeat"),_delete:()=>Promise.resolve()}},Oa=E=>{const b=E.getProvider("app").getImmediate(),S=(0,Q._getProvider)(b,Rc).getImmediate();return{getId:()=>function yo(E){return Ra.apply(this,arguments)}(S),getToken:q=>function pd(E){return ei.apply(this,arguments)}(S,q)}};(function md(){(0,Q._registerComponent)(new pe.wA(Rc,Pa,"PUBLIC")),(0,Q._registerComponent)(new pe.wA("installations-internal",Oa,"PRIVATE"))})(),(0,Q.registerVersion)(Ds,ae),(0,Q.registerVersion)(Ds,ae,"esm2017");const Du="@firebase/remote-config",fn=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class La{constructor(b,S,U,q){this.client=b,this.storage=S,this.storageCache=U,this.logger=q}isCachedDataFresh(b,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-S,q=U<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${q}.`),q}fetch(b){var S=this;return(0,P.Z)(function*(){const[U,q]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(q&&S.isCachedDataFresh(b.cacheMaxAgeMillis,U))return q;b.eTag=q&&q.eTag;const Y=yield S.client.fetch(b),de=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Y.status&&de.push(S.storage.setLastSuccessfulFetchResponse(Y)),yield Promise.all(de),Y})()}}function Tu(E=navigator){return E.languages&&E.languages[0]||E.language}class zs{constructor(b,S,U,q,Y,de){this.firebaseInstallations=b,this.sdkVersion=S,this.namespace=U,this.projectId=q,this.apiKey=Y,this.appId=de}fetch(b){var S=this;return(0,P.Z)(function*(){const[U,q]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),de=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},He={sdk_version:S.sdkVersion,app_instance_id:U,app_instance_id_token:q,app_id:S.appId,language_code:Tu()},ut={method:"POST",headers:Ke,body:JSON.stringify(He)},Ot=fetch(de,ut),Rt=new Promise((Wr,so)=>{b.signal.addEventListener(()=>{const Ja=new Error("The operation was aborted.");Ja.name="AbortError",so(Ja)})});let Fr;try{yield Promise.race([Ot,Rt]),Fr=yield Ot}catch(Wr){let so="fetch-client-network";throw"AbortError"===Wr?.name&&(so="fetch-timeout"),fn.create(so,{originalErrorMessage:Wr?.message})}let Mn=Fr.status;const Oo=Fr.headers.get("ETag")||void 0;let Ns,fa;if(200===Fr.status){let Wr;try{Wr=yield Fr.json()}catch(so){throw fn.create("fetch-client-parse",{originalErrorMessage:so?.message})}Ns=Wr.entries,fa=Wr.state}if("INSTANCE_STATE_UNSPECIFIED"===fa?Mn=500:"NO_CHANGE"===fa?Mn=304:("NO_TEMPLATE"===fa||"EMPTY_CONFIG"===fa)&&(Ns={}),304!==Mn&&200!==Mn)throw fn.create("fetch-status",{httpStatus:Mn});return{status:Mn,eTag:Oo,config:Ns}})()}}class wo{constructor(b,S){this.client=b,this.storage=S}fetch(b){var S=this;return(0,P.Z)(function*(){const U=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(b,U)})()}attemptFetch(b,{throttleEndTimeMillis:S,backoffCount:U}){var q=this;return(0,P.Z)(function*(){yield function An(E,b){return new Promise((S,U)=>{const q=Math.max(b-Date.now(),0),Y=setTimeout(S,q);E.addEventListener(()=>{clearTimeout(Y),U(fn.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,S);try{const Y=yield q.client.fetch(b);return yield q.storage.deleteThrottleMetadata(),Y}catch(Y){if(!function Au(E){if(!(E instanceof ie.ZR&&E.customData))return!1;const b=Number(E.customData.httpStatus);return 429===b||500===b||503===b||504===b}(Y))throw Y;const de={throttleEndTimeMillis:Date.now()+(0,ie.$s)(U),backoffCount:U+1};return yield q.storage.setThrottleMetadata(de),q.attemptFetch(b,de)}})()}}class Su{constructor(b,S,U,q,Y){this.app=b,this._client=S,this._storageCache=U,this._storage=q,this._logger=Y,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ar(E,b){const S=E.target.error||void 0;return fn.create(b,{originalErrorMessage:S&&S?.message})}const zr="app_namespace_store";class cf{constructor(b,S,U,q=function sn(){return new Promise((E,b)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=U=>{b(Ar(U,"storage-open"))},S.onsuccess=U=>{E(U.target.result)},S.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(zr,{keyPath:"compositeKey"})}}catch(S){b(fn.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=b,this.appName=S,this.namespace=U,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var S=this;return(0,P.Z)(function*(){const U=yield S.openDbPromise;return new Promise((q,Y)=>{const Ke=U.transaction([zr],"readonly").objectStore(zr),He=S.createCompositeKey(b);try{const ut=Ke.get(He);ut.onerror=Ot=>{Y(Ar(Ot,"storage-get"))},ut.onsuccess=Ot=>{const Rt=Ot.target.result;q(Rt?Rt.value:void 0)}}catch(ut){Y(fn.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(b,S){var U=this;return(0,P.Z)(function*(){const q=yield U.openDbPromise;return new Promise((Y,de)=>{const He=q.transaction([zr],"readwrite").objectStore(zr),ut=U.createCompositeKey(b);try{const Ot=He.put({compositeKey:ut,value:S});Ot.onerror=Rt=>{de(Ar(Rt,"storage-set"))},Ot.onsuccess=()=>{Y()}}catch(Ot){de(fn.create("storage-set",{originalErrorMessage:Ot?.message}))}})})()}delete(b){var S=this;return(0,P.Z)(function*(){const U=yield S.openDbPromise;return new Promise((q,Y)=>{const Ke=U.transaction([zr],"readwrite").objectStore(zr),He=S.createCompositeKey(b);try{const ut=Ke.delete(He);ut.onerror=Ot=>{Y(Ar(Ot,"storage-delete"))},ut.onsuccess=()=>{q()}}catch(ut){Y(fn.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class as{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,P.Z)(function*(){const S=b.storage.getLastFetchStatus(),U=b.storage.getLastSuccessfulFetchTimestampMillis(),q=b.storage.getActiveConfig(),Y=yield S;Y&&(b.lastFetchStatus=Y);const de=yield U;de&&(b.lastSuccessfulFetchTimestampMillis=de);const Ke=yield q;Ke&&(b.activeConfig=Ke)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function ea(){return ta.apply(this,arguments)}function ta(){return(ta=(0,P.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Eo(){(0,Q._registerComponent)(new pe.wA("remote-config",function E(b,{instanceIdentifier:S}){const U=b.getProvider("app").getImmediate(),q=b.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fn.create("registration-window");if(!(0,ie.hl)())throw fn.create("indexed-db-unavailable");const{projectId:Y,apiKey:de,appId:Ke}=U.options;if(!Y)throw fn.create("registration-project-id");if(!de)throw fn.create("registration-api-key");if(!Ke)throw fn.create("registration-app-id");const He=new cf(Ke,U.name,S=S||"firebase"),ut=new as(He),Ot=new ve.Yd(Du);Ot.logLevel=ve.in.ERROR;const Rt=new zs(q,Q.SDK_VERSION,S,Y,de,Ke),Fr=new wo(Rt,He),Mn=new La(Fr,He,ut,Ot),Oo=new Su(U,Mn,ut,He,Ot);return function kt(E){const b=(0,ie.m9)(E);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(Oo),Oo},"PUBLIC").setMultipleInstances(!0)),(0,Q.registerVersion)(Du,"0.4.4"),(0,Q.registerVersion)(Du,"0.4.4","esm2017")}();const Sr=(E,b)=>b.some(S=>E instanceof S);let Ua,Pr;const Gi=new WeakMap,qs=new WeakMap,wn=new WeakMap,na=new WeakMap,vd=new WeakMap;let Lc={get(E,b,S){if(E instanceof IDBTransaction){if("done"===b)return qs.get(E);if("objectStoreNames"===b)return E.objectStoreNames||wn.get(E);if("store"===b)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return us(E[b])},set:(E,b,S)=>(E[b]=S,!0),has:(E,b)=>E instanceof IDBTransaction&&("done"===b||"store"===b)||b in E};function _d(E){return"function"==typeof E?function Rg(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oc(){return Pr||(Pr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...b){return E.apply(Uc(this),b),us(Gi.get(this))}:function(...b){return us(E.apply(Uc(this),b))}:function(b,...S){const U=E.call(Uc(this),b,...S);return wn.set(U,b.sort?b.sort():[b]),us(U)}}(E):(E instanceof IDBTransaction&&function Fc(E){if(qs.has(E))return;const b=new Promise((S,U)=>{const q=()=>{E.removeEventListener("complete",Y),E.removeEventListener("error",de),E.removeEventListener("abort",de)},Y=()=>{S(),q()},de=()=>{U(E.error||new DOMException("AbortError","AbortError")),q()};E.addEventListener("complete",Y),E.addEventListener("error",de),E.addEventListener("abort",de)});qs.set(E,b)}(E),Sr(E,function Or(){return Ua||(Ua=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Lc):E)}function us(E){if(E instanceof IDBRequest)return function kc(E){const b=new Promise((S,U)=>{const q=()=>{E.removeEventListener("success",Y),E.removeEventListener("error",de)},Y=()=>{S(us(E.result)),q()},de=()=>{U(E.error),q()};E.addEventListener("success",Y),E.addEventListener("error",de)});return b.then(S=>{S instanceof IDBCursor&&Gi.set(S,E)}).catch(()=>{}),vd.set(b,E),b}(E);if(na.has(E))return na.get(E);const b=_d(E);return b!==E&&(na.set(E,b),vd.set(b,E)),b}const Uc=E=>vd.get(E);function Vc(E,b,{blocked:S,upgrade:U,blocking:q,terminated:Y}={}){const de=indexedDB.open(E,b),Ke=us(de);return U&&de.addEventListener("upgradeneeded",He=>{U(us(de.result),He.oldVersion,He.newVersion,us(de.transaction))}),S&&de.addEventListener("blocked",()=>S()),Ke.then(He=>{Y&&He.addEventListener("close",()=>Y()),q&&He.addEventListener("versionchange",()=>q())}).catch(()=>{}),Ke}function Mu(E,{blocked:b}={}){const S=indexedDB.deleteDatabase(E);return b&&S.addEventListener("blocked",()=>b()),us(S).then(()=>{})}const df=["get","getKey","getAll","getAllKeys","count"],wd=["put","add","delete","clear"],Ed=new Map;function Id(E,b){if(!(E instanceof IDBDatabase)||b in E||"string"!=typeof b)return;if(Ed.get(b))return Ed.get(b);const S=b.replace(/FromIndex$/,""),U=b!==S,q=wd.includes(S);if(!(S in(U?IDBIndex:IDBObjectStore).prototype)||!q&&!df.includes(S))return;const Y=function(){var de=(0,P.Z)(function*(Ke,...He){const ut=this.transaction(Ke,q?"readwrite":"readonly");let Ot=ut.store;return U&&(Ot=Ot.index(He.shift())),(yield Promise.all([Ot[S](...He),q&&ut.done]))[0]});return function(He){return de.apply(this,arguments)}}();return Ed.set(b,Y),Y}!function lf(E){Lc=E(Lc)}(E=>({...E,get:(b,S,U)=>Id(b,S)||E.get(b,S,U),has:(b,S)=>!!Id(b,S)||E.has(b,S)}));const Bc="/firebase-messaging-sw.js",Dd="/firebase-cloud-messaging-push-scope",xu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jc="https://fcmregistrations.googleapis.com/v1",hf="google.c.a.c_id",Bn="google.c.a.c_l",Iv="google.c.a.ts";var Zs=(()=>((Zs=Zs||{}).PUSH_RECEIVED="push-received",Zs.NOTIFICATION_CLICKED="notification-clicked",Zs))();function ti(E){const b=new Uint8Array(E);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hc(E){const S=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(S),q=new Uint8Array(U.length);for(let Y=0;Y<U.length;++Y)q[Y]=U.charCodeAt(Y);return q}const Va="fcm_token_details_db",Ba=5,ff="fcm_token_object_Store";function Ru(){return Ru=(0,P.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Y=>Y.name).includes(Va))return null;let b=null;return(yield Vc(Va,Ba,{upgrade:(U=(0,P.Z)(function*(q,Y,de,Ke){var He;if(Y<2||!q.objectStoreNames.contains(ff))return;const ut=Ke.objectStore(ff),Ot=yield ut.index("fcmSenderId").get(E);if(yield ut.clear(),Ot)if(2===Y){const Rt=Ot;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;b={token:Rt.fcmToken,createTime:null!==(He=Rt.createTime)&&void 0!==He?He:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:ti(Rt.vapidKey)}}}else if(3===Y){const Rt=Ot;b={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:ti(Rt.auth),p256dh:ti(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:ti(Rt.vapidKey)}}}else if(4===Y){const Rt=Ot;b={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:ti(Rt.auth),p256dh:ti(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:ti(Rt.vapidKey)}}}}),function(Y,de,Ke,He){return U.apply(this,arguments)})})).close(),yield Mu(Va),yield Mu("fcm_vapid_details_db"),yield Mu("undefined"),function Ai(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:b}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}(b)?b:null;var U}),Ru.apply(this,arguments)}const Nu="firebase-messaging-database",jn=1,fi="firebase-messaging-store";let $c=null;function Pu(){return $c||($c=Vc(Nu,jn,{upgrade:(E,b)=>{0===b&&E.createObjectStore(fi)}})),$c}function Do(E){return Co.apply(this,arguments)}function Co(){return Co=(0,P.Z)(function*(E){const b=bd(E),U=yield(yield Pu()).transaction(fi).objectStore(fi).get(b);if(U)return U;{const q=yield function pf(E){return Ru.apply(this,arguments)}(E.appConfig.senderId);if(q)return yield Ou(E,q),q}}),Co.apply(this,arguments)}function Ou(E,b){return gf.apply(this,arguments)}function gf(){return(gf=(0,P.Z)(function*(E,b){const S=bd(E),q=(yield Pu()).transaction(fi,"readwrite");return yield q.objectStore(fi).put(b,S),yield q.done,b})).apply(this,arguments)}function Ks(){return(Ks=(0,P.Z)(function*(E){const b=bd(E),U=(yield Pu()).transaction(fi,"readwrite");yield U.objectStore(fi).delete(b),yield U.done})).apply(this,arguments)}function bd({appConfig:E}){return E.appId}const _r=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dv(E,b){return zc.apply(this,arguments)}function zc(){return(zc=(0,P.Z)(function*(E,b){const S=yield ra(E),U=Wc(b),q={method:"POST",headers:S,body:JSON.stringify(U)};let Y;try{Y=yield(yield fetch(ku(E.appConfig),q)).json()}catch(de){throw _r.create("token-subscribe-failed",{errorInfo:de?.toString()})}if(Y.error)throw _r.create("token-subscribe-failed",{errorInfo:Y.error.message});if(!Y.token)throw _r.create("token-subscribe-no-token");return Y.token})).apply(this,arguments)}function ja(){return(ja=(0,P.Z)(function*(E,b){const S=yield ra(E),U=Wc(b.subscriptionOptions),q={method:"PATCH",headers:S,body:JSON.stringify(U)};let Y;try{Y=yield(yield fetch(`${ku(E.appConfig)}/${b.token}`,q)).json()}catch(de){throw _r.create("token-update-failed",{errorInfo:de?.toString()})}if(Y.error)throw _r.create("token-update-failed",{errorInfo:Y.error.message});if(!Y.token)throw _r.create("token-update-no-token");return Y.token})).apply(this,arguments)}function mf(E,b){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,P.Z)(function*(E,b){const U={method:"DELETE",headers:yield ra(E)};try{const Y=yield(yield fetch(`${ku(E.appConfig)}/${b}`,U)).json();if(Y.error)throw _r.create("token-unsubscribe-failed",{errorInfo:Y.error.message})}catch(q){throw _r.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function ku({projectId:E}){return`${jc}/projects/${E}/registrations`}function ra(E){return qc.apply(this,arguments)}function qc(){return(qc=(0,P.Z)(function*({appConfig:E,installations:b}){const S=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Wc({p256dh:E,auth:b,endpoint:S,vapidKey:U}){const q={web:{endpoint:S,auth:b,p256dh:E}};return U!==xu&&(q.web.applicationPubKey=U),q}const yf=6048e5;function Td(){return Td=(0,P.Z)(function*(E){const b=yield function Fu(E,b){return ia.apply(this,arguments)}(E.swRegistration,E.vapidKey),S={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:b.endpoint,auth:ti(b.getKey("auth")),p256dh:ti(b.getKey("p256dh"))},U=yield Do(E.firebaseDependencies);if(U){if(function kr(E,b){return b.vapidKey===E.vapidKey&&b.endpoint===E.endpoint&&b.auth===E.auth&&b.p256dh===E.p256dh}(U.subscriptionOptions,S))return Date.now()>=U.createTime+yf?function zi(E,b){return Qc.apply(this,arguments)}(E,{token:U.token,createTime:Date.now(),subscriptionOptions:S}):U.token;try{yield mf(E.firebaseDependencies,U.token)}catch(q){console.warn(q)}return bo(E.firebaseDependencies,S)}return bo(E.firebaseDependencies,S)}),Td.apply(this,arguments)}function Yc(){return Yc=(0,P.Z)(function*(E){const b=yield Do(E.firebaseDependencies);b&&(yield mf(E.firebaseDependencies,b.token),yield function Cd(E){return Ks.apply(this,arguments)}(E.firebaseDependencies));const S=yield E.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Yc.apply(this,arguments)}function Qc(){return Qc=(0,P.Z)(function*(E,b){try{const S=yield function Pg(E,b){return ja.apply(this,arguments)}(E.firebaseDependencies,b),U=Object.assign(Object.assign({},b),{token:S,createTime:Date.now()});return yield Ou(E.firebaseDependencies,U),S}catch(S){throw yield function Kc(E){return Yc.apply(this,arguments)}(E),S}}),Qc.apply(this,arguments)}function bo(E,b){return vn.apply(this,arguments)}function vn(){return(vn=(0,P.Z)(function*(E,b){const U={token:yield Dv(E,b),createTime:Date.now(),subscriptionOptions:b};return yield Ou(E,U),U.token})).apply(this,arguments)}function ia(){return(ia=(0,P.Z)(function*(E,b){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hc(b)})})).apply(this,arguments)}function sa(E){const b={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Ad(E,b){if(!b.notification)return;E.notification={};const S=b.notification.title;S&&(E.notification.title=S);const U=b.notification.body;U&&(E.notification.body=U);const q=b.notification.image;q&&(E.notification.image=q);const Y=b.notification.icon;Y&&(E.notification.icon=Y)}(b,E),function Ys(E,b){b.data&&(E.data=b.data)}(b,E),function Si(E,b){var S,U,q,Y,de;if(!(b.fcmOptions||null!==(S=b.notification)&&void 0!==S&&S.click_action))return;E.fcmOptions={};const Ke=null!==(q=null===(U=b.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==q?q:null===(Y=b.notification)||void 0===Y?void 0:Y.click_action;Ke&&(E.fcmOptions.link=Ke);const He=null===(de=b.fcmOptions)||void 0===de?void 0:de.analytics_label;He&&(E.fcmOptions.analyticsLabel=He)}(b,E),b}function Sd(E,b){const S=[];for(let U=0;U<E.length;U++)S.push(E.charAt(U)),U<b.length&&S.push(b.charAt(U));return S.join("")}function cs(E){return _r.create("missing-app-config-values",{valueName:E})}Sd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Sd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xd{constructor(b,S,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function Md(E){if(!E||!E.options)throw cs("App Configuration Object");if(!E.name)throw cs("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:S}=E;for(const U of b)if(!S[U])throw cs(U);return{appName:E.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:q,installations:S,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Lu(){return(Lu=(0,P.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Bc,{scope:Dd}),E.swRegistration.update().catch(()=>{})}catch(b){throw _r.create("failed-service-worker-registration",{browserErrorMessage:b?.message})}})).apply(this,arguments)}function Mi(){return(Mi=(0,P.Z)(function*(E,b){if(!b&&!E.swRegistration&&(yield function Jc(E){return Lu.apply(this,arguments)}(E)),b||!E.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw _r.create("invalid-sw-registration");E.swRegistration=b}})).apply(this,arguments)}function At(){return(At=(0,P.Z)(function*(E,b){b?E.vapidKey=b:E.vapidKey||(E.vapidKey=xu)})).apply(this,arguments)}function Rd(){return Rd=(0,P.Z)(function*(E,b){if(!navigator)throw _r.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _r.create("permission-blocked");return yield function Uu(E,b){return At.apply(this,arguments)}(E,b?.vapidKey),yield function oa(E,b){return Mi.apply(this,arguments)}(E,b?.serviceWorkerRegistration),function Zc(E){return Td.apply(this,arguments)}(E)}),Rd.apply(this,arguments)}function el(){return(el=(0,P.Z)(function*(E,b,S){const U=function _f(E){switch(E){case Zs.NOTIFICATION_CLICKED:return"notification_open";case Zs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(b);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:S[hf],message_name:S[Bn],message_time:S[Iv],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qi(){return qi=(0,P.Z)(function*(E,b){const S=b.data;if(!S.isFirebaseMessaging)return;E.onMessageHandler&&S.messageType===Zs.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(sa(S)):E.onMessageHandler.next(sa(S)));const U=S.data;(function vf(E){return"object"==typeof E&&!!E&&hf in E})(U)&&"1"===U["google.c.a.e"]&&(yield function Og(E,b,S){return el.apply(this,arguments)}(E,S.messageType,U))}),qi.apply(this,arguments)}const Vu="@firebase/messaging",wf=E=>{const b=new xd(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function $a(E,b){return qi.apply(this,arguments)}(b,S)),b},Nd=E=>{const b=E.getProvider("messaging").getImmediate();return{getToken:U=>function Xc(E,b){return Rd.apply(this,arguments)}(b,U)}};function Ae(){return tn.apply(this,arguments)}function tn(){return(tn=(0,P.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ef(){(0,Q._registerComponent)(new pe.wA("messaging",wf,"PUBLIC")),(0,Q._registerComponent)(new pe.wA("messaging-internal",Nd,"PRIVATE")),(0,Q.registerVersion)(Vu,"0.12.4"),(0,Q.registerVersion)(Vu,"0.12.4","esm2017")}();const nl="analytics",Pd="firebase_id",Od="origin",Mr=6e4,ls="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hu="https://www.googletagmanager.com/gtag/js",Sn=new ve.Yd("@firebase/analytics"),cr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rl(E){if(!E.startsWith(Hu)){const b=cr.create("invalid-gtag-resource",{gtagURL:E});return Sn.warn(b.message),""}return E}function za(E){return Promise.all(E.map(b=>b.catch(S=>S)))}function Qs(){return(Qs=(0,P.Z)(function*(E,b,S,U,q,Y){const de=U[q];try{if(de)yield b[de];else{const He=(yield za(S)).find(ut=>ut.measurementId===q);He&&(yield b[He.appId])}}catch(Ke){Sn.error(Ke)}E("config",q,Y)})).apply(this,arguments)}function aa(){return(aa=(0,P.Z)(function*(E,b,S,U,q){try{let Y=[];if(q&&q.send_to){let de=q.send_to;Array.isArray(de)||(de=[de]);const Ke=yield za(S);for(const He of de){const ut=Ke.find(Rt=>Rt.measurementId===He),Ot=ut&&b[ut.appId];if(!Ot){Y=[];break}Y.push(Ot)}}0===Y.length&&(Y=Object.values(b)),yield Promise.all(Y),E("event",U,q||{})}catch(Y){Sn.error(Y)}})).apply(this,arguments)}const kg=30,Ud=new class Ld{constructor(b={},S=1e3){this.throttleMetadata=b,this.intervalMillis=S}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,S){this.throttleMetadata[b]=S}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function Fg(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Xs(){return(Xs=(0,P.Z)(function*(E){var b;const{appId:S,apiKey:U}=E,q={method:"GET",headers:Fg(U)},Y=ls.replace("{app-id}",S),de=yield fetch(Y,q);if(200!==de.status&&304!==de.status){let Ke="";try{const He=yield de.json();null!==(b=He.error)&&void 0!==b&&b.message&&(Ke=He.error.message)}catch{}throw cr.create("config-fetch-failed",{httpStatus:de.status,responseMessage:Ke})}return de.json()})).apply(this,arguments)}function sl(){return(sl=(0,P.Z)(function*(E,b=Ud,S){const{appId:U,apiKey:q,measurementId:Y}=E.options;if(!U)throw cr.create("no-app-id");if(!q){if(Y)return{measurementId:Y,appId:U};throw cr.create("no-api-key")}const de=b.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new al;return setTimeout((0,P.Z)(function*(){Ke.abort()}),void 0!==S?S:Mr),Cf({appId:U,apiKey:q,measurementId:Y},de,Ke,b)})).apply(this,arguments)}function Cf(E,b,S){return ol.apply(this,arguments)}function ol(){return ol=(0,P.Z)(function*(E,{throttleEndTimeMillis:b,backoffCount:S},U,q=Ud){var Y;const{appId:de,measurementId:Ke}=E;try{yield function Vd(E,b){return new Promise((S,U)=>{const q=Math.max(b-Date.now(),0),Y=setTimeout(S,q);E.addEventListener(()=>{clearTimeout(Y),U(cr.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(U,b)}catch(He){if(Ke)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${He?.message}]`),{appId:de,measurementId:Ke};throw He}try{const He=yield function ni(E){return Xs.apply(this,arguments)}(E);return q.deleteThrottleMetadata(de),He}catch(He){const ut=He;if(!function Bd(E){if(!(E instanceof ie.ZR&&E.customData))return!1;const b=Number(E.customData.httpStatus);return 429===b||500===b||503===b||504===b}(ut)){if(q.deleteThrottleMetadata(de),Ke)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:de,measurementId:Ke};throw He}const Ot=503===Number(null===(Y=ut?.customData)||void 0===Y?void 0:Y.httpStatus)?(0,ie.$s)(S,q.intervalMillis,kg):(0,ie.$s)(S,q.intervalMillis),Rt={throttleEndTimeMillis:Date.now()+Ot,backoffCount:S+1};return q.setThrottleMetadata(de,Rt),Sn.debug(`Calling attemptFetch again in ${Ot} millis`),Cf(E,Rt,U,q)}}),ol.apply(this,arguments)}class al{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}let Wa,Ku;function jd(){return(jd=(0,P.Z)(function*(E,b,S,U,q){if(q&&q.global)E("event",S,U);else{const Y=yield b;E("event",S,Object.assign(Object.assign({},U),{send_to:Y}))}})).apply(this,arguments)}function ua(){return(ua=(0,P.Z)(function*(){if(!(0,ie.hl)())return Sn.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(E){return Sn.warn(cr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Wi(){return Wi=(0,P.Z)(function*(E,b,S,U,q,Y,de){var Ke;const He=function In(E){return sl.apply(this,arguments)}(E);He.then(Mn=>{S[Mn.measurementId]=Mn.appId,E.options.measurementId&&Mn.measurementId!==E.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mn=>Sn.error(Mn)),b.push(He);const ut=function bf(){return ua.apply(this,arguments)}().then(Mn=>{if(Mn)return U.getId()}),[Ot,Rt]=yield Promise.all([He,ut]);(function il(E){const b=window.document.getElementsByTagName("script");for(const S of Object.values(b))if(S.src&&S.src.includes(Hu)&&S.src.includes(E))return S;return null})(Y)||function kd(E,b){const S=function $u(E,b){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(E,b)),S}("firebase-js-sdk-policy",{createScriptURL:rl}),U=document.createElement("script"),q=`${Hu}?l=${E}&id=${b}`;U.src=S?S?.createScriptURL(q):q,U.async=!0,document.head.appendChild(U)}(Y,Ot.measurementId),Ku&&(q("consent","default",Ku),function Ao(E){Ku=E}(void 0)),q("js",new Date);const Fr=null!==(Ke=de?.config)&&void 0!==Ke?Ke:{};return Fr[Od]="firebase",Fr.update=!0,null!=Rt&&(Fr[Pd]=Rt),q("config",Ot.measurementId,Fr),Wa&&(q("set",Wa),function ll(E){Wa=E}(void 0)),Ot.measurementId}),Wi.apply(this,arguments)}class Pt{constructor(b){this.app=b}_delete(){return delete gi[this.app.options.appId],Promise.resolve()}}let gi={},Hd=[];const ca={};let mi,Zi,xi="dataLayer",to=!1;function Tf(E,b,S){!function yi(){const E=[];if((0,ie.ru)()&&E.push("This is a browser extension environment."),(0,ie.zI)()||E.push("Cookies are not available."),E.length>0){const b=E.map((U,q)=>`(${q+1}) ${U}`).join(" "),S=cr.create("invalid-analytics-context",{errorInfo:b});Sn.warn(S.message)}}();const U=E.options.appId;if(!U)throw cr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw cr.create("no-api-key");Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gi[U])throw cr.create("already-exists",{id:U});if(!to){!function qa(E){let b=[];Array.isArray(window[E])?b=window[E]:window[E]=b}(xi);const{wrappedGtag:Y,gtagCore:de}=function qu(E,b,S,U,q){let Y=function(...de){window[U].push(arguments)};return window[q]&&"function"==typeof window[q]&&(Y=window[q]),window[q]=function zu(E,b,S,U){function Y(){return Y=(0,P.Z)(function*(de,...Ke){try{if("event"===de){const[He,ut]=Ke;yield function Js(E,b,S,U,q){return aa.apply(this,arguments)}(E,b,S,He,ut)}else if("config"===de){const[He,ut]=Ke;yield function Gu(E,b,S,U,q,Y){return Qs.apply(this,arguments)}(E,b,S,U,He,ut)}else if("consent"===de){const[He]=Ke;E("consent","update",He)}else if("get"===de){const[He,ut,Ot]=Ke;E("get",He,ut,Ot)}else if("set"===de){const[He]=Ke;E("set",He)}else E(de,...Ke)}catch(He){Sn.error(He)}}),Y.apply(this,arguments)}return function q(de){return Y.apply(this,arguments)}}(Y,E,b,S),{gtagCore:Y,wrappedGtag:window[q]}}(gi,Hd,ca,xi,"gtag");Zi=Y,mi=de,to=!0}return gi[U]=function Lg(E,b,S,U,q,Y,de){return Wi.apply(this,arguments)}(E,Hd,ca,b,mi,xi,S),new Pt(E)}function $d(){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,P.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const io="@firebase/analytics";!function Ms(){(0,Q._registerComponent)(new pe.wA(nl,(b,{options:S})=>Tf(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,Q._registerComponent)(new pe.wA("analytics-internal",function E(b){try{const S=b.getProvider(nl).getImmediate();return{logEvent:(U,q,Y)=>function xo(E,b,S,U){E=(0,ie.m9)(E),function To(E,b,S,U,q){return jd.apply(this,arguments)}(Zi,gi[E.app.options.appId],b,S,U).catch(q=>Sn.error(q))}(S,U,q,Y)}}catch(S){throw cr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,Q.registerVersion)(io,"0.10.0"),(0,Q.registerVersion)(io,"0.10.0","esm2017")}();var xs=L(1954),wr=L(2631);const zd=new class da extends wr.v{}(class Ri extends xs.o{constructor(b,S){super(b,S),this.scheduler=b,this.work=S}schedule(b,S=0){return S>0?super.schedule(b,S):(this.delay=S,this.state=b,this.scheduler.flush(this),this)}execute(b,S){return S>0||this.closed?super.execute(b,S):this._execute(b,S)}requestAsyncId(b,S,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(b,S,U):(b.flush(this),0)}});var fs=L(6321),_i=L(9397),Pn=L(3093),ii=L(5137);const hl=new d.GfV("7.6.1"),ps="__angularfire_symbol__analyticsIsSupportedValue",gs="__angularfire_symbol__analyticsIsSupported",fl="__angularfire_symbol__remoteConfigIsSupportedValue",Qu="__angularfire_symbol__remoteConfigIsSupported",Ro="__angularfire_symbol__messagingIsSupportedValue",Bt="__angularfire_symbol__messagingIsSupported";function Ka(E,b,S){if(b){if(1===b.length)return b[0];const Y=b.filter(de=>de.app===S);if(1===Y.length)return Y[0]}return S.container.getProvider(E).getImmediate({optional:!0})}globalThis[gs]||(globalThis[gs]=$d().then(E=>globalThis[ps]=E).catch(()=>globalThis[ps]=!1)),globalThis[Bt]||(globalThis[Bt]=Ae().then(E=>globalThis[Ro]=E).catch(()=>globalThis[Ro]=!1)),globalThis[Qu]||(globalThis[Qu]=ea().then(E=>globalThis[fl]=E).catch(()=>globalThis[fl]=!1));const Yi=(E,b)=>{const S=b?[b]:(0,B.C6)(),U=[];return S.forEach(q=>{q.container.getProvider(E).instances.forEach(de=>{U.includes(de)||U.push(de)})}),U};function ha(){}class Qn{constructor(b,S=zd){this.zone=b,this.delegate=S}now(){return this.delegate.now()}schedule(b,S,U){const q=this.zone;return this.delegate.schedule(function(de){q.runGuarded(()=>{b.apply(this,[de])})},S,U)}}class Rs{constructor(b){this.zone=b,this.task=null}call(b,S){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ha,{},ha,ha)),S.pipe((0,_i.b)({next:U,complete:U,error:U})).subscribe(b).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ya=(()=>{class E{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Qn(Zone.current)),this.insideAngular=S.run(()=>new Qn(Zone.current,fs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(S){return new(S||E)(d.LFG(d.R0b))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Qi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function pl(E){return E.pipe((0,Pn.Q)(Qi().outsideAngular))}function Po(E){return Qi(),function qd(E){return function(S){return(S=S.lift(new Rs(E.ngZone))).pipe((0,ii.R)(E.outsideAngular),(0,Pn.Q)(E.insideAngular))}}(Qi())(E)}},6878:(gt,Ce,L)=>{L.d(Ce,{$:()=>Bc,A:()=>z,D:()=>Me,I:()=>gd,J:()=>Pa,L:()=>Tt,N:()=>Hr,P:()=>Lg,Q:()=>cf,R:()=>ul,U:()=>Io,V:()=>ea,W:()=>ta,X:()=>hi,Y:()=>Or,Z:()=>Oc,_:()=>vd,a:()=>ur,a0:()=>xu,a1:()=>hf,a2:()=>Ng,a3:()=>ff,a4:()=>Ru,a5:()=>Nu,a6:()=>fi,a7:()=>Pu,a8:()=>Co,a9:()=>gf,aA:()=>ee,aB:()=>fl,aC:()=>rr,aD:()=>Jt,aE:()=>Pn,aF:()=>vi,aG:()=>Gd,aH:()=>Kn,aL:()=>qr,aO:()=>Ua,aa:()=>Cd,ab:()=>bd,ac:()=>Gc,ad:()=>Pg,ae:()=>mf,af:()=>ku,ai:()=>yf,aj:()=>Td,ak:()=>Kc,an:()=>Rg,ao:()=>Ad,aq:()=>At,ar:()=>Vu,as:()=>je,at:()=>wt,au:()=>_e,av:()=>te,aw:()=>Fr,ax:()=>No,ay:()=>ht,az:()=>De,b:()=>tl,c:()=>Zi,d:()=>Tf,e:()=>Ug,f:()=>io,g:()=>da,h:()=>xs,i:()=>Fd,j:()=>fs,k:()=>Wr,l:()=>on,m:()=>yl,p:()=>Se,r:()=>pi,s:()=>eo,u:()=>bf});var d=L(5861),B=L(9058),P=L(534),Q=L(7582),ie=L(7879),pe=L(4537);const Se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},qe=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pe=new ie.Yd("@firebase/auth");function lt(_,...p){Pe.logLevel<=ie.in.ERROR&&Pe.error(`Auth (${P.SDK_VERSION}): ${_}`,...p)}function te(_,...p){throw Ne(_,...p)}function De(_,...p){return Ne(_,...p)}function se(_,p,m){const I=Object.assign(Object.assign({},qe()),{[p]:m});return new B.LL("auth","Firebase",I).create(p,{appName:_.name})}function fe(_,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&te(_,"argument-error"),se(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(_,...p){if("string"!=typeof _){const m=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=_.name),_._errorFactory.create(m,...I)}return xe.create(_,...p)}function ee(_,p,...m){if(!_)throw Ne(p,...m)}function tt(_){const p="INTERNAL ASSERTION FAILED: "+_;throw lt(p),new Error(p)}function je(_,p){_||tt(p)}function Xt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function sr(){return"http:"===Br()||"https:"===Br()}function Br(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class we{constructor(p,m){this.shortDelay=p,this.longDelay=m,je(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Ds(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(sr()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Te(_,p){je(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Oe{static initialize(p,m,I){this.fetchImpl=p,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ve=new we(3e4,6e4);function Qe(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function ot(_,p,m,I){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,d.Z)(function*(_,p,m,I,M={}){return nt(_,M,(0,d.Z)(function*(){let O={},Z={};I&&("GET"===p?Z=I:O={body:JSON.stringify(I)});const le=(0,B.xO)(Object.assign({key:_.config.apiKey},Z)).slice(1),Be=yield _._getAdditionalHeaders();return Be["Content-Type"]="application/json",_.languageCode&&(Be["X-Firebase-Locale"]=_.languageCode),Oe.fetch()(xn(_,_.config.apiHost,m,le),Object.assign({method:p,headers:Be,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function nt(_,p,m){return mt.apply(this,arguments)}function mt(){return(mt=(0,d.Z)(function*(_,p,m){_._canInitEmulator=!1;const I=Object.assign(Object.assign({},$e),p);try{const M=new en(_),O=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw or(_,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const le=O.ok?Z.errorMessage:Z.error.message,[Be,Je]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw or(_,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Be)throw or(_,"email-already-in-use",Z);if("USER_DISABLED"===Be)throw or(_,"user-disabled",Z);const It=I[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw se(_,It,Je);te(_,It)}}catch(M){if(M instanceof B.ZR)throw M;te(_,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function rn(_,p,m,I){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(_,p,m,I,M={}){const O=yield ot(_,p,m,I,M);return"mfaPendingCredential"in O&&te(_,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function xn(_,p,m,I){const M=`${p}${m}?${I}`;return _.config.emulator?Te(_.config,M):`${_.config.apiScheme}://${M}`}class en{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(De(this.auth,"network-request-failed")),Ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function or(_,p,m){const I={appName:_.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const M=De(_,p,I);return M.customData._tokenResponse=m,M}function tr(){return(tr=(0,d.Z)(function*(_,p){return ot(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(_,p){return ot(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Bi(){return(Bi=(0,d.Z)(function*(_,p){return ot(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Dr(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function is(){return(is=(0,d.Z)(function*(_,p=!1){const m=(0,B.m9)(_),I=yield m.getIdToken(p),M=dt(I);ee(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,Z=O?.sign_in_provider;return{claims:M,token:I,authTime:Dr(Ze(M.auth_time)),issuedAtTime:Dr(Ze(M.iat)),expirationTime:Dr(Ze(M.exp)),signInProvider:Z||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Ze(_){return 1e3*Number(_)}function dt(_){const[p,m,I]=_.split(".");if(void 0===p||void 0===m||void 0===I)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,B.tV)(m);return M?JSON.parse(M):(lt("Failed to decode base64 JWT payload"),null)}catch(M){return lt("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Qt(_,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.Z)(function*(_,p,m=!1){if(m)return p;try{return yield p}catch(I){throw I instanceof B.ZR&&function Xr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(I)&&_.auth.currentUser===_&&(yield _.auth.signOut()),I}})).apply(this,arguments)}class Wt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),I)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Wn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dr(this.lastLoginAt),this.creationTime=Dr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ss(_){return hn.apply(this,arguments)}function hn(){return hn=(0,d.Z)(function*(_){var p;const m=_.auth,I=yield _.getIdToken(),M=yield Qt(_,function mo(_,p){return Bi.apply(this,arguments)}(m,{idToken:I}));ee(M?.users.length,m,"internal-error");const O=M.users[0];_._notifyReloadListener(O);const Z=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function ji(_){return _.map(p=>{var{providerId:m}=p,I=(0,Q._T)(p,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(O.providerUserInfo):[],le=function Rn(_,p){return[..._.filter(I=>!p.some(M=>M.providerId===I.providerId)),...p]}(_.providerData,Z),It=!!_.isAnonymous&&!(_.email&&O.passwordHash||le?.length),Kt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:le,metadata:new Wn(O.createdAt,O.lastLoginAt),isAnonymous:It};Object.assign(_,Kt)}),hn.apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(_){const p=(0,B.m9)(_);yield ss(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Cr(){return(Cr=(0,d.Z)(function*(_,p){const m=yield nt(_,{},(0,d.Z)(function*(){const I=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:O}=_.config,Z=xn(_,M,"/v1/token",`key=${O}`),le=yield _._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",Oe.fetch()(Z,{method:"POST",headers:le,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ee(p.idToken,"internal-error"),ee(typeof p.idToken<"u","internal-error"),ee(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Ct(_){const p=dt(_);return ee(p,"internal-error"),ee(typeof p.exp<"u","internal-error"),ee(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var I=this;return(0,d.Z)(function*(){return ee(!I.accessToken||I.refreshToken,p,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(p,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var I=this;return(0,d.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:Z}=yield function Cs(_,p){return Cr.apply(this,arguments)}(p,m);I.updateTokensAndExpiration(M,O,Number(Z))})()}updateTokensAndExpiration(p,m,I){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,m){const{refreshToken:I,accessToken:M,expirationTime:O}=m,Z=new Un;return I&&(ee("string"==typeof I,"internal-error",{appName:p}),Z.refreshToken=I),M&&(ee("string"==typeof M,"internal-error",{appName:p}),Z.accessToken=M),O&&(ee("number"==typeof O,"internal-error",{appName:p}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Un,this.toJSON())}_performRefresh(){return tt("not implemented")}}function _n(_,p){ee("string"==typeof _||typeof _>"u","internal-error",{appName:p})}class Zn{constructor(p){var{uid:m,auth:I,stsTokenManager:M}=p,O=(0,Q._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Wn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,d.Z)(function*(){const I=yield Qt(m,m.stsTokenManager.getToken(m.auth,p));return ee(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(p){return function jr(_){return is.apply(this,arguments)}(this,p)}reload(){return function Nr(_){return Ft.apply(this,arguments)}(this)}_assign(p){this!==p&&(ee(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Zn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var I=this;return(0,d.Z)(function*(){let M=!1;p.idToken&&p.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield ss(I)),yield I.auth._persistUserIfCurrent(I),M&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var p=this;return(0,d.Z)(function*(){const m=yield p.getIdToken();return yield Qt(p,function ar(_,p){return tr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var I,M,O,Z,le,Be,Je,It;const Kt=null!==(I=m.displayName)&&void 0!==I?I:void 0,si=null!==(M=m.email)&&void 0!==M?M:void 0,ko=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Rf=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,Hg=null!==(le=m.tenantId)&&void 0!==le?le:void 0,Nf=null!==(Be=m._redirectEventId)&&void 0!==Be?Be:void 0,vl=null!==(Je=m.createdAt)&&void 0!==Je?Je:void 0,Ps=null!==(It=m.lastLoginAt)&&void 0!==It?It:void 0,{uid:pa,emailVerified:oo,isAnonymous:tc,providerData:ga,stsTokenManager:_l}=m;ee(pa&&_l,p,"internal-error");const nc=Un.fromJSON(this.name,_l);ee("string"==typeof pa,p,"internal-error"),_n(Kt,p.name),_n(si,p.name),ee("boolean"==typeof oo,p,"internal-error"),ee("boolean"==typeof tc,p,"internal-error"),_n(ko,p.name),_n(Rf,p.name),_n(Hg,p.name),_n(Nf,p.name),_n(vl,p.name),_n(Ps,p.name);const Kd=new Zn({uid:pa,auth:p,email:si,emailVerified:oo,displayName:Kt,isAnonymous:tc,photoURL:Rf,phoneNumber:ko,tenantId:Hg,stsTokenManager:nc,createdAt:vl,lastLoginAt:Ps});return ga&&Array.isArray(ga)&&(Kd.providerData=ga.map($g=>Object.assign({},$g))),Nf&&(Kd._redirectEventId=Nf),Kd}static _fromIdTokenResponse(p,m,I=!1){return(0,d.Z)(function*(){const M=new Un;M.updateFromServerResponse(m);const O=new Zn({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:I});return yield ss(O),O})()}}const bn=new Map;function rr(_){je(_ instanceof Function,"Expected a class definition");let p=bn.get(_);return p?(je(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,bn.set(_,p),p)}const Hr=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,I){var M=this;return(0,d.Z)(function*(){M.storage[m]=I})()}_get(m){var I=this;return(0,d.Z)(function*(){const M=I.storage[m];return void 0===M?null:M})()}_remove(m){var I=this;return(0,d.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return _.type="NONE",_})();function Jt(_,p,m){return`firebase:${_}:${p}:${m}`}class G{constructor(p,m,I){this.persistence=p,this.auth=m,this.userKey=I;const{config:M,name:O}=this.auth;this.fullUserKey=Jt(this.userKey,M.apiKey,O),this.fullPersistenceKey=Jt("persistence",M.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Zn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,d.Z)(function*(){if(m.persistence===p)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,I="authUser"){return(0,d.Z)(function*(){if(!m.length)return new G(rr(Hr),p,I);const M=(yield Promise.all(m.map(function(){var Je=(0,d.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let O=M[0]||rr(Hr);const Z=Jt(I,p.config.apiKey,p.name);let le=null;for(const Je of m)try{const It=yield Je._get(Z);if(It){const Kt=Zn._fromJSON(p,It);Je!==O&&(le=Kt),O=Je;break}}catch{}const Be=M.filter(Je=>Je._shouldAllowMigration);return O._shouldAllowMigration&&Be.length?(O=Be[0],le&&(yield O._set(Z,le.toJSON())),yield Promise.all(m.map(function(){var Je=(0,d.Z)(function*(It){if(It!==O)try{yield It._remove(Z)}catch{}});return function(It){return Je.apply(this,arguments)}}())),new G(O,p,I)):new G(O,p,I)})()}}function j(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(J(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(k(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ze(p))return"Blackberry";if(Et(p))return"Webos";if(F(p))return"Safari";if((p.includes("chrome/")||N(p))&&!p.includes("edge/"))return"Chrome";if(_e(p))return"Android";{const I=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function k(_=(0,B.z$)()){return/firefox\//i.test(_)}function F(_=(0,B.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function N(_=(0,B.z$)()){return/crios\//i.test(_)}function J(_=(0,B.z$)()){return/iemobile/i.test(_)}function _e(_=(0,B.z$)()){return/android/i.test(_)}function ze(_=(0,B.z$)()){return/blackberry/i.test(_)}function Et(_=(0,B.z$)()){return/webos/i.test(_)}function wt(_=(0,B.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ht(_=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function Ut(_=(0,B.z$)()){return wt(_)||_e(_)||Et(_)||ze(_)||/windows phone/i.test(_)||J(_)}function br(_,p=[]){let m;switch(_){case"Browser":m=j((0,B.z$)());break;case"Worker":m=`${j((0,B.z$)())}-${_}`;break;default:m=_}const I=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${P.SDK_VERSION}/${I}`}function re(){return(re=(0,d.Z)(function*(_){return(yield ot(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Le(_,p){return ft.apply(this,arguments)}function ft(){return(ft=(0,d.Z)(function*(_,p){return ot(_,"GET","/v2/recaptchaConfig",Qe(_,p))})).apply(this,arguments)}function xt(_){return void 0!==_&&void 0!==_.getResponse}function $t(_){return void 0!==_&&void 0!==_.enterprise}class nn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Vn(_){return new Promise((p,m)=>{const I=document.createElement("script");I.setAttribute("src",_),I.onload=p,I.onerror=M=>{const O=De("internal-error");O.customData=M,m(O)},I.type="text/javascript",I.charset="UTF-8",function yr(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(I)})}function $s(_){return`__${_}${Math.floor(1e6*Math.random())}`}class ei{constructor(p){this.type="recaptcha-enterprise",this.auth=Kn(p)}verify(p="verify",m=!1){var I=this;return(0,d.Z)(function*(){function O(){return O=(0,d.Z)(function*(le){if(!m){if(null==le.tenantId&&null!=le._agentRecaptchaConfig)return le._agentRecaptchaConfig.siteKey;if(null!=le.tenantId&&void 0!==le._tenantRecaptchaConfigs[le.tenantId])return le._tenantRecaptchaConfigs[le.tenantId].siteKey}return new Promise(function(){var Be=(0,d.Z)(function*(Je,It){Le(le,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Kt=>{if(void 0!==Kt.recaptchaKey){const si=new nn(Kt);return null==le.tenantId?le._agentRecaptchaConfig=si:le._tenantRecaptchaConfigs[le.tenantId]=si,Je(si.siteKey)}It(new Error("recaptcha Enterprise site key undefined"))}).catch(Kt=>{It(Kt)})});return function(Je,It){return Be.apply(this,arguments)}}())}),O.apply(this,arguments)}function Z(le,Be,Je){const It=window.grecaptcha;$t(It)?It.enterprise.ready(()=>{It.enterprise.execute(le,{action:p}).then(Kt=>{Be(Kt)}).catch(()=>{Be("NO_RECAPTCHA")})}):Je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((le,Be)=>{(function M(le){return O.apply(this,arguments)})(I.auth).then(Je=>{if(!m&&$t(window.grecaptcha))Z(Je,le,Be);else{if(typeof window>"u")return void Be(new Error("RecaptchaVerifier is only supported in browser"));Vn("https://www.google.com/recaptcha/enterprise.js?render="+Je).then(()=>{Z(Je,le,Be)}).catch(It=>{Be(It)})}}).catch(Je=>{Be(Je)})})})()}}function Gs(_,p,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,d.Z)(function*(_,p,m,I=!1){const M=new ei(_);let O;try{O=yield M.verify(m)}catch{O=yield M.verify(m,!0)}const Z=Object.assign({},p);return Object.assign(Z,I?{captchaResp:O}:{captchaResponse:O}),Object.assign(Z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Z})).apply(this,arguments)}class sf{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const I=O=>new Promise((Z,le)=>{try{Z(p(O))}catch(Be){le(Be)}});I.onAbort=m,this.queue.push(I);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===p)return;const I=[];try{for(const M of m.queue)yield M(p),M.onAbort&&I.push(M.onAbort)}catch(M){I.reverse();for(const O of I)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Na{constructor(p,m,I,M){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=I,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mg(this),this.idTokenSubscription=new Mg(this),this.beforeStateQueue=new sf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,m){var I=this;return m&&(this._popupRedirectResolver=rr(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var M,O;if(!I._deleted&&(I.persistenceManager=yield G.create(I,p),!I._deleted)){if(null!==(M=I._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(O=I.currentUser)||void 0===O?void 0:O.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,d.Z)(function*(){var I;const M=yield m.assertedPersistence.getCurrentUser();let O=M,Z=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const le=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,Be=O?._redirectEventId,Je=yield m.tryRedirectSignIn(p);(!le||le===Be)&&Je?.user&&(O=Je.user,Z=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(Z)try{yield m.beforeStateQueue.runMiddleware(O)}catch(le){O=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(le))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var m=this;return(0,d.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,d.Z)(function*(){try{yield ss(p)}catch(I){if("auth/network-request-failed"!==I?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ae(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){const I=p?(0,B.m9)(p):null;return I&&ee(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(p,m=!1){var I=this;return(0,d.Z)(function*(){if(!I._deleted)return p&&ee(I.tenantId===p.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(p)),I.queue((0,d.Z)(function*(){yield I.directlySetCurrentUser(p),I.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(rr(p))}))}initializeRecaptchaConfig(){var p=this;return(0,d.Z)(function*(){const m=yield Le(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new nn(m);null==p.tenantId?p._agentRecaptchaConfig=I:p._tenantRecaptchaConfigs[p.tenantId]=I,I.emailPasswordEnabled&&new ei(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,m,I){return this.registerStateListener(this.authStateSubscription,p,m,I)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,I){return this.registerStateListener(this.idTokenSubscription,p,m,I)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var I=this;return(0,d.Z)(function*(){const M=yield I.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const I=p&&rr(p)||m._popupRedirectResolver;ee(I,m,"argument-error"),m.redirectPersistenceManager=yield G.create(m,[rr(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,d.Z)(function*(){var I,M;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,d.Z)(function*(){if(p===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,I,M){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,I,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=br(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var m;const I={"X-Client-Version":p.clientVersion};p.app.options.appId&&(I["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();M&&(I["X-Firebase-Client"]=M);const O=yield p._getAppCheckToken();return O&&(I["X-Firebase-AppCheck"]=O),I})()}_getAppCheckToken(){var p=this;return(0,d.Z)(function*(){var m;const I=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return I?.error&&function Dt(_,...p){Pe.logLevel<=ie.in.WARN&&Pe.warn(`Auth (${P.SDK_VERSION}): ${_}`,...p)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Kn(_){return(0,B.m9)(_)}class Mg{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gd(_,p,m){const I=Kn(_);ee(I._canInitEmulator,I,"emulator-config-failed"),ee(/^https?:\/\//.test(p),I,"invalid-emulator-scheme");const M=!!m?.disableWarnings,O=Iu(p),{host:Z,port:le}=function Qo(_){const p=Iu(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(I);if(M){const O=M[1];return{host:O,port:Rc(I.substr(O.length+1))}}{const[O,Z]=I.split(":");return{host:O,port:Rc(Z)}}}(p);I.config.emulator={url:`${O}//${Z}${null===le?"":`:${le}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Z,port:le,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function af(){function _(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function Iu(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Rc(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class Pa{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return tt("not implemented")}_getIdTokenResponse(p){return tt("not implemented")}_linkToIdToken(p,m){return tt("not implemented")}_getReauthenticationResolver(p){return tt("not implemented")}}function Oa(_,p){return md.apply(this,arguments)}function md(){return(md=(0,d.Z)(function*(_,p){return ot(_,"POST","/v1/accounts:resetPassword",Qe(_,p))})).apply(this,arguments)}function Du(_,p){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,d.Z)(function*(_,p){return ot(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(_,p){return ot(_,"POST","/v1/accounts:update",Qe(_,p))})).apply(this,arguments)}function vr(_,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.Z)(function*(_,p){return rn(_,"POST","/v1/accounts:signInWithPassword",Qe(_,p))})).apply(this,arguments)}function Ts(_,p){return $r.apply(this,arguments)}function $r(){return($r=(0,d.Z)(function*(_,p){return ot(_,"POST","/v1/accounts:sendOobCode",Qe(_,p))})).apply(this,arguments)}function ka(){return(ka=(0,d.Z)(function*(_,p){return Ts(_,p)})).apply(this,arguments)}function Jo(_,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,d.Z)(function*(_,p){return Ts(_,p)})).apply(this,arguments)}function yd(_,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(_,p){return Ts(_,p)})).apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(_,p){return Ts(_,p)})).apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(_,p){return rn(_,"POST","/v1/accounts:signInWithEmailLink",Qe(_,p))})).apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(_,p){return rn(_,"POST","/v1/accounts:signInWithEmailLink",Qe(_,p))})).apply(this,arguments)}class As extends Pa{constructor(p,m,I,M=null){super("password",I),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new As(p,m,"password")}static _fromEmailAndCode(p,m,I=null){return new As(p,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,d.Z)(function*(){var I;switch(m.signInMethod){case"password":const M={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=p._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const O=yield Gs(p,M,"signInWithPassword");return vr(p,O)}return vr(p,M).catch(function(){var O=(0,d.Z)(function*(Z){if("auth/missing-recaptcha-token"===Z.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const le=yield Gs(p,M,"signInWithPassword");return vr(p,le)}return Promise.reject(Z)});return function(Z){return O.apply(this,arguments)}}());case"emailLink":return function Nn(_,p){return Gr.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:te(p,"internal-error")}})()}_linkToIdToken(p,m){var I=this;return(0,d.Z)(function*(){switch(I.signInMethod){case"password":return Du(p,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function bu(_,p){return Tr.apply(this,arguments)}(p,{idToken:m,email:I._email,oobCode:I._password});default:te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function yn(_,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,d.Z)(function*(_,p){return rn(_,"POST","/v1/accounts:signInWithIdp",Qe(_,p))})).apply(this,arguments)}class Tt extends Pa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Tt(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:M}=m,O=(0,Q._T)(m,["providerId","signInMethod"]);if(!I||!M)return null;const Z=new Tt(I,M);return Z.idToken=O.idToken||void 0,Z.accessToken=O.accessToken||void 0,Z.secret=O.secret,Z.nonce=O.nonce,Z.pendingToken=O.pendingToken||null,Z}_getIdTokenResponse(p){return yn(p,this.buildRequest())}_linkToIdToken(p,m){const I=this.buildRequest();return I.idToken=m,yn(p,I)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,yn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,B.xO)(m)}return p}}function Tu(){return(Tu=(0,d.Z)(function*(_,p){return ot(_,"POST","/v1/accounts:sendVerificationCode",Qe(_,p))})).apply(this,arguments)}function An(){return(An=(0,d.Z)(function*(_,p){return rn(_,"POST","/v1/accounts:signInWithPhoneNumber",Qe(_,p))})).apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(_,p){const m=yield rn(_,"POST","/v1/accounts:signInWithPhoneNumber",Qe(_,p));if(m.temporaryProof)throw or(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const os={USER_NOT_FOUND:"user-not-found"};function Su(){return(Su=(0,d.Z)(function*(_,p){return rn(_,"POST","/v1/accounts:signInWithPhoneNumber",Qe(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),os)})).apply(this,arguments)}class Ar extends Pa{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Ar({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Ar({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function zs(_,p){return An.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Au(_,p){return wo.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Xo(_,p){return Su.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:I,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:I,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:I,phoneNumber:M,temporaryProof:O}=p;return I||m||M||O?new Ar({verificationId:m,verificationCode:I,phoneNumber:M,temporaryProof:O}):null}}class $i{constructor(p){var m,I,M,O,Z,le;const Be=(0,B.zd)((0,B.pd)(p)),Je=null!==(m=Be.apiKey)&&void 0!==m?m:null,It=null!==(I=Be.oobCode)&&void 0!==I?I:null,Kt=function zr(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Be.mode)&&void 0!==M?M:null);ee(Je&&It&&Kt,"argument-error"),this.apiKey=Je,this.operation=Kt,this.code=It,this.continueUrl=null!==(O=Be.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=Be.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(le=Be.tenantId)&&void 0!==le?le:null}static parseLink(p){const m=function Pc(_){const p=(0,B.zd)((0,B.pd)(_)).link,m=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,I=(0,B.zd)((0,B.pd)(_)).deep_link_id;return(I?(0,B.zd)((0,B.pd)(I)).link:null)||I||m||p||_}(p);try{return new $i(m)}catch{return null}}}let cf=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,I){return As._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const M=$i.parseLink(I);return ee(M,"argument-error"),As._fromEmailAndCode(m,M.code,M.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class as{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Eo extends as{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class hi extends Eo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ee("providerId"in m&&"signInMethod"in m,"argument-error"),Tt._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ee(p.idToken||p.accessToken,"argument-error"),Tt._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return hi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return hi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:M,pendingToken:O,nonce:Z,providerId:le}=p;if(!I&&!M&&!m&&!O||!le)return null;try{return new hi(le)._credential({idToken:m,accessToken:I,nonce:Z,pendingToken:O})}catch{return null}}}let Io=(()=>{class _ extends Eo{constructor(){super("facebook.com")}static credential(m){return Tt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ea=(()=>{class _ extends Eo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return Tt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:M}=m;if(!I&&!M)return null;try{return _.credential(I,M)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),ta=(()=>{class _ extends Eo{constructor(){super("github.com")}static credential(m){return Tt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ua extends Pa{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return yn(p,this.buildRequest())}_linkToIdToken(p,m){const I=this.buildRequest();return I.idToken=m,yn(p,I)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,yn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:M,pendingToken:O}=m;return I&&M&&O&&I===M?new Ua(I,O):null}static _create(p,m){return new Ua(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Or extends as{constructor(p){ee(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Or.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Or.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Ua.fromJSON(p);return ee(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:I}=p;if(!m||!I)return null;try{return Ua._create(I,m)}catch{return null}}}let Oc=(()=>{class _ extends Eo{constructor(){super("twitter.com")}static credential(m,I){return Tt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:M}=m;if(!I||!M)return null;try{return _.credential(I,M)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Gi(_,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,d.Z)(function*(_,p){return rn(_,"POST","/v1/accounts:signUp",Qe(_,p))})).apply(this,arguments)}class wn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,I,M=!1){return(0,d.Z)(function*(){const O=yield Zn._fromIdTokenResponse(p,I,M),Z=na(I);return new wn({user:O,providerId:Z,_tokenResponse:I,operationType:m})})()}static _forOperation(p,m,I){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const M=na(I);return new wn({user:p,providerId:M,_tokenResponse:I,operationType:m})})()}}function na(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function vd(_){return kc.apply(this,arguments)}function kc(){return(kc=(0,d.Z)(function*(_){var p;const m=Kn(_);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new wn({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield Gi(m,{returnSecureToken:!0}),M=yield wn._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class Fc extends B.ZR{constructor(p,m,I,M){var O;super(m.code,m.message),this.operationType=I,this.user=M,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(p,m,I,M){return new Fc(p,m,I,M)}}function Lc(_,p,m,I){return("reauthenticate"===p?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Fc._fromErrorAndOperation(_,O,p,I):O})}function lf(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function Rg(_,p){return _d.apply(this,arguments)}function _d(){return _d=(0,d.Z)(function*(_,p){const m=(0,B.m9)(_);yield Vc(!0,m,p);const{providerUserInfo:I}=yield function Fn(_,p){return Ti.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=lf(I||[]);return m.providerData=m.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),_d.apply(this,arguments)}function us(_,p){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,d.Z)(function*(_,p,m=!1){const I=yield Qt(_,p._linkToIdToken(_.auth,yield _.getIdToken()),m);return wn._forOperation(_,"link",I)})).apply(this,arguments)}function Vc(_,p,m){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,d.Z)(function*(_,p,m){yield ss(p);const M=!1===_?"provider-already-linked":"no-such-provider";ee(lf(p.providerData).has(m)===_,p.auth,M)})).apply(this,arguments)}function df(_,p){return wd.apply(this,arguments)}function wd(){return(wd=(0,d.Z)(function*(_,p,m=!1){const{auth:I}=_,M="reauthenticate";try{const O=yield Qt(_,Lc(I,M,p,_),m);ee(O.idToken,I,"internal-error");const Z=dt(O.idToken);ee(Z,I,"internal-error");const{sub:le}=Z;return ee(_.uid===le,I,"user-mismatch"),wn._forOperation(_,M,O)}catch(O){throw"auth/user-not-found"===O?.code&&te(I,"user-mismatch"),O}})).apply(this,arguments)}function Ed(_,p){return Id.apply(this,arguments)}function Id(){return(Id=(0,d.Z)(function*(_,p,m=!1){const I="signIn",M=yield Lc(_,I,p),O=yield wn._fromIdTokenResponse(_,I,M);return m||(yield _._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Bc(_,p){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,d.Z)(function*(_,p){return Ed(Kn(_),p)})).apply(this,arguments)}function xu(_,p){return jc.apply(this,arguments)}function jc(){return(jc=(0,d.Z)(function*(_,p){const m=(0,B.m9)(_);return yield Vc(!1,m,p.providerId),us(m,p)})).apply(this,arguments)}function hf(_,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(_,p){return df((0,B.m9)(_),p)})).apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(_,p){return rn(_,"POST","/v1/accounts:signInWithCustomToken",Qe(_,p))})).apply(this,arguments)}function Ng(_,p){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,d.Z)(function*(_,p){const m=Kn(_),I=yield function Iv(_,p){return Ws.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),M=yield wn._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(M.user),M}),Zs.apply(this,arguments)}class ti{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Hc._fromServerResponse(p,m):"totpInfo"in m?Va._fromServerResponse(p,m):te(p,"internal-error")}}class Hc extends ti{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Hc(m)}}class Va extends ti{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Va(m)}}function Ba(_,p,m){var I;ee((null===(I=m.url)||void 0===I?void 0:I.length)>0,_,"invalid-continue-uri"),ee(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ee(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ee(m.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ff(_,p,m){return pf.apply(this,arguments)}function pf(){return pf=(0,d.Z)(function*(_,p,m){var I;const M=Kn(_),O={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Z=yield Gs(M,O,"getOobCode",!0);m&&Ba(M,Z,m),yield Jo(M,Z)}else m&&Ba(M,O,m),yield Jo(M,O).catch(function(){var Z=(0,d.Z)(function*(le){if("auth/missing-recaptcha-token"!==le.code)return Promise.reject(le);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Be=yield Gs(M,O,"getOobCode",!0);m&&Ba(M,Be,m),yield Jo(M,Be)}});return function(le){return Z.apply(this,arguments)}}())}),pf.apply(this,arguments)}function Ru(_,p,m){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,d.Z)(function*(_,p,m){yield Oa((0,B.m9)(_),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Nu(_,p){return jn.apply(this,arguments)}function jn(){return jn=(0,d.Z)(function*(_,p){yield function uf(_,p){return Vt.apply(this,arguments)}((0,B.m9)(_),{oobCode:p})}),jn.apply(this,arguments)}function fi(_,p){return $c.apply(this,arguments)}function $c(){return($c=(0,d.Z)(function*(_,p){const m=(0,B.m9)(_),I=yield Oa(m,{oobCode:p}),M=I.requestType;switch(ee(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(I.mfaInfo,m,"internal-error");default:ee(I.email,m,"internal-error")}let O=null;return I.mfaInfo&&(O=ti._fromServerResponse(Kn(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function Pu(_,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(_,p){const{data:m}=yield fi((0,B.m9)(_),p);return m.email})).apply(this,arguments)}function Co(_,p,m){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,d.Z)(function*(_,p,m){var I;const M=Kn(_),O={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let Z;if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Je=yield Gs(M,O,"signUpPassword");Z=Gi(M,Je)}else Z=Gi(M,O).catch(function(){var Je=(0,d.Z)(function*(It){if("auth/missing-recaptcha-token"===It.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Kt=yield Gs(M,O,"signUpPassword");return Gi(M,Kt)}return Promise.reject(It)});return function(It){return Je.apply(this,arguments)}}());const le=yield Z.catch(Je=>Promise.reject(Je)),Be=yield wn._fromIdTokenResponse(M,"signIn",le);return yield M._updateCurrentUser(Be.user),Be}),Ou.apply(this,arguments)}function gf(_,p,m){return Bc((0,B.m9)(_),cf.credential(p,m))}function Cd(_,p,m){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,d.Z)(function*(_,p,m){var I;const M=Kn(_),O={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Z(le,Be){ee(Be.handleCodeInApp,M,"argument-error"),Be&&Ba(M,le,Be)}if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const le=yield Gs(M,O,"getOobCode",!0);Z(le,m),yield yd(M,le)}else Z(O,m),yield yd(M,O).catch(function(){var le=(0,d.Z)(function*(Be){if("auth/missing-recaptcha-token"!==Be.code)return Promise.reject(Be);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Je=yield Gs(M,O,"getOobCode",!0);Z(Je,m),yield yd(M,Je)}});return function(Be){return le.apply(this,arguments)}}())}),Ks.apply(this,arguments)}function bd(_,p){const m=$i.parseLink(p);return"EMAIL_SIGNIN"===m?.operation}function Gc(_,p,m){return _r.apply(this,arguments)}function _r(){return(_r=(0,d.Z)(function*(_,p,m){const I=(0,B.m9)(_),M=cf.credentialWithLink(p,m||Xt());return ee(M._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Bc(I,M)})).apply(this,arguments)}function zc(){return(zc=(0,d.Z)(function*(_,p){return ot(_,"POST","/v1/accounts:createAuthUri",Qe(_,p))})).apply(this,arguments)}function Pg(_,p){return ja.apply(this,arguments)}function ja(){return ja=(0,d.Z)(function*(_,p){const I={identifier:p,continueUri:sr()?Xt():"http://localhost"},{signinMethods:M}=yield function Dv(_,p){return zc.apply(this,arguments)}((0,B.m9)(_),I);return M||[]}),ja.apply(this,arguments)}function mf(_,p){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,d.Z)(function*(_,p){const m=(0,B.m9)(_),M={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&Ba(m.auth,M,p);const{email:O}=yield function Nc(_,p){return ka.apply(this,arguments)}(m.auth,M);O!==_.email&&(yield _.reload())}),Ha.apply(this,arguments)}function ku(_,p,m){return ra.apply(this,arguments)}function ra(){return ra=(0,d.Z)(function*(_,p,m){const I=(0,B.m9)(_),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};m&&Ba(I.auth,O,m);const{email:Z}=yield function it(_,p){return kt.apply(this,arguments)}(I.auth,O);Z!==_.email&&(yield _.reload())}),ra.apply(this,arguments)}function Wc(){return(Wc=(0,d.Z)(function*(_,p){return ot(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function yf(_,p){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,d.Z)(function*(_,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const I=(0,B.m9)(_),O={idToken:yield I.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Z=yield Qt(I,function qc(_,p){return Wc.apply(this,arguments)}(I.auth,O));I.displayName=Z.displayName||null,I.photoURL=Z.photoUrl||null;const le=I.providerData.find(({providerId:Be})=>"password"===Be);le&&(le.displayName=I.displayName,le.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Z)}),Zc.apply(this,arguments)}function Td(_,p){return Yc((0,B.m9)(_),p,null)}function Kc(_,p){return Yc((0,B.m9)(_),null,p)}function Yc(_,p,m){return zi.apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(_,p,m){const{auth:I}=_,O={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const Z=yield Qt(_,Du(I,O));yield _._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class bo{constructor(p,m,I={}){this.isNewUser=p,this.providerId=m,this.profile=I}}class vn extends bo{constructor(p,m,I,M){super(p,m,I),this.username=M}}class Fu extends bo{constructor(p,m){super(p,"facebook.com",m)}}class ia extends vn{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class kr extends bo{constructor(p,m){super(p,"google.com",m)}}class sa extends vn{constructor(p,m,I){super(p,"twitter.com",m,I)}}function Ad(_){const{user:p,_tokenResponse:m}=_;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Qc(_){var p,m;if(!_)return null;const{providerId:I}=_,M=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},O=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!I&&_?.idToken){const Z=null===(m=null===(p=dt(_.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new bo(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!I)return null;switch(I){case"facebook.com":return new Fu(O,M);case"github.com":return new ia(O,M);case"google.com":return new kr(O,M);case"twitter.com":return new sa(O,M,_.screenName||null);case"custom":case"anonymous":return new bo(O,null);default:return new bo(O,I,M)}}(m)}class Mi{constructor(p,m,I){this.type=p,this.credential=m,this.auth=I}static _fromIdtoken(p,m){return new Mi("enroll",p,m)}static _fromMfaPendingCredential(p){return new Mi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,I;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Mi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(I=p.multiFactorSession)&&void 0!==I&&I.idToken)return Mi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Uu{constructor(p,m,I){this.session=p,this.hints=m,this.signInResolver=I}static _fromError(p,m){const I=Kn(p),M=m.customData._serverResponse,O=(M.mfaInfo||[]).map(le=>ti._fromServerResponse(I,le));ee(M.mfaPendingCredential,I,"internal-error");const Z=Mi._fromMfaPendingCredential(M.mfaPendingCredential);return new Uu(Z,O,function(){var le=(0,d.Z)(function*(Be){const Je=yield Be._process(I,Z);delete M.mfaInfo,delete M.mfaPendingCredential;const It=Object.assign(Object.assign({},M),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(m.operationType){case"signIn":const Kt=yield wn._fromIdTokenResponse(I,m.operationType,It);return yield I._updateCurrentUser(Kt.user),Kt;case"reauthenticate":return ee(m.user,I,"internal-error"),wn._forOperation(m.user,m.operationType,It);default:te(I,"internal-error")}});return function(Be){return le.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,d.Z)(function*(){return m.signInResolver(p)})()}}function At(_,p){var m;const I=(0,B.m9)(_),M=p;return ee(p.customData.operationType,I,"argument-error"),ee(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),Uu._fromError(I,M)}class $a{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>ti._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new $a(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Mi._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var I=this;return(0,d.Z)(function*(){const M=p,O=yield I.getSession(),Z=yield Qt(I.user,M._process(I.user.auth,O,m));return yield I.user._updateTokensIfNecessary(Z),I.user.reload()})()}unenroll(p){var m=this;return(0,d.Z)(function*(){const I="string"==typeof p?p:p.uid,M=yield m.user.getIdToken();try{const O=yield Qt(m.user,function _f(_,p){return ot(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Qe(_,p))}(m.user.auth,{idToken:M,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Z})=>Z!==I),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const qi=new WeakMap;function Vu(_){const p=(0,B.m9)(_);return qi.has(p)||qi.set(p,$a._fromUser(p)),qi.get(p)}const Ga="__sak";class wf{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ga,"1"),this.storage.removeItem(Ga),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const tl=(()=>{class _ extends wf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Nd(){const _=(0,B.z$)();return F(_)||wt(_)}()&&function mr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ut(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const M=this.storage.getItem(I),O=this.localCache[I];M!==O&&m(I,O,M)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((le,Be,Je)=>{this.notifyListeners(le,Je)});const M=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(M);if(m.newValue!==le)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!I)return}const O=()=>{const le=this.storage.getItem(M);!I&&this.localCache[M]===le||this.notifyListeners(M,le)},Z=this.storage.getItem(M);!function gn(){return(0,B.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,I){this.localCache[m]=I;const M=this.listeners[m];if(M)for(const O of Array.from(M))O(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var M=()=>super._set,O=this;return(0,d.Z)(function*(){yield M().call(O,m,I),O.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,M=this;return(0,d.Z)(function*(){const O=yield I().call(M,m);return M.localCache[m]=JSON.stringify(O),O})()}_remove(m){var I=()=>super._remove,M=this;return(0,d.Z)(function*(){yield I().call(M,m),delete M.localCache[m]})()}}return _.type="LOCAL",_})(),ur=(()=>{class _ extends wf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return _.type="SESSION",_})();let ju=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(O=>O.isListeningto(m));if(I)return I;const M=new _(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,d.Z)(function*(){const M=m,{eventId:O,eventType:Z,data:le}=M.data,Be=I.handlersMap[Z];if(!Be?.size)return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const Je=Array.from(Be).map(function(){var Kt=(0,d.Z)(function*(si){return si(M.origin,le)});return function(si){return Kt.apply(this,arguments)}}()),It=yield function If(_){return Promise.all(_.map(function(){var p=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return p.apply(this,arguments)}}()))}(Je);M.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:It})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function qr(_="",p=10){let m="";for(let I=0;I<p;I++)m+=Math.floor(10*Math.random());return _+m}class Df{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,I=50){var M=this;return(0,d.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,le;return new Promise((Be,Je)=>{const It=qr("",20);O.port1.start();const Kt=setTimeout(()=>{Je(new Error("unsupported_event"))},I);le={messageChannel:O,onMessage(si){const ko=si;if(ko.data.eventId===It)switch(ko.data.status){case"ack":clearTimeout(Kt),Z=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Be(ko.data.response);break;default:clearTimeout(Kt),clearTimeout(Z),Je(new Error("invalid_response"))}}},M.handlers.add(le),O.port1.addEventListener("message",le.onMessage),M.target.postMessage({eventType:p,eventId:It,data:m},[O.port2])}).finally(()=>{le&&M.removeMessageHandler(le)})})()}}function Hn(){return window}function Pd(){return typeof Hn().WorkerGlobalScope<"u"&&"function"==typeof Hn().importScripts}function Mr(){return(Mr=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Sn="firebaseLocalStorageDb",cr="firebaseLocalStorage",rl="fbase_key";class za{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function $u(_,p){return _.transaction([cr],p?"readwrite":"readonly").objectStore(cr)}function qa(){const _=indexedDB.open(Sn,1);return new Promise((p,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const I=_.result;try{I.createObjectStore(cr,{keyPath:rl})}catch(M){m(M)}}),_.addEventListener("success",(0,d.Z)(function*(){const I=_.result;I.objectStoreNames.contains(cr)?p(I):(I.close(),yield function kd(){const _=indexedDB.deleteDatabase(Sn);return new za(_).toPromise()}(),p(yield qa()))}))})}function Gu(_,p,m){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(_,p,m){const I=$u(_,!0).put({[rl]:p,value:m});return new za(I).toPromise()})).apply(this,arguments)}function aa(){return(aa=(0,d.Z)(function*(_,p){const m=$u(_,!1).get(p),I=yield new za(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function zu(_,p){const m=$u(_,!0).delete(p);return new za(m).toPromise()}const Fd=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield qa()),m.db})()}_withRetries(m){var I=this;return(0,d.Z)(function*(){let M=0;for(;;)try{const O=yield I._openDb();return yield m(O)}catch(O){if(M++>3)throw O;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Pd()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=ju._getInstance(function Hu(){return Pd()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,d.Z)(function*(M,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(M,O){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,d.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var I,M;if(m.activeServiceWorker=yield function Od(){return Mr.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Df(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);O&&null!==(I=O[0])&&void 0!==I&&I.fulfilled&&null!==(M=O[0])&&void 0!==M&&M.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,d.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function ls(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield qa();return yield Gu(m,Ga,"1"),yield zu(m,Ga),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,d.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var M=this;return(0,d.Z)(function*(){return M._withPendingWrite((0,d.Z)(function*(){return yield M._withRetries(O=>Gu(O,m,I)),M.localCache[m]=I,M.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,d.Z)(function*(){const M=yield I._withRetries(O=>function Js(_,p){return aa.apply(this,arguments)}(O,m));return I.localCache[m]=M,M})()}_remove(m){var I=this;return(0,d.Z)(function*(){return I._withPendingWrite((0,d.Z)(function*(){return yield I._withRetries(M=>zu(M,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const I=yield m._withRetries(Z=>{const le=$u(Z,!1).getAll();return new za(le).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:Z,value:le}of I)O.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(le)&&(m.notifyListeners(Z,le),M.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!O.has(Z)&&(m.notifyListeners(Z,null),M.push(Z));return M})()}notifyListeners(m,I){this.localCache[m]=I;const M=this.listeners[m];if(M)for(const O of Array.from(M))O(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),In=1e12;class sl{constructor(p){this.auth=p,this.counter=In,this._widgets=new Map}render(p,m){const I=this.counter;return this._widgets.set(I,new Cf(p,this.auth.name,m||{})),this.counter++,I}reset(p){var m;const I=p||In;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(p){var m;return(null===(m=this._widgets.get(p||In))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,d.Z)(function*(){var I;return null===(I=m._widgets.get(p||In))||void 0===I||I.execute(),""})()}}class Cf{constructor(p,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;ee(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ol(_){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<_;I++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vd=$s("rcb"),Bd=new we(3e4,6e4);class Wa{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Hn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return ee(function To(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&xt(Hn().grecaptcha)?Promise.resolve(Hn().grecaptcha):new Promise((I,M)=>{const O=Hn().setTimeout(()=>{M(De(p,"network-request-failed"))},Bd.get());Hn()[Vd]=()=>{Hn().clearTimeout(O),delete Hn()[Vd];const le=Hn().grecaptcha;if(!le||!xt(le))return void M(De(p,"internal-error"));const Be=le.render;le.render=(Je,It)=>{const Kt=Be(Je,It);return this.counter++,Kt},this.hostLanguage=m,I(le)},Vn(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Vd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),M(De(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Hn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class jd{load(p){return(0,d.Z)(function*(){return new sl(p)})()}clearedOneInstance(){}}const Wu="recaptcha",Za={theme:"light",type:"image"};class ul{constructor(p,m=Object.assign({},Za),I){this.parameters=m,this.type=Wu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(I),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;ee(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jd:new Wa,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),I=p.getAssertedRecaptcha();return I.getResponse(m)||new Promise(O=>{const Z=le=>{le&&(p.tokenChangeListeners.delete(Z),O(le))};p.tokenChangeListeners.add(Z),p.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof p)p(m);else if("string"==typeof p){const I=Hn()[p];"function"==typeof I&&I(m)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){ee(sr()&&!Pd(),p.auth,"internal-error"),yield function Zu(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function he(_){return re.apply(this,arguments)}(p.auth);ee(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ri{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Ar._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function eo(_,p,m){return cl.apply(this,arguments)}function cl(){return(cl=(0,d.Z)(function*(_,p,m){const I=Kn(_),M=yield Ao(I,p,(0,B.m9)(m));return new ri(M,O=>Bc(I,O))})).apply(this,arguments)}function on(_,p,m){return pt.apply(this,arguments)}function pt(){return(pt=(0,d.Z)(function*(_,p,m){const I=(0,B.m9)(_);yield Vc(!1,I,"phone");const M=yield Ao(I.auth,p,(0,B.m9)(m));return new ri(M,O=>xu(I,O))})).apply(this,arguments)}function pi(_,p,m){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,d.Z)(function*(_,p,m){const I=(0,B.m9)(_),M=yield Ao(I.auth,p,(0,B.m9)(m));return new ri(M,O=>hf(I,O))})).apply(this,arguments)}function Ao(_,p,m){return ll.apply(this,arguments)}function ll(){return ll=(0,d.Z)(function*(_,p,m){var I;const M=yield m.verify();try{let O;if(ee("string"==typeof M,_,"argument-error"),ee(m.type===Wu,_,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Z=O.session;if("phoneNumber"in O)return ee("enroll"===Z.type,_,"internal-error"),(yield function Xc(_,p){return ot(_,"POST","/v2/accounts/mfaEnrollment:start",Qe(_,p))}(_,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ee("signin"===Z.type,_,"internal-error");const le=(null===(I=O.multiFactorHint)||void 0===I?void 0:I.uid)||O.multiFactorUid;return ee(le,_,"missing-multi-factor-info"),(yield function Ld(_,p){return ot(_,"POST","/v2/accounts/mfaSignIn:start",Qe(_,p))}(_,{mfaPendingCredential:Z.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield function La(_,p){return Tu.apply(this,arguments)}(_,{phoneNumber:O.phoneNumber,recaptchaToken:M});return Z}}finally{m._reset()}}),ll.apply(this,arguments)}function bf(_,p){return ua.apply(this,arguments)}function ua(){return(ua=(0,d.Z)(function*(_,p){yield us((0,B.m9)(_),p)})).apply(this,arguments)}let Lg=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Kn(m)}verifyPhoneNumber(m,I){return Ao(this.auth,m,(0,B.m9)(I))}static credential(m,I){return Ar._fromVerification(m,I)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:M}=m;return I&&M?Ar._fromTokenResponse(I,M):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Wi(_,p){return p?rr(p):(ee(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Pt extends Pa{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return yn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return yn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return yn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function gi(_){return Ed(_.auth,new Pt(_),_.bypassAuthState)}function Hd(_){const{auth:p,user:m}=_;return ee(m,p,"internal-error"),df(m,new Pt(_),_.bypassAuthState)}function ca(_){return xi.apply(this,arguments)}function xi(){return(xi=(0,d.Z)(function*(_){const{auth:p,user:m}=_;return ee(m,p,"internal-error"),us(m,new Pt(_),_.bypassAuthState)})).apply(this,arguments)}class So{constructor(p,m,I,M,O=!1){this.auth=p,this.resolver=I,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,d.Z)(function*(I,M){p.pendingPromise={resolve:I,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(I,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,d.Z)(function*(){const{urlResponse:I,sessionId:M,postBody:O,tenantId:Z,error:le,type:Be}=p;if(le)return void m.reject(le);const Je={auth:m.auth,requestUri:I,sessionId:M,tenantId:Z||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Be)(Je))}catch(It){m.reject(It)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return gi;case"linkViaPopup":case"linkViaRedirect":return ca;case"reauthViaPopup":case"reauthViaRedirect":return Hd;default:te(this.auth,"internal-error")}}resolve(p){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mi=new we(2e3,1e4);function Zi(_,p,m){return to.apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(_,p,m){const I=Kn(_);fe(_,p,as);const M=Wi(I,m);return new Ss(I,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Ug(_,p,m){return yi.apply(this,arguments)}function yi(){return(yi=(0,d.Z)(function*(_,p,m){const I=(0,B.m9)(_);fe(I.auth,p,as);const M=Wi(I.auth,m);return new Ss(I.auth,"reauthViaPopup",p,M,I).executeNotNull()})).apply(this,arguments)}function Tf(_,p,m){return no.apply(this,arguments)}function no(){return(no=(0,d.Z)(function*(_,p,m){const I=(0,B.m9)(_);fe(I.auth,p,as);const M=Wi(I.auth,m);return new Ss(I.auth,"linkViaPopup",p,M,I).executeNotNull()})).apply(this,arguments)}let Ss=(()=>{class _ extends So{constructor(m,I,M,O,Z){super(m,I,O,Z),this.provider=M,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const I=yield m.execute();return ee(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,d.Z)(function*(){je(1===m.filter.length,"Popup operations only handle one event");const I=qr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(De(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,M;this.pollId=null!==(M=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,mi.get())};m()}}return _.currentPopupAction=null,_})();const $d="pendingRedirect",Ki=new Map;class Yu extends So{constructor(p,m,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,d.Z)(function*(){let I=Ki.get(m.auth._key());if(!I){try{const O=(yield function Af(_,p){return la.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;I=()=>Promise.resolve(O)}catch(M){I=()=>Promise.reject(M)}Ki.set(m.auth._key(),I)}return m.bypassAuthState||Ki.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,I=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(I,p);if("unknown"!==p.type){if(p.eventId){const M=yield I.auth._redirectUserForId(p.eventId);if(M)return I.user=M,m().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function la(){return(la=(0,d.Z)(function*(_,p){const m=ro(p),I=xo(_);if(!(yield I._isAvailable()))return!1;const M="true"===(yield I._get(m));return yield I._remove(m),M})).apply(this,arguments)}function Mo(_,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(_,p){return xo(_)._set(ro(p),"true")})).apply(this,arguments)}function Gd(){Ki.clear()}function vi(_,p){Ki.set(_._key(),p)}function xo(_){return rr(_._redirectPersistence)}function ro(_){return Jt($d,_.config.apiKey,_.name)}function io(_,p,m){return function $n(_,p,m){return Ms.apply(this,arguments)}(_,p,m)}function Ms(){return(Ms=(0,d.Z)(function*(_,p,m){const I=Kn(_);fe(_,p,as),yield I._initializationPromise;const M=Wi(I,m);return yield Mo(M,I),M._openRedirect(I,p,"signInViaRedirect")})).apply(this,arguments)}function xs(_,p,m){return function Ri(_,p,m){return wr.apply(this,arguments)}(_,p,m)}function wr(){return(wr=(0,d.Z)(function*(_,p,m){const I=(0,B.m9)(_);fe(I.auth,p,as),yield I.auth._initializationPromise;const M=Wi(I.auth,m);yield Mo(M,I.auth);const O=yield hl(I);return M._openRedirect(I.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function da(_,p,m){return function zd(_,p,m){return dl.apply(this,arguments)}(_,p,m)}function dl(){return(dl=(0,d.Z)(function*(_,p,m){const I=(0,B.m9)(_);fe(I.auth,p,as),yield I.auth._initializationPromise;const M=Wi(I.auth,m);yield Vc(!1,I,p.providerId),yield Mo(M,I.auth);const O=yield hl(I);return M._openRedirect(I.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function fs(_,p){return _i.apply(this,arguments)}function _i(){return(_i=(0,d.Z)(function*(_,p){return yield Kn(_)._initializationPromise,Pn(_,p,!1)})).apply(this,arguments)}function Pn(_,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(_,p,m=!1){const I=Kn(_),M=Wi(I,p),Z=yield new Yu(I,M,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield I._persistUserIfCurrent(Z.user),yield I._setRedirectUser(null,p)),Z})).apply(this,arguments)}function hl(_){return ps.apply(this,arguments)}function ps(){return(ps=(0,d.Z)(function*(_){const p=qr(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class fl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(m=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Bt(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ro(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var I;if(p.error&&!Ro(p)){const M=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(De(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const I=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qu(p))}saveEventToCache(p){this.cachedEventUids.add(Qu(p)),this.lastProcessedEventTime=Date.now()}}function Qu(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function Ro({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===p?.code}function No(_){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,d.Z)(function*(_,p={}){return ot(_,"GET","/v1/projects",p)})).apply(this,arguments)}const Ju=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cv=/^https?/;function Yi(){return(Yi=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield No(_);for(const m of p)try{if(ha(m))return}catch{}te(_,"unauthorized-domain")})).apply(this,arguments)}function ha(_){const p=Xt(),{protocol:m,hostname:I}=new URL(p);if(_.startsWith("chrome-extension://")){const Z=new URL(_);return""===Z.hostname&&""===I?"chrome-extension:"===m&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===I}if(!Cv.test(m))return!1;if(Ju.test(_))return I===_;const M=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(I)}const Qn=new we(3e4,6e4);function Rs(){const _=Hn().___jsl;if(_?.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Qi=null;const Ji=new we(5e3,15e3),pl="__/auth/iframe",gl="emulator/auth/iframe",Po={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ml(_){const p=_.config;ee(p.authDomain,_,"auth-domain-config-required");const m=p.emulator?Te(p,gl):`https://${_.config.authDomain}/${pl}`,I={apiKey:p.apiKey,appName:_.name,v:P.SDK_VERSION},M=qd.get(_.config.apiHost);M&&(I.eid=M);const O=_._getFrameworks();return O.length&&(I.fw=O.join(",")),`${m}?${(0,B.xO)(I).slice(1)}`}function E(){return E=(0,d.Z)(function*(_){const p=yield function wi(_){return Qi=Qi||function Ya(_){return new Promise((p,m)=>{var I,M,O;function Z(){Rs(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Rs(),m(De(_,"network-request-failed"))},timeout:Qn.get()})}if(null!==(M=null===(I=Hn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Hn().gapi)||void 0===O||!O.load){const le=$s("iframefcb");return Hn()[le]=()=>{gapi.load?Z():m(De(_,"network-request-failed"))},Vn(`https://apis.google.com/js/api.js?onload=${le}`).catch(Be=>m(Be))}Z()}}).catch(p=>{throw Qi=null,p})}(_),Qi}(_),m=Hn().gapi;return ee(m,_,"internal-error"),p.open({where:document.body,url:ml(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Po,dontclear:!0},I=>new Promise(function(){var M=(0,d.Z)(function*(O,Z){yield I.restyle({setHideOnLeave:!1});const le=De(_,"network-request-failed"),Be=Hn().setTimeout(()=>{Z(le)},Ji.get());function Je(){Hn().clearTimeout(Be),O(I)}I.ping(Je).then(Je,()=>{Z(le)})});return function(O,Z){return M.apply(this,arguments)}}()))}),E.apply(this,arguments)}const b={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class de{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ut="__/auth/handler",Ot="emulator/auth/handler",Rt=encodeURIComponent("fac");function Fr(_,p,m,I,M,O){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,d.Z)(function*(_,p,m,I,M,O){ee(_.config.authDomain,_,"auth-domain-config-required"),ee(_.config.apiKey,_,"invalid-api-key");const Z={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:I,v:P.SDK_VERSION,eventId:M};if(p instanceof as){p.setDefaultLanguage(_.languageCode),Z.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[It,Kt]of Object.entries(O||{}))Z[It]=Kt}if(p instanceof Eo){const It=p.getScopes().filter(Kt=>""!==Kt);It.length>0&&(Z.scopes=It.join(","))}_.tenantId&&(Z.tid=_.tenantId);const le=Z;for(const It of Object.keys(le))void 0===le[It]&&delete le[It];const Be=yield _._getAppCheckToken(),Je=Be?`#${Rt}=${encodeURIComponent(Be)}`:"";return`${function Oo({config:_}){return _.emulator?Te(_,Ot):`https://${_.authDomain}/${ut}`}(_)}?${(0,B.xO)(le).slice(1)}${Je}`})).apply(this,arguments)}const Ns="webStorageSupport",Wr=class fa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ur,this._completeRedirectFn=Pn,this._overrideRedirectResult=vi}_openPopup(p,m,I,M){var O=this;return(0,d.Z)(function*(){var Z;je(null===(Z=O.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const le=yield Fr(p,m,I,Xt(),M);return function Ke(_,p,m,I=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),Z=Math.max((window.screen.availWidth-I)/2,0).toString();let le="";const Be=Object.assign(Object.assign({},b),{width:I.toString(),height:M.toString(),top:O,left:Z}),Je=(0,B.z$)().toLowerCase();m&&(le=N(Je)?"_blank":m),k(Je)&&(p=p||"http://localhost",Be.scrollbars="yes");const It=Object.entries(Be).reduce((si,[ko,Rf])=>`${si}${ko}=${Rf},`,"");if(function Mt(_=(0,B.z$)()){var p;return wt(_)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Je)&&"_self"!==le)return function He(_,p){const m=document.createElement("a");m.href=_,m.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(p||"",le),new de(null);const Kt=window.open(p||"",le,It);ee(Kt,_,"popup-blocked");try{Kt.focus()}catch{}return new de(Kt)}(p,le,qr())})()}_openRedirect(p,m,I,M){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(p),function nl(_){Hn().location.href=_}(yield Fr(p,m,I,Xt(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:O}=this.eventManagers[m];return M?Promise.resolve(M):(je(O,"If manager is not set, promise should be"),O)}const I=this.initAndGetManager(p);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(p){var m=this;return(0,d.Z)(function*(){const I=yield function Qa(_){return E.apply(this,arguments)}(p),M=new fl(p);return I.register("authEvent",O=>(ee(O?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=I,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Ns,{type:Ns},M=>{var O;const Z=null===(O=M?.[0])||void 0===O?void 0:O[Ns];void 0!==Z&&m(!!Z),te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ka(_){return Yi.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ut()||F()||wt()}};class so{constructor(p){this.factorId=p}_process(p,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,I);case"signin":return this._finalizeSignIn(p,m.credential);default:return tt("unexpected MultiFactorSessionType")}}}class Ja extends so{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ja(p)}_finalizeEnroll(p,m,I){return function Rd(_,p){return ot(_,"POST","/v2/accounts/mfaEnrollment:finalize",Qe(_,p))}(p,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Ud(_,p){return ot(_,"POST","/v2/accounts/mfaSignIn:finalize",Qe(_,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yl=(()=>{class _{constructor(){}static assertion(m){return Ja._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Xa="@firebase/auth";class bv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(I=>{p(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function xf(_){(0,P._registerComponent)(new pe.wA("auth",(p,{options:m})=>{const I=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),O=p.getProvider("app-check-internal"),{apiKey:Z,authDomain:le}=I.options;ee(Z&&!Z.includes(":"),"invalid-api-key",{appName:I.name});const Be={apiKey:Z,authDomain:le,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:br(_)},Je=new Na(I,M,O,Be);return function xg(_,p){const m=p?.persistence||[],I=(Array.isArray(m)?m:[m]).map(rr);p?.errorMap&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(I,p?.popupRedirectResolver)}(Je,m),Je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,I)=>{p.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new pe.wA("auth-internal",p=>{const m=Kn(p.getProvider("auth").getImmediate());return new bv(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Xa,"0.23.2",function Tv(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,P.registerVersion)(Xa,"0.23.2","esm2017")}("Browser")},9058:(gt,Ce,L)=>{L.d(Ce,{$s:()=>rr,BH:()=>se,G6:()=>Te,L:()=>ge,LL:()=>Cn,Pz:()=>De,Sg:()=>fe,UG:()=>tt,US:()=>pe,ZB:()=>ne,ZR:()=>ot,aH:()=>te,b$:()=>sr,eu:()=>$e,hl:()=>Oe,jU:()=>je,m9:()=>Jt,ne:()=>Qt,pd:()=>dt,r3:()=>Fn,ru:()=>Xt,tV:()=>$,uI:()=>ee,vZ:()=>Dr,w1:()=>Ds,xO:()=>is,xb:()=>mo,z$:()=>Ne,zI:()=>Ve,zd:()=>Ze});const Q=function(G){const j=[];let k=0;for(let F=0;F<G.length;F++){let N=G.charCodeAt(F);N<128?j[k++]=N:N<2048?(j[k++]=N>>6|192,j[k++]=63&N|128):55296==(64512&N)&&F+1<G.length&&56320==(64512&G.charCodeAt(F+1))?(N=65536+((1023&N)<<10)+(1023&G.charCodeAt(++F)),j[k++]=N>>18|240,j[k++]=N>>12&63|128,j[k++]=N>>6&63|128,j[k++]=63&N|128):(j[k++]=N>>12|224,j[k++]=N>>6&63|128,j[k++]=63&N|128)}return j},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,j){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let N=0;N<G.length;N+=3){const J=G[N],_e=N+1<G.length,ze=_e?G[N+1]:0,Et=N+2<G.length,wt=Et?G[N+2]:0;let gn=(15&ze)<<2|wt>>6,Ut=63&wt;Et||(Ut=64,_e||(gn=64)),F.push(k[J>>2],k[(3&J)<<4|ze>>4],k[gn],k[Ut])}return F.join("")},encodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(G):this.encodeByteArray(Q(G),j)},decodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(G):function(G){const j=[];let k=0,F=0;for(;k<G.length;){const N=G[k++];if(N<128)j[F++]=String.fromCharCode(N);else if(N>191&&N<224){const J=G[k++];j[F++]=String.fromCharCode((31&N)<<6|63&J)}else if(N>239&&N<365){const Et=((7&N)<<18|(63&G[k++])<<12|(63&G[k++])<<6|63&G[k++])-65536;j[F++]=String.fromCharCode(55296+(Et>>10)),j[F++]=String.fromCharCode(56320+(1023&Et))}else{const J=G[k++],_e=G[k++];j[F++]=String.fromCharCode((15&N)<<12|(63&J)<<6|63&_e)}}return j.join("")}(this.decodeStringToByteArray(G,j))},decodeStringToByteArray(G,j){this.init_();const k=j?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let N=0;N<G.length;){const J=k[G.charAt(N++)],ze=N<G.length?k[G.charAt(N)]:0;++N;const wt=N<G.length?k[G.charAt(N)]:64;++N;const Mt=N<G.length?k[G.charAt(N)]:64;if(++N,null==J||null==ze||null==wt||null==Mt)throw new ve;F.push(J<<2|ze>>4),64!==wt&&(F.push(ze<<4&240|wt>>2),64!==Mt&&F.push(wt<<6&192|Mt))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(G){return function(G){const j=Q(G);return pe.encodeByteArray(j,!0)}(G).replace(/\./g,"")},$=function(G){try{return pe.decodeString(G,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function ne(G,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return j}for(const k in j)!j.hasOwnProperty(k)||!ke(k)||(G[k]=ne(G[k],j[k]));return G}function ke(G){return"__proto__"!==G}const Pe=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=G&&$(G[1]);return j&&JSON.parse(j)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},te=()=>{var G;return null===(G=Pe())||void 0===G?void 0:G.config},De=G=>{var j;return null===(j=Pe())||void 0===j?void 0:j[`_${G}`]};class se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,k)=>{this.resolve=j,this.reject=k})}wrapCallback(j){return(k,F)=>{k?this.reject(k):this.resolve(F),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(k):j(k,F))}}}function fe(G,j){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=j||"demo-project",N=G.iat||0,J=G.sub||G.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _e=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:N,exp:N+3600,auth_time:N,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},G);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(_e)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function tt(){var G;const j=null===(G=Pe())||void 0===G?void 0:G.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function je(){return"object"==typeof self&&self.self===self}function Xt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function sr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ds(){const G=Ne();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Te(){return!tt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((G,j)=>{try{let k=!0;const F="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(F);N.onsuccess=()=>{N.result.close(),k||self.indexedDB.deleteDatabase(F),G(!0)},N.onupgradeneeded=()=>{k=!1},N.onerror=()=>{var J;j((null===(J=N.error)||void 0===J?void 0:J.message)||"")}}catch(k){j(k)}})}function Ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ot extends Error{constructor(j,k,F){super(k),this.code=j,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cn.prototype.create)}}class Cn{constructor(j,k,F){this.service=j,this.serviceName=k,this.errors=F}create(j,...k){const F=k[0]||{},N=`${this.service}/${j}`,J=this.errors[j],_e=J?function nt(G,j){return G.replace(mt,(k,F)=>{const N=j[F];return null!=N?String(N):`<${F}?>`})}(J,F):"Error";return new ot(N,`${this.serviceName}: ${_e} (${N}).`,F)}}const mt=/\{\$([^}]+)}/g;function Fn(G,j){return Object.prototype.hasOwnProperty.call(G,j)}function mo(G){for(const j in G)if(Object.prototype.hasOwnProperty.call(G,j))return!1;return!0}function Dr(G,j){if(G===j)return!0;const k=Object.keys(G),F=Object.keys(j);for(const N of k){if(!F.includes(N))return!1;const J=G[N],_e=j[N];if(Ln(J)&&Ln(_e)){if(!Dr(J,_e))return!1}else if(J!==_e)return!1}for(const N of F)if(!k.includes(N))return!1;return!0}function Ln(G){return null!==G&&"object"==typeof G}function is(G){const j=[];for(const[k,F]of Object.entries(G))Array.isArray(F)?F.forEach(N=>{j.push(encodeURIComponent(k)+"="+encodeURIComponent(N))}):j.push(encodeURIComponent(k)+"="+encodeURIComponent(F));return j.length?"&"+j.join("&"):""}function Ze(G){const j={};return G.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[N,J]=F.split("=");j[decodeURIComponent(N)]=decodeURIComponent(J)}}),j}function dt(G){const j=G.indexOf("?");if(!j)return"";const k=G.indexOf("#",j);return G.substring(j,k>0?k:void 0)}function Qt(G,j){const k=new nr(G,j);return k.subscribe.bind(k)}class nr{constructor(j,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{j(this)}).catch(F=>{this.error(F)})}next(j){this.forEachObserver(k=>{k.next(j)})}error(j){this.forEachObserver(k=>{k.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,k,F){let N;if(void 0===j&&void 0===k&&void 0===F)throw new Error("Missing Observer.");N=function Wt(G,j){if("object"!=typeof G||null===G)return!1;for(const k of j)if(k in G&&"function"==typeof G[k])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:k,complete:F},void 0===N.next&&(N.next=Wn),void 0===N.error&&(N.error=Wn),void 0===N.complete&&(N.complete=Wn);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),J}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,j)}sendOne(j,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{k(this.observers[j])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wn(){}const Un=1e3,_n=2,Zn=144e5,bn=.5;function rr(G,j=Un,k=_n){const F=j*Math.pow(k,G),N=Math.round(bn*F*(Math.random()-.5)*2);return Math.min(Zn,F+N)}function Jt(G){return G&&G._delegate?G._delegate:G}},3265:(gt,Ce,L)=>{var d=L(5879);let B=null;function P(){return B}class ie{}const pe=new d.OlP("DocumentToken");let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(ge)},providedIn:"platform"}),n})();const Se=new d.OlP("Location Initialized");let ge=(()=>{class n extends ve{constructor(){super(),this._doc=(0,d.f3M)(pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){this._history.pushState(t,r,s)}replaceState(t,r,s){this._history.replaceState(t,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function $(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ne(n){return n&&"?"!==n[0]?"?"+n:n}let ke=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(qe)},providedIn:"root"}),n})();const Me=new d.OlP("appBaseHref");let qe=(()=>{class n extends ke{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ne(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const l=this.prepareExternalUrl(s+ne(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){const l=this.prepareExternalUrl(s+ne(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ve),d.LFG(Me,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xe=(()=>{class n extends ke{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let l=this.prepareExternalUrl(s+ne(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){let l=this.prepareExternalUrl(s+ne(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ve),d.LFG(Me,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function te(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(z(lt(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ne(r))}normalize(t){return n.stripTrailingSlash(function Dt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,lt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=ne,n.joinWithSlash=$,n.stripTrailingSlash=z,n.\u0275fac=function(t){return new(t||n)(d.LFG(ke))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Pe(){return new We((0,d.LFG)(ke))}()},providedIn:"root"}),n})();function lt(n){return n.replace(/\/index.html$/,"")}function yo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}class sf{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Na=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,l)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new sf(s.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,l),Kn(g,s)}});for(let s=0,u=r.length;s<u;s++){const g=r.get(s).context;g.index=s,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Kn(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Kn(n,e){n.context.$implicit=e.item}let bs=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new xg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gd("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gd("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class xg{constructor(){this.$implicit=null,this.ngIf=null}}function gd(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class vr{createSubscription(e,t){return(0,d.rg0)(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){(0,d.rg0)(()=>e.unsubscribe())}}class fn{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Ts=new fn,$r=new vr;let Nc=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,d.QGY)(t))return Ts;if((0,d.F4k)(t))return $r;throw function Vt(n,e){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),os=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function $i(n){return"server"===n}let Eo=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new hi((0,d.LFG)(pe),window)}),n})();class hi{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ea(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Io(this.window.history)||Io(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Io(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sr{}class ia extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kr extends ia{static makeCurrent(){!function Q(n){B||(B=n)}(new kr)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ad(){return sa=sa||document.querySelector("base"),sa?sa.getAttribute("href"):null}();return null==t?null:function Si(n){Ys=Ys||document.createElement("a"),Ys.setAttribute("href",n);const e=Ys.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yo(document.cookie,e)}}let Ys,sa=null,Sd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Md=new d.OlP("EventManagerPlugins");let cs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Md),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class xd{constructor(e){this._doc=e}}const Jc="ng-app-id";let Lu=(()=>{class n{constructor(t,r,s,u={}){this.doc=t,this.appId=r,this.nonce=s,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$i(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(s=>s.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Jc}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(t,r){const s=this.styleRef;if(s.has(t)){const u=s.get(t);return u.usage+=r,u.usage}return s.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const s=this.styleNodesInDOM,u=s?.get(r);if(u?.parentNode===t)return s.delete(r),u.removeAttribute(Jc),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Jc,this.appId),l}}addStyleToHost(t,r){const s=this.getStyleElement(t,r);t.appendChild(s);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(s):u.set(r,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pe),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const oa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mi=/%COMP%/g,Og=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function $a(n,e){return e.map(t=>t.replace(Mi,n))}let qi=(()=>{class n{constructor(t,r,s,u,l,g,v,C=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestory=u,this.doc=l,this.platformId=g,this.ngZone=v,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=$i(g),this.defaultRenderer=new Vu(t,l,v,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===d.ifc.ShadowDom&&(r={...r,encapsulation:d.ifc.Emulated});const s=this.getOrCreateRenderer(t,r);return s instanceof tn?s.applyToHost(t):s instanceof Ae&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const l=this.doc,g=this.ngZone,v=this.eventManager,C=this.sharedStylesHost,T=this.removeStylesOnCompDestory,x=this.platformIsServer;switch(r.encapsulation){case d.ifc.Emulated:u=new tn(v,C,r,this.appId,T,l,g,x);break;case d.ifc.ShadowDom:return new Ef(v,C,t,r,l,g,this.nonce,x);default:u=new Ae(v,C,r,T,l,g,x)}u.onDestroy=()=>s.delete(r.id),s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(cs),d.LFG(Lu),d.LFG(d.AFp),d.LFG(Og),d.LFG(pe),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Vu{constructor(e,t,r,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(oa[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Nd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Nd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new d.vHH(5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=oa[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=oa[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,s&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=P().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Nd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ef extends Vu{constructor(e,t,r,s,u,l,g,v){super(e,u,l,v),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=$a(s.id,s.styles);for(const T of C){const x=document.createElement("style");g&&x.setAttribute("nonce",g),x.textContent=T,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ae extends Vu{constructor(e,t,r,s,u,l,g,v){super(e,u,l,g),this.sharedStylesHost=t,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=v?$a(v,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class tn extends Ae{constructor(e,t,r,s,u,l,g,v){const C=s+"-"+r.id;super(e,t,r,u,l,g,v,C),this.contentAttr=function el(n){return"_ngcontent-%COMP%".replace(Mi,n)}(C),this.hostAttr=function _f(n){return"_nghost-%COMP%".replace(Mi,n)}(C)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let tl=(()=>{class n extends xd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Bu=["alt","control","meta","shift"],ur={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},If={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ju=(()=>{class n extends xd{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let l="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),l="code."),Bu.forEach(C=>{const T=r.indexOf(C);T>-1&&(r.splice(T,1),l+=C+".")}),l+=u,0!=r.length||0===u.length)return null;const v={};return v.domEventName=s,v.fullKey=l,v}static matchEventFullKeyCode(t,r){let s=ur[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Bu.forEach(l=>{l!==s&&(0,If[l])(t)&&(u+=l+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Hu=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Pd(){kr.makeCurrent()},multi:!0},{provide:pe,useFactory:function Mr(){return(0,d.RDi)(document),document},deps:[]}]),Sn=new d.OlP(""),ds=[{provide:d.rWj,useClass:class vf{addToWindow(e){d.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new d.vHH(5103,!1);return u},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const s=d.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const g=function(v){l=l||v,u--,0==u&&r(l)};s.forEach(function(v){v.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],cr=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Od(){return new d.qLn},deps:[]},{provide:Md,useClass:tl,multi:!0,deps:[pe,d.R0b,d.Lbi]},{provide:Md,useClass:ju,multi:!0,deps:[pe]},qi,Lu,cs,{provide:d.FYo,useExisting:qi},{provide:Sr,useClass:Sd,deps:[]},[]];let rl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Sn,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...cr,...ds],imports:[os,d.hGG]}),n})(),Gu=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pe))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function qa(){return new Gu((0,d.LFG)(pe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var ri=L(5592),eo=L(4674),on=L(2459),pt=L(2096),pi=L(5619);const{isArray:Ku}=Array,{getPrototypeOf:Ao,prototype:ll,keys:bf}=Object;function ua(n){if(1===n.length){const e=n[0];if(Ku(e))return{args:e,keys:null};if(function Lg(n){return n&&"object"==typeof n&&Ao(n)===ll}(e)){const t=bf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Wi=L(2737),Pt=L(7398);const{isArray:gi}=Array;function ca(n){return(0,Pt.U)(e=>function Hd(n,e){return gi(e)?n(...e):n(e)}(n,e))}var xi=L(4564);function So(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var mi=L(8251),Zi=L(7103);function to(...n){const e=(0,xi.yG)(n),t=(0,xi.jO)(n),{args:r,keys:s}=ua(n);if(0===r.length)return(0,on.D)([],e);const u=new ri.y(function Ug(n,e,t=Wi.y){return r=>{yi(e,()=>{const{length:s}=n,u=new Array(s);let l=s,g=s;for(let v=0;v<s;v++)yi(e,()=>{const C=(0,on.D)(n[v],e);let T=!1;C.subscribe((0,mi.x)(r,x=>{u[v]=x,T||(T=!0,g--),g||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>So(s,l):Wi.y));return t?u.pipe(ca(t)):u}function yi(n,e,t){n?(0,Zi.f)(t,n,e):e()}const no=(0,L(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ss=L(7537);function Ki(...n){return function $d(){return(0,Ss.J)(1)}()((0,on.D)(n,(0,xi.yG)(n)))}var Yu=L(4829);function Af(n){return new ri.y(e=>{(0,Yu.Xf)(n()).subscribe(e)})}var la=L(8407);function Mo(n,e){const t=(0,eo.m)(n)?n:()=>n,r=s=>s.error(t());return new ri.y(e?s=>e.schedule(r,0,s):r)}var hs=L(6232),Gd=L(7394),vi=L(9360);function xo(){return(0,vi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,mi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ro extends ri.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,vi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Gd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,mi.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Gd.w0.EMPTY)}return e}refCount(){return xo()(this)}}var io=L(8645),$n=L(4664);function Ms(n){return n<=0?()=>hs.E:(0,vi.e)((e,t)=>{let r=0;e.subscribe((0,mi.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function xs(...n){const e=(0,xi.yG)(n);return(0,vi.e)((t,r)=>{(e?Ki(n,t,e):Ki(n,t)).subscribe(r)})}function Ri(n,e){return(0,vi.e)((t,r)=>{let s=0;t.subscribe((0,mi.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var wr=L(1631);function da(n){return(0,vi.e)((e,t)=>{let r=!1;e.subscribe((0,mi.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function zd(n=dl){return(0,vi.e)((e,t)=>{let r=!1;e.subscribe((0,mi.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function dl(){return new no}function fs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ri((s,u)=>n(s,u,r)):Wi.y,Ms(1),t?da(e):zd(()=>new no))}function _i(n,e){return(0,eo.m)(e)?(0,wr.z)(n,e,1):(0,wr.z)(n,1)}var Pn=L(9397);function ii(n){return(0,vi.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,mi.x)(t,void 0,void 0,l=>{u=(0,Yu.Xf)(n(l,ii(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function ps(n,e){return(0,vi.e)(function hl(n,e,t,r,s){return(u,l)=>{let g=t,v=e,C=0;u.subscribe((0,mi.x)(l,T=>{const x=C++;v=g?n(v,T,x):(g=!0,T),r&&l.next(v)},s&&(()=>{g&&l.next(v),l.complete()})))}}(n,e,arguments.length>=2,!0))}function gs(n){return n<=0?()=>hs.E:(0,vi.e)((e,t)=>{let r=[];e.subscribe((0,mi.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function Ro(n){return(0,vi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Bt="primary",No=Symbol("RouteTitle");class Sf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ju(n){return new Sf(n)}function Cv(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],g=n[u];if(l.startsWith(":"))s[l.substring(1)]=g;else if(l!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Yi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!ha(n[s],e[s]))return!1;return!0}function ha(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function Qn(n){return n.length>0?n[n.length-1]:null}function Rs(n){return function cl(n){return!!n&&(n instanceof ri.y||(0,eo.m)(n.lift)&&(0,eo.m)(n.subscribe))}(n)?n:(0,d.QGY)(n)?(0,on.D)(Promise.resolve(n)):(0,pt.of)(n)}const Ya={exact:function pl(n,e,t){if(!U(n.segments,e.segments)||!ml(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!pl(n.children[r],e.children[r],t))return!1;return!0},subset:Po},Qi={exact:function Ji(n,e){return Yi(n,e)},subset:function gl(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ha(n[t],e[t]))},ignored:()=>!0};function wi(n,e,t){return Ya[t.paths](n.root,e.root,t.matrixParams)&&Qi[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Po(n,e,t){return qd(n,e,e.segments,t)}function qd(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!U(s,t)||e.hasChildren()||!ml(s,t,r))}if(n.segments.length===t.length){if(!U(n.segments,t)||!ml(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!Po(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(U(n.segments,s)&&ml(n.segments,s,r)&&n.children[Bt])&&qd(n.children[Bt],e,u,r)}}function ml(n,e,t){return e.every((r,s)=>Qi[t](n[s].parameters,r.parameters))}class Qa{constructor(e=new E([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ju(this.queryParams)),this._queryParamMap}toString(){return Ke.serialize(this)}}class E{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return He(this)}}class b{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ju(this.parameters)),this._parameterMap}toString(){return fa(this)}}function U(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new de},providedIn:"root"}),n})();class de{parse(e){const t=new bv(e);return new Qa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ut(e.root,!0)}`,r=function so(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${Rt(t)}=${Rt(s)}`).join("&"):`${Rt(t)}=${Rt(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Fr(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ke=new de;function He(n){return n.segments.map(e=>fa(e)).join("/")}function ut(n,e){if(!n.hasChildren())return He(n);if(e){const t=n.children[Bt]?ut(n.children[Bt],!1):"",r=[];return Object.entries(n.children).forEach(([s,u])=>{s!==Bt&&r.push(`${s}:${ut(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function q(n,e){let t=[];return Object.entries(n.children).forEach(([r,s])=>{r===Bt&&(t=t.concat(e(s,r)))}),Object.entries(n.children).forEach(([r,s])=>{r!==Bt&&(t=t.concat(e(s,r)))}),t}(n,(r,s)=>s===Bt?[ut(n.children[Bt],!1)]:[`${s}:${ut(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${He(n)}/${t[0]}`:`${He(n)}/(${t.join("//")})`}}function Ot(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rt(n){return Ot(n).replace(/%3B/gi,";")}function Mn(n){return Ot(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oo(n){return decodeURIComponent(n)}function Ns(n){return Oo(n.replace(/\+/g,"%20"))}function fa(n){return`${Mn(n.path)}${function Wr(n){return Object.keys(n).map(e=>`;${Mn(e)}=${Mn(n[e])}`).join("")}(n.parameters)}`}const Ja=/^[^\/()?;#]+/;function yl(n){const e=n.match(Ja);return e?e[0]:""}const Mf=/^[^\/()?;=#]+/,Vg=/^[^=?&#]+/,Xa=/^[^&#]+/;class bv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new E([],{}):new E([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Bt]=new E(e,t)),r}parseSegment(){const e=yl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new b(Oo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Wd(n){const e=n.match(Mf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=yl(this.remaining);s&&(r=s,this.capture(r))}e[Oo(t)]=Oo(r)}parseQueryParam(e){const t=function Zd(n){const e=n.match(Vg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Xu(n){const e=n.match(Xa);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=Ns(t),u=Ns(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yl(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new d.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Bt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Bt]:new E([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function Tv(n){return n.segments.length>0?new E([],{[Bt]:n}):n}function xf(n){const e={};for(const r of Object.keys(n.children)){const u=xf(n.children[r]);if(r===Bt&&0===u.segments.length&&u.hasChildren())for(const[l,g]of Object.entries(u.children))e[l]=g;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Av(n){if(1===n.numberOfChildren&&n.children[Bt]){const e=n.children[Bt];return new E(n.segments.concat(e.segments),e.children)}return n}(new E(n.segments,e))}function ec(n){return n instanceof Qa}function jg(n){let e;const s=Tv(function t(u){const l={};for(const v of u.children){const C=t(v);l[v.outlet]=C}const g=new E(u.url,l);return u===n&&(e=g),g}(n.root));return e??s}function Sv(n,e,t,r){let s=n;for(;s.parent;)s=s.parent;if(0===e.length)return m(s,s,s,t,r);const u=function O(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new M(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Object.entries(u.outlets).forEach(([v,C])=>{g[v]="string"==typeof C?C.split("/"):C}),[...s,{outlets:g}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,u]},[]);return new M(t,e,r)}(e);if(u.toRoot())return m(s,s,new E([],{}),t,r);const l=function le(n,e,t){if(n.isAbsolute)return new Z(e,!0,0);if(!t)return new Z(e,!1,NaN);if(null===t.parent)return new Z(t,!0,0);const r=_(n.commands[0])?0:1;return function Be(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new d.vHH(4005,!1);s=r.segments.length}return new Z(r,!1,s-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,s,n),g=l.processChildren?Kt(l.segmentGroup,l.index,u.commands):It(l.segmentGroup,l.index,u.commands);return m(s,l.segmentGroup,g,t,r)}function _(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function m(n,e,t,r,s){let l,u={};r&&Object.entries(r).forEach(([v,C])=>{u[v]=Array.isArray(C)?C.map(T=>`${T}`):`${C}`}),l=n===e?t:I(n,e,t);const g=Tv(xf(l));return new Qa(g,u,s)}function I(n,e,t){const r={};return Object.entries(n.children).forEach(([s,u])=>{r[s]=u===e?t:I(u,e,t)}),new E(n.segments,r)}class M{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&_(r[0]))throw new d.vHH(4003,!1);const s=r.find(p);if(s&&s!==Qn(r))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Z{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function It(n,e,t){if(n||(n=new E([],{})),0===n.segments.length&&n.hasChildren())return Kt(n,e,t);const r=function si(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const l=n.segments[s],g=t[r];if(p(g))break;const v=`${g}`,C=r<t.length-1?t[r+1]:null;if(s>0&&void 0===v)break;if(v&&C&&"object"==typeof C&&void 0===C.outlets){if(!Nf(v,C,l))return u;r+=2}else{if(!Nf(v,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new E(n.segments.slice(0,r.pathIndex),{});return u.children[Bt]=new E(n.segments.slice(r.pathIndex),n.children),Kt(u,0,s)}return r.match&&0===s.length?new E(n.segments,{}):r.match&&!n.hasChildren()?ko(n,e,t):r.match?Kt(n,0,s):ko(n,e,t)}function Kt(n,e,t){if(0===t.length)return new E(n.segments,{});{const r=function Je(n){return p(n[0])?n[0].outlets:{[Bt]:n}}(t),s={};if(!r[Bt]&&n.children[Bt]&&1===n.numberOfChildren&&0===n.children[Bt].segments.length){const u=Kt(n.children[Bt],e,t);return new E(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(s[u]=It(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(s[u]=l)}),new E(n.segments,s)}}function ko(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(p(u)){const v=Rf(u.outlets);return new E(r,v)}if(0===s&&_(t[0])){r.push(new b(n.segments[e].path,Hg(t[0]))),s++;continue}const l=p(u)?u.outlets[Bt]:`${u}`,g=s<t.length-1?t[s+1]:null;l&&g&&_(g)?(r.push(new b(l,Hg(g))),s+=2):(r.push(new b(l,{})),s++)}return new E(r,{})}function Rf(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=ko(new E([],{}),0,r))}),e}function Hg(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Nf(n,e,t){return n==t.path&&Yi(e,t.parameters)}const vl="imperative";class Ps{constructor(e,t){this.id=e,this.url=t}}class pa extends Ps{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oo extends Ps{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tc extends Ps{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ga extends Ps{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class _l extends Ps{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nc extends Ps{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kd extends Ps{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $g extends Ps{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gg extends Ps{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zg extends Ps{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ma{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qb{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jb{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xb{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cE{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lE{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class eT{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yd,this.attachRef=null}}let Yd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new eT,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=xv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=xv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ni(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Ni(e,this._root).map(t=>t.value)}}function xv(n,e){if(n===e.value)return e;for(const t of e.children){const r=xv(n,t);if(r)return r}return null}function Ni(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ni(n,t);if(r.length)return r.unshift(e),r}return[]}class Fo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class qg extends dE{constructor(e,t){super(e),this.snapshot=t,Wg(this,e)}toString(){return this.snapshot.toString()}}function Ei(n,e){const t=function Pf(n,e){const l=new Of([],{},{},"",{},Bt,e,null,{});return new hE("",new Fo(l,[]))}(0,e),r=new pi.X([new b("",{})]),s=new pi.X({}),u=new pi.X({}),l=new pi.X({}),g=new pi.X(""),v=new rc(r,s,l,g,u,Bt,e,t.root);return v.snapshot=t.root,new qg(new Fo(v,[]),t)}class rc{constructor(e,t,r,s,u,l,g,v){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=u,this.outlet=l,this.component=g,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,Pt.U)(C=>C[No]))??(0,pt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(e=>Ju(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(e=>Ju(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function tT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Of{get title(){return this.data?.[No]}constructor(e,t,r,s,u,l,g,v,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=g,this.routeConfig=v,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ju(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ju(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hE extends dE{constructor(e,t){super(t),this.url=e,Wg(this,t)}toString(){return fE(this._root)}}function Wg(n,e){e.value._routerState=n,e.children.forEach(t=>Wg(n,t))}function fE(n){const e=n.children.length>0?` { ${n.children.map(fE).join(", ")} } `:"";return`${n.value}${e}`}function Zg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Yi(e.params,t.params)||n.paramsSubject.next(t.params),function Ka(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Yi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Nv(n,e){const t=Yi(n.params,e.params)&&function S(n,e){return U(n,e)&&n.every((t,r)=>Yi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Nv(n.parent,e.parent))}let Pv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Yd),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(Qd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=t;const s=this.location,l=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,v=new Ov(t,g,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:v,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class Ov{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===rc?this.route:e===Yd?this.childContexts:this.parent.get(e,t)}}const Qd=new d.OlP("");let pE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,s=to([r.queryParams,r.params,r.data]).pipe((0,$n.w)(([u,l,g],v)=>(g={...u,...l,...g},0===v?(0,pt.of)(g):Promise.resolve(g)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,d.qFp)(r.component);if(l)for(const{templateName:g}of l.inputs)t.activatedComponentRef.setInput(g,u[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Ff(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function nT(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Ff(n,r,s);return Ff(n,r)})}(n,e,t);return new Fo(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(g=>Ff(n,g)),l}}const r=function gE(n){return new rc(new pi.X(n.url),new pi.X(n.params),new pi.X(n.queryParams),new pi.X(n.fragment),new pi.X(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>Ff(n,u));return new Fo(r,s)}}const Kg="ngNavigationCancelingError";function kv(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=El(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function El(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Kg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Lf(n){return Fv(n)&&ec(n.url)}function Fv(n){return n&&n[Kg]}let Yg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[Pv],encapsulation:2}),n})();function Jg(n){const e=n.children&&n.children.map(Jg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Bt&&(t.component=Yg),t}function Os(n){return n.outlet||Bt}function Uf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Il{constructor(e,t,r,s,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=wl(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),Object.values(s).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=wl(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=wl(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const s=wl(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new Mv(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Xb(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(Zg(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(g.contexts),l.attachRef=g.componentRef,l.route=g.route.value,l.outlet&&l.outlet.attach(g.componentRef,g.route.value),Zg(g.route.value),this.activateChildRoutes(e,null,l.children)}else{const g=Uf(s.snapshot);l.attachRef=null,l.route=s,l.injector=g,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Uv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vf{constructor(e,t){this.component=e,this.route=t}}function sT(n,e,t){const r=n._root;return Bf(r,e?e._root:null,t,[r.value])}function eu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function Bf(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=wl(e);return n.children.forEach(l=>{(function _E(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const v=function wE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!U(n.url,e.url);case"pathParamsOrQueryParamsChange":return!U(n.url,e.url)||!Yi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nv(n,e)||!Yi(n.queryParams,e.queryParams);default:return!Nv(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);v?s.canActivateChecks.push(new Uv(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Bf(n,e,u.component?g?g.children:null:t,r,s),v&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new Vf(g.outlet.component,l))}else l&&Jd(e,g,s),s.canActivateChecks.push(new Uv(r)),Bf(n,null,u.component?g?g.children:null:t,r,s)})(l,u[l.value.outlet],t,r.concat([l.value]),s),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,g])=>Jd(g,t.getContext(l),s)),s}function Jd(n,e,t){const r=wl(n),s=n.value;Object.entries(r).forEach(([u,l])=>{Jd(l,s.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Vf(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Dl(n){return"function"==typeof n}function Xd(n){return n instanceof no||"EmptyError"===n?.name}const tm=Symbol("INITIAL_VALUE");function Cl(){return(0,$n.w)(n=>to(n.map(e=>e.pipe(Ms(1),xs(tm)))).pipe((0,Pt.U)(e=>{for(const t of e)if(!0!==t){if(t===tm)return tm;if(!1===t||t instanceof Qa)return t}return!0}),Ri(e=>e!==tm),Ms(1)))}function bE(n){return(0,la.z)((0,Pn.b)(e=>{if(ec(e))throw kv(0,e)}),(0,Pt.U)(e=>!0===e))}class rm{constructor(e){this.segmentGroup=e||null}}class im{constructor(e){this.urlTree=e}}function th(n){return Mo(new rm(n))}function nh(n){return Mo(new im(n))}class TE{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new d.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,pt.of)(r);if(s.numberOfChildren>1||!s.children[Bt])return Mo(new d.vHH(4e3,!1));s=s.children[Bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new Qa(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([s,u])=>{if("string"==typeof u&&u.startsWith(":")){const g=u.substring(1);r[s]=t[g]}else r[s]=u}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let l={};return Object.entries(t.children).forEach(([g,v])=>{l[g]=this.createSegmentGroup(e,v,r,s)}),new E(u,l)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new d.vHH(4001,!1);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}const om={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AE(n,e,t,r,s){const u=am(n,e,t);return u.matched?(r=function Qg(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function gR(n,e,t,r){const s=e.canMatch;if(!s||0===s.length)return(0,pt.of)(!0);const u=s.map(l=>{const g=eu(l,n);return Rs(function em(n){return n&&Dl(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))});return(0,pt.of)(u).pipe(Cl(),bE())}(r,e,t).pipe((0,Pt.U)(l=>!0===l?u:{...om}))):(0,pt.of)(u)}function am(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...om}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Cv)(t,n,e);if(!s)return{...om};const u={};Object.entries(s.posParams??{}).forEach(([g,v])=>{u[g]=v.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function SE(n,e,t,r){return t.length>0&&function fT(n,e,t){return t.some(r=>Lo(n,e,r)&&Os(r)!==Bt)}(n,t,r)?{segmentGroup:new E(e,hT(r,new E(t,n.children))),slicedSegments:[]}:0===t.length&&function pT(n,e,t){return t.some(r=>Lo(n,e,r))}(n,t,r)?{segmentGroup:new E(n.segments,dT(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new E(n.segments,n.children),slicedSegments:t}}function dT(n,e,t,r,s){const u={};for(const l of r)if(Lo(n,t,l)&&!s[Os(l)]){const g=new E([],{});u[Os(l)]=g}return{...s,...u}}function hT(n,e){const t={};t[Bt]=e;for(const r of n)if(""===r.path&&Os(r)!==Bt){const s=new E([],{});t[Os(r)]=s}return t}function Lo(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class yR{constructor(e,t,r,s,u,l,g){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=s,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new TE(this.urlSerializer,this.urlTree)}noMatchError(e){return new d.vHH(4002,!1)}recognize(){const e=SE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Bt).pipe(ii(t=>{if(t instanceof im)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof rm?this.noMatchError(t):t}),(0,Pt.U)(t=>{const r=new Of([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,{}),s=new Fo(r,t),u=new hE("",s),l=function Bg(n,e,t=null,r=null){return Sv(jg(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Bt).pipe(ii(r=>{throw r instanceof rm?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=Rv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s,!0)}processChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,on.D)(s).pipe(_i(u=>{const l=r.children[u],g=function iT(n,e){const t=n.filter(r=>Os(r)===e);return t.push(...n.filter(r=>Os(r)!==e)),t}(t,u);return this.processSegmentGroup(e,g,l,u)}),ps((u,l)=>(u.push(...l),u)),da(null),function fl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ri((s,u)=>n(s,u,r)):Wi.y,gs(1),t?da(e):zd(()=>new no))}(),(0,wr.z)(u=>{if(null===u)return th(r);const l=mT(u);return function vR(n){n.sort((e,t)=>e.value.outlet===Bt?-1:t.value.outlet===Bt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,pt.of)(l)}))}processSegment(e,t,r,s,u,l){return(0,on.D)(t).pipe(_i(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,r,s,u,l).pipe(ii(v=>{if(v instanceof rm)return(0,pt.of)(null);throw v}))),fs(g=>!!g),ii(g=>{if(Xd(g))return function gT(n,e,t){return 0===e.length&&!n.children[t]}(r,s,u)?(0,pt.of)([]):th(r);throw g}))}processSegmentAgainstRoute(e,t,r,s,u,l,g){return function Hf(n,e,t,r){return!!(Os(n)===r||r!==Bt&&Lo(e,t,n))&&("**"===n.path||am(e,n,t).matched)}(r,s,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,u,l,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,r,u,l):th(s):th(s)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nh(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,wr.z)(l=>{const g=new E(l,{});return this.processSegment(e,t,g,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){const{matched:g,consumedSegments:v,remainingSegments:C,positionalParamSegments:T}=am(t,s,u);if(!g)return th(t);const x=this.applyRedirects.applyRedirectCommands(v,s.redirectTo,T);return s.redirectTo.startsWith("/")?nh(x):this.applyRedirects.lineralizeSegments(s,x).pipe((0,wr.z)(H=>this.processSegment(e,r,t,H.concat(C),l,!1)))}matchSegmentAgainstRoute(e,t,r,s,u,l){let g;if("**"===r.path){const v=s.length>0?Qn(s).parameters:{},C=new Of(s,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ME(r),Os(r),r.component??r._loadedComponent??null,r,xE(r));g=(0,pt.of)({snapshot:C,consumedSegments:[],remainingSegments:[]}),t.children={}}else g=AE(t,r,s,e).pipe((0,Pt.U)(({matched:v,consumedSegments:C,remainingSegments:T,parameters:x})=>v?{snapshot:new Of(C,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ME(r),Os(r),r.component??r._loadedComponent??null,r,xE(r)),consumedSegments:C,remainingSegments:T}:null));return g.pipe((0,$n.w)(v=>null===v?th(t):this.getChildConfig(e=r._injector??e,r,s).pipe((0,$n.w)(({routes:C})=>{const T=r._loadedInjector??e,{snapshot:x,consumedSegments:H,remainingSegments:K}=v,{segmentGroup:ue,slicedSegments:ye}=SE(t,H,K,C);if(0===ye.length&&ue.hasChildren())return this.processChildren(T,C,ue).pipe((0,Pt.U)(rt=>null===rt?null:[new Fo(x,rt)]));if(0===C.length&&0===ye.length)return(0,pt.of)([new Fo(x,[])]);const me=Os(r)===u;return this.processSegment(T,C,ue,ye,me?Bt:u,!0).pipe((0,Pt.U)(rt=>[new Fo(x,rt)]))}))))}getChildConfig(e,t,r){return t.children?(0,pt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,pt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function lT(n,e,t,r){const s=e.canLoad;if(void 0===s||0===s.length)return(0,pt.of)(!0);const u=s.map(l=>{const g=eu(l,n);return Rs(function Xg(n){return n&&Dl(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))});return(0,pt.of)(u).pipe(Cl(),bE())}(e,t,r).pipe((0,wr.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,Pn.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Hv(n){return Mo(El(!1,3))}())):(0,pt.of)({routes:[],injector:e})}}function _R(n){const e=n.value.routeConfig;return e&&""===e.path}function mT(n){const e=[],t=new Set;for(const r of n){if(!_R(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=mT(r.children);e.push(new Fo(r.value,s))}return e.filter(r=>!t.has(r))}function ME(n){return n.data||{}}function xE(n){return n.resolve||{}}function Gv(n){return"string"==typeof n.title||null===n.title}function um(n){return(0,$n.w)(e=>{const t=n(e);return t?(0,on.D)(t).pipe((0,Pt.U)(()=>e)):(0,pt.of)(e)})}const Gf=new d.OlP("ROUTES");let NE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,pt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Rs(t.loadComponent()).pipe((0,Pt.U)(cm),(0,Pn.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Ro(()=>{this.componentLoaders.delete(t)})),s=new ro(r,()=>new io.x).pipe(xo());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,pt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Pt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,C;return Array.isArray(g)?C=g:(v=g.create(t).injector,C=v.get(Gf,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:C.map(Jg),injector:v}}),Ro(()=>{this.childrenLoaders.delete(r)})),l=new ro(u,()=>new io.x).pipe(xo());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return Rs(t()).pipe((0,Pt.U)(cm),(0,wr.z)(r=>r instanceof d.YKP||Array.isArray(r)?(0,pt.of)(r):(0,on.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cm(n){return function wR(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let rh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new io.x,this.configLoader=(0,d.f3M)(NE),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Y),this.rootContexts=(0,d.f3M)(Yd),this.inputBindingEnabled=null!==(0,d.f3M)(Qd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Qb(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new ma(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new pi.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vl,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ri(r=>0!==r.id),(0,Pt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,$n.w)(r=>{let s=!1,u=!1;return(0,pt.of)(r).pipe((0,Pn.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,$n.w)(l=>{const g=t.browserUrlTree.toString(),v=!t.navigated||l.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!v&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new ga(l.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),hs.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return wT(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,pt.of)(l).pipe((0,$n.w)(T=>{const x=this.transitions?.getValue();return this.events.next(new pa(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),x!==this.transitions?.getValue()?hs.E:Promise.resolve(T)}),function vT(n,e,t,r,s,u){return(0,wr.z)(l=>function mR(n,e,t,r,s,u,l="emptyOnly"){return new yR(n,e,t,r,s,l,u).recognize()}(n,e,t,r,l.extractedUrl,s,u).pipe((0,Pt.U)(({state:g,tree:v})=>({...l,targetSnapshot:g,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Pn.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,r.urlAfterRedirects=T.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const H=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(H,T)}t.browserUrlTree=T.urlAfterRedirects}const x=new nc(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(x)}));if(v&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:x,source:H,restoredState:K,extras:ue}=l,ye=new pa(T,this.urlSerializer.serialize(x),H,K);this.events.next(ye);const me=Ei(0,this.rootComponentType).snapshot;return r={...l,targetSnapshot:me,urlAfterRedirects:x,extras:{...ue,skipLocationChange:!1,replaceUrl:!1}},(0,pt.of)(r)}{const T="";return this.events.next(new ga(l.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),hs.E}}),(0,Pn.b)(l=>{const g=new Kd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(g)}),(0,Pt.U)(l=>r={...l,guards:sT(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function aT(n,e){return(0,wr.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,pt.of)({...t,guardsResult:!0}):function uT(n,e,t,r){return(0,on.D)(n).pipe((0,wr.z)(s=>function eh(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,pt.of)(!0);const l=u.map(g=>{const v=Uf(e)??s,C=eu(g,v);return Rs(function Vv(n){return n&&Dl(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):v.runInContext(()=>C(n,e,t,r))).pipe(fs())});return(0,pt.of)(l).pipe(Cl())}(s.component,s.route,t,e,r)),fs(s=>!0!==s,!0))}(l,r,s,n).pipe((0,wr.z)(g=>g&&function EE(n){return"boolean"==typeof n}(g)?function cT(n,e,t,r){return(0,on.D)(e).pipe(_i(s=>Ki(function CE(n,e){return null!==n&&e&&e(new Jb(n)),(0,pt.of)(!0)}(s.route.parent,r),function DE(n,e){return null!==n&&e&&e(new cE(n)),(0,pt.of)(!0)}(s.route,r),function jv(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function pR(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Af(()=>{const g=l.guards.map(v=>{const C=Uf(l.node)??t,T=eu(v,C);return Rs(function IE(n){return n&&Dl(n.canActivateChild)}(T)?T.canActivateChild(r,n):C.runInContext(()=>T(r,n))).pipe(fs())});return(0,pt.of)(g).pipe(Cl())}));return(0,pt.of)(u).pipe(Cl())}(n,s.path,t),function nm(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,pt.of)(!0);const s=r.map(u=>Af(()=>{const l=Uf(e)??t,g=eu(u,l);return Rs(function jf(n){return n&&Dl(n.canActivate)}(g)?g.canActivate(e,n):l.runInContext(()=>g(e,n))).pipe(fs())}));return(0,pt.of)(s).pipe(Cl())}(n,s.route,t))),fs(s=>!0!==s,!0))}(r,u,n,e):(0,pt.of)(g)),(0,Pt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Pn.b)(l=>{if(r.guardsResult=l.guardsResult,ec(l.guardsResult))throw kv(0,l.guardsResult);const g=new $g(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(g)}),Ri(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),um(l=>{if(l.guards.canActivateChecks.length)return(0,pt.of)(l).pipe((0,Pn.b)(g=>{const v=new Gg(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}),(0,$n.w)(g=>{let v=!1;return(0,pt.of)(g).pipe(function _T(n,e){return(0,wr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return(0,pt.of)(t);let u=0;return(0,on.D)(s).pipe(_i(l=>function $v(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!Gv(s)&&(u[No]=s.title),function tu(n,e,t,r){const s=function $f(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return(0,pt.of)({});const u={};return(0,on.D)(s).pipe((0,wr.z)(l=>function RE(n,e,t,r){const s=Uf(e)??r,u=eu(n,s);return Rs(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(fs(),(0,Pn.b)(g=>{u[l]=g}))),gs(1),function Qu(n){return(0,Pt.U)(()=>n)}(u),ii(l=>Xd(l)?hs.E:Mo(l)))}(u,n,e,r).pipe((0,Pt.U)(l=>(n._resolvedData=l,n.data=Rv(n,t).resolve,s&&Gv(s)&&(n.data[No]=s.title),null)))}(l.route,r,n,e)),(0,Pn.b)(()=>u++),gs(1),(0,wr.z)(l=>u===s.length?(0,pt.of)(t):hs.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Pn.b)({next:()=>v=!0,complete:()=>{v||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Pn.b)(g=>{const v=new zg(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}))}),um(l=>{const g=v=>{const C=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Pn.b)(T=>{v.component=T}),(0,Pt.U)(()=>{})));for(const T of v.children)C.push(...g(T));return C};return to(g(l.targetSnapshot.root)).pipe(da(),Ms(1))}),um(()=>this.afterPreactivation()),(0,Pt.U)(l=>{const g=function kf(n,e,t){const r=Ff(n,e._root,t?t._root:void 0);return new qg(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:g}}),(0,Pn.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,r)=>(0,Pt.U)(s=>(new Il(e,s.targetRouterState,s.currentRouterState,t,r).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ms(1),(0,Pn.b)({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new oo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Ro(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ii(l=>{if(u=!0,Fv(l)){Lf(l)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new tc(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(g),Lf(l)){const v=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||wT(r.source)};t.scheduleNavigation(v,vl,null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new _l(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(l))}catch(v){r.reject(v)}}return hs.E}))}))}cancelNavigationTransition(t,r,s){const u=new tc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wT(n){return n!==vl}let ET=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===Bt);return r}getResolvedTitleForRoute(t){return t.data[No]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(PE)},providedIn:"root"}),n})(),PE=(()=>{class n extends ET{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Gu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(CT)},providedIn:"root"}),n})();class DT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let CT=(()=>{class n extends DT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lm=new d.OlP("",{providedIn:"root",factory:()=>({})});let OE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(dm)},providedIn:"root"}),n})(),dm=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ks=(()=>((ks=ks||{})[ks.COMPLETE=0]="COMPLETE",ks[ks.FAILED=1]="FAILED",ks[ks.REDIRECTING=2]="REDIRECTING",ks))();function hm(n,e){n.events.pipe(Ri(t=>t instanceof oo||t instanceof tc||t instanceof _l||t instanceof ga),(0,Pt.U)(t=>t instanceof oo||t instanceof ga?ks.COMPLETE:t instanceof tc&&(0===t.code||1===t.code)?ks.REDIRECTING:ks.FAILED),Ri(t=>t!==ks.REDIRECTING),Ms(1)).subscribe(()=>{e()})}function bT(n){throw n}function Lr(n,e,t){return e.parse("/")}const TT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(lm,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||bT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Lr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(OE),this.routeReuseStrategy=(0,d.f3M)(IT),this.titleStrategy=(0,d.f3M)(ET),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Gf,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(rh),this.urlSerializer=(0,d.f3M)(Y),this.location=(0,d.f3M)(We),this.componentInputBindingEnabled=!!(0,d.f3M)(Qd,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ei(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},l=s?.navigationId?s:null;if(s){const v={...s};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Jg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:l,queryParamsHandling:g,preserveFragment:v}=r,C=v?this.currentUrlTree.fragment:l;let x,T=null;switch(g){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}null!==T&&(T=this.removeEmptyProps(T));try{x=jg(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),x=this.currentUrlTree.root}return Sv(x,t,T,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=ec(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,vl,null,r)}navigate(t,r={skipLocationChange:!1}){return function kE(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new d.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...TT}:!1===r?{...AT}:r,ec(t))return wi(this.currentUrlTree,t,s);const u=this.parseUrl(t);return wi(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,l){if(this.disposed)return Promise.resolve(!1);let g,v,C;l?(g=l.resolve,v=l.reject,C=l.promise):C=new Promise((x,H)=>{g=x,v=H});const T=this.pendingTasks.add();return hm(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:v,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zf=(()=>{class n{constructor(t,r,s,u,l,g){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=l,this.locationStrategy=g,this.href=null,this.commands=null,this.onChanges=new io.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=t.events.subscribe(C=>{C instanceof oo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,u=this.el.nativeElement;null!==r?s.setAttribute(u,t,r):s.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(xr),d.Y36(rc),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ke))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&d.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&d.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),n})();class FE{}let ER=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Ri(t=>t instanceof oo),_i(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,d.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,g=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,on.D)(s).pipe((0,Ss.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,pt.of)(null);const u=s.pipe((0,wr.z)(l=>null===l?(0,pt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,on.D)([u,l]).pipe((0,Ss.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xr),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(FE),d.LFG(NE))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bl=new d.OlP("");let mn=(()=>{class n{constructor(t,r,s,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof oo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ga&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof lE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new lE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function ya(n,e){return{\u0275kind:n,\u0275providers:e}}function qv(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(xr),s=n.get(pm);1===n.get(VE)&&r.initialNavigation(),n.get(Zv,null,d.XFs.Optional)?.setUpPreloading(),n.get(bl,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const pm=new d.OlP("",{factory:()=>new io.x}),VE=new d.OlP("",{providedIn:"root",factory:()=>1}),Zv=new d.OlP("");function jE(n){return ya(0,[{provide:Zv,useExisting:ER},{provide:FE,useExisting:n}])}const mm=new d.OlP("ROUTER_FORROOT_GUARD"),ym=[We,{provide:Y,useClass:de},xr,Yd,{provide:rc,useFactory:function zv(n){return n.routerState.root},deps:[xr]},NE,[]];function Tl(){return new d.PXZ("Router",xr)}let qf=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[ym,[],{provide:Gf,multi:!0,useValue:t},{provide:mm,useFactory:$E,deps:[[xr,new d.FiY,new d.tp0]]},{provide:lm,useValue:r||{}},r?.useHash?{provide:ke,useClass:xe}:{provide:ke,useClass:qe},{provide:bl,useFactory:()=>{const n=(0,d.f3M)(Eo),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(lm),r=(0,d.f3M)(rh),s=(0,d.f3M)(Y);return t.scrollOffset&&n.setOffset(t.scrollOffset),new mn(s,r,n,e,t)}},r?.preloadingStrategy?jE(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Tl},r?.initialNavigation?sh(r):[],r?.bindToComponentInputs?ya(8,[pE,{provide:Qd,useExisting:pE}]).\u0275providers:[],[{provide:GE,useFactory:qv},{provide:d.tb,multi:!0,useExisting:GE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Gf,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(mm,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function $E(n){return"guarded"}function sh(n){return["disabled"===n.initialNavigation?ya(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(xr);return()=>{e.setUpLocationChangeListener()}}},{provide:VE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ya(2,[{provide:VE,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Se,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(xr),u=e.get(pm);hm(s,()=>{r(!0)}),e.get(rh).afterPreactivation=()=>(r(!0),u.closed?(0,pt.of)(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const GE=new d.OlP("");var AR=L(3019),Yv=L(3093),UT=L(4552);class VT extends io.x{constructor(e=1/0,t=1/0,r=UT.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=t.now();let g=0;for(let v=1;v<r.length&&r[v]<=l;v+=2)g=v;g&&r.splice(0,g+1)}}}var SR=L(3020);function BT(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,SR.B)({connector:()=>new VT(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function Wf(n,e){return(0,eo.m)(e)?(0,$n.w)(()=>n,e):(0,$n.w)(()=>n)}var Qv=L(5137),lr=L(8186),Ii=L(6304);L(3182);var Ee=L(5861),va=L(534),uh=L(4537),Gt=L(9058),_a=L(7879);const Xv=new Map,e_={activated:!1,tokenObservers:[]},t_={initialized:!1,enabled:!1};function Jn(n){return Xv.get(n)||Object.assign({},e_)}function Zf(){return t_}const n_="https://content-firebaseappcheck.googleapis.com/v1",qT="exchangeDebugToken",Kf={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ch{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new Gt.BH,yield function Yf(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Gt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const oi=new Gt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function r_(n){if(!Jn(n).activated)throw oi.create("use-before-activation",{appName:n.name})}function Jf(n,e){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,Ee.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const x=yield s.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,g;try{l=yield fetch(n,u)}catch(x){throw oi.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==l.status)throw oi.create("fetch-status-error",{httpStatus:l.status});try{g=yield l.json()}catch(x){throw oi.create("fetch-parse-error",{originalErrorMessage:x?.message})}const v=g.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const C=1e3*Number(v[1]),T=Date.now();return{token:g.token,expireTimeMillis:T+C,issuedAtTimeMillis:T}})).apply(this,arguments)}function KT(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${n_}/projects/${t}/apps/${r}:${qT}?key=${s}`,body:{debug_token:e}}}const s_="firebase-app-check-database",lh=1,ic="firebase-app-check-store";let tp=null;function Im(){return(Im=(0,Ee.Z)(function*(n,e){const r=(yield function JE(){return tp||(tp=new Promise((n,e)=>{try{const t=indexedDB.open(s_,lh);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(oi.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ic,{keyPath:"compositeKey"})}}catch(t){e(oi.create("storage-open",{originalErrorMessage:t?.message}))}}),tp)}()).transaction(ic,"readwrite"),u=r.objectStore(ic).put({compositeKey:n,value:e});return new Promise((l,g)=>{u.onsuccess=v=>{l()},r.onerror=v=>{var C;g(oi.create("storage-set",{originalErrorMessage:null===(C=v.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const Dm=new _a.Yd("@firebase/app-check");function tI(n,e){return(0,Gt.hl)()?function QT(n,e){return function XE(n,e){return Im.apply(this,arguments)}(function a_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Dm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rI(){return Zf().enabled}function bm(){return dh.apply(this,arguments)}function dh(){return(dh=(0,Ee.Z)(function*(){const n=Zf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const sI={error:"UNKNOWN_ERROR"};function oI(n){return Gt.US.encodeString(JSON.stringify(n),!1)}function jt(n){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,Ee.Z)(function*(n,e=!1){const t=n.app;r_(t);const r=Jn(t);let u,s=r.token;if(s&&!hh(s)&&(r.token=void 0,s=void 0),!s){const v=yield r.cachedTokenPromise;v&&(hh(v)?s=v:yield tI(t,void 0))}if(!e&&s&&hh(s))return{token:s.token};let g,l=!1;if(rI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Jf(KT(t,yield bm()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const v=yield r.exchangeTokenPromise;return yield tI(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield Jn(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Dm.warn(v.message):Dm.error(v),u=v}return s?u?g=hh(s)?{token:s.token,internalError:u}:d_(u):(g={token:s.token},r.token=s,yield tI(t,s)):g=d_(u),l&&function l_(n,e){const t=Jn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g})).apply(this,arguments)}function u_(n){return aI.apply(this,arguments)}function aI(){return(aI=(0,Ee.Z)(function*(n){const e=n.app;r_(e);const{provider:t}=Jn(e);if(rI()){const r=yield bm(),{token:s}=yield Jf(KT(e,r),n.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Am(n,e){const t=Jn(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function uI(n){const{app:e}=n,t=Jn(e);let r=t.tokenRefresher;r||(r=function tA(n){const{app:e}=n;return new ch((0,Ee.Z)(function*(){let r;if(r=Jn(e).token?yield jt(n,!0):yield jt(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Jn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Kf.RETRIAL_MIN_WAIT,Kf.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function hh(n){return n.expireTimeMillis-Date.now()>0}function d_(n){return{token:oI(sI),error:n}}class nA{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Jn(this.app);for(const t of e)Am(this.app,t.next);return Promise.resolve()}}const yI="app-check-internal";!function oA(){(0,va._registerComponent)(new uh.wA("app-check",n=>function rA(n,e){return new nA(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(yI).initialize()})),(0,va._registerComponent)(new uh.wA(yI,n=>function OR(n){return{getToken:e=>jt(n,e),getLimitedUseToken:()=>u_(n),addTokenListener:e=>function c_(n,e,t,r){const{app:s}=n,u=Jn(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&hh(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),uI(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>uI(n))}(n,"INTERNAL",e),removeTokenListener:e=>Am(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,va.registerVersion)("@firebase/app-check","0.8.0")}();class Rm{constructor(){return(0,lr.vb)("app-check")}}typeof window<"u"&&window,L(7142);const _I=new d.OlP("angularfire2.auth.use-emulator"),__=new d.OlP("angularfire2.auth.settings"),wI=new d.OlP("angularfire2.auth.tenant-id"),w_=new d.OlP("angularfire2.auth.langugage-code"),E_=new d.OlP("angularfire2.auth.use-device-language"),rp=new d.OlP("angularfire.auth.persistence"),Nm=(n,e,t,r,s,u,l,g)=>(0,Ii.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=s,u&&v.useDeviceLanguage(),l)for(const[C,T]of Object.entries(l))v.settings[C]=T;return g&&v.setPersistence(g),v},[t,r,s,u,l,g]);let I_=(()=>{class n{constructor(t,r,s,u,l,g,v,C,T,x,H,K){const ue=new io.x,ye=(0,pt.of)(void 0).pipe((0,Yv.Q)(l.outsideAngular),(0,$n.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,6365)))),(0,Pt.U)(()=>(0,Ii.on)(t,u,r)),(0,Pt.U)(me=>Nm(me,u,g,C,T,x,v,H)),BT({bufferSize:1,refCount:!1}));if($i(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,pt.of)(null);else{ye.pipe(fs()).subscribe();const rt=ye.pipe((0,$n.w)(at=>at.getRedirectResult().then(Nt=>Nt,()=>null)),lr.iC,BT({bufferSize:1,refCount:!1})),_t=ye.pipe((0,$n.w)(at=>new ri.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>at.onAuthStateChanged(Zt=>Nt.next(Zt),Zt=>Nt.error(Zt),()=>Nt.complete()))})))),Ge=ye.pipe((0,$n.w)(at=>new ri.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>at.onIdTokenChanged(Zt=>Nt.next(Zt),Zt=>Nt.error(Zt),()=>Nt.complete()))}))));this.authState=rt.pipe(Wf(_t),(0,Qv.R)(l.outsideAngular),(0,Yv.Q)(l.insideAngular)),this.user=rt.pipe(Wf(Ge),(0,Qv.R)(l.outsideAngular),(0,Yv.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,$n.w)(at=>at?(0,on.D)(at.getIdToken()):(0,pt.of)(null))),this.idTokenResult=this.user.pipe((0,$n.w)(at=>at?(0,on.D)(at.getIdTokenResult()):(0,pt.of)(null))),this.credential=(0,AR.T)(rt,ue,this.authState.pipe(Ri(at=>!at))).pipe((0,Pt.U)(at=>at?.user?at:null),(0,Qv.R)(l.outsideAngular),(0,Yv.Q)(l.insideAngular))}return(0,Ii.pX)(this,ye,u,{spy:{apply:(me,rt,_t)=>{(me.startsWith("signIn")||me.startsWith("createUser"))&&_t.then(Ge=>ue.next(Ge))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ii.Dh),d.LFG(Ii.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(lr.HU),d.LFG(_I,8),d.LFG(__,8),d.LFG(wI,8),d.LFG(w_,8),d.LFG(E_,8),d.LFG(rp,8),d.LFG(Rm,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oc=(()=>{class n{constructor(t){this.fauth=t,this.user=this.fauth.user}signup(t,r){return this.fauth.createUserWithEmailAndPassword(t,r)}signin(t,r){return this.fauth.signInWithEmailAndPassword(t,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(I_))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EI(n,e){1&n&&(d.TgZ(0,"li",7)(1,"a",10),d._uU(2,"Login"),d.qZA()())}function II(n,e){1&n&&(d.TgZ(0,"li",7)(1,"a",11),d._uU(2,"Register"),d.qZA()())}function D_(n,e){1&n&&(d.TgZ(0,"li",7)(1,"a",12),d._uU(2,"Profile"),d.qZA()())}function ru(n,e){1&n&&(d.TgZ(0,"li",7)(1,"a",13),d._uU(2,"Products"),d.qZA()())}function dA(n,e){1&n&&(d.TgZ(0,"li",7)(1,"a",14),d._uU(2,"My Products"),d.qZA()())}function hA(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"li",7)(1,"a",15),d.NdJ("click",function(){d.CHM(t);const s=d.oxw();return d.KtG(s.logout())}),d._uU(2,"Logout"),d.qZA()()}}let C_=(()=>{class n{constructor(t,r,s){this.route=t,this.fauth=r,this.as=s,this.as.user.subscribe(u=>{this.isUser=!!u})}logout(){this.fauth.signOut().then(()=>{localStorage.removeItem("userconnecet"),this.route.navigate(["/login"])}).catch(()=>{alert("user is still login")})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(xr),d.Y36(I_),d.Y36(oc))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-nav"]],decls:16,vars:6,consts:[[1,"container"],[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","",1,"nav-link","active"],["class","nav-item",4,"ngIf"],["aria-current","page","routerLink","login",1,"nav-link","active"],["aria-current","page","routerLink","register",1,"nav-link","active"],["aria-current","page","routerLink","profile",1,"nav-link","active"],["aria-current","page","routerLink","products",1,"nav-link","active"],["aria-current","page","routerLink","myproducts",1,"nav-link","active"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"button",3),d._UZ(4,"span",4),d.qZA(),d.TgZ(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),d._uU(9,"Home"),d.qZA()(),d.YNc(10,EI,3,0,"li",9),d.YNc(11,II,3,0,"li",9),d.YNc(12,D_,3,0,"li",9),d.YNc(13,ru,3,0,"li",9),d.YNc(14,dA,3,0,"li",9),d.YNc(15,hA,3,0,"li",9),d.qZA()()()()()),2&t&&(d.xp6(10),d.Q6J("ngIf",!r.isUser),d.xp6(1),d.Q6J("ngIf",!r.isUser),d.xp6(1),d.Q6J("ngIf",r.isUser),d.xp6(1),d.Q6J("ngIf",r.isUser),d.xp6(1),d.Q6J("ngIf",r.isUser),d.xp6(1),d.Q6J("ngIf",r.isUser))},dependencies:[bs,zf]}),n})(),fA=(()=>{class n{constructor(){this.title="store"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&d._UZ(0,"app-nav")(1,"router-outlet")},dependencies:[Pv,C_]}),n})(),DI=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),ph=(()=>{class n extends DI{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Vo=new d.OlP("NgValueAccessor"),sp={provide:Vo,useExisting:(0,d.Gpc)(()=>ac),multi:!0},WR=new d.OlP("CompositionEventMode");let ac=(()=>{class n extends DI{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pm(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(WR,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[d._Bn([sp]),d.qOj]}),n})();function iu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Pi=new d.OlP("NgValidators"),uc=new d.OlP("NgAsyncValidators"),CI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function T_(n){return iu(n.value)?{required:!0}:null}function TI(n){return iu(n.value)||CI.test(n.value)?null:{email:!0}}function S_(n){return null}function MI(n){return null!=n}function xI(n){return(0,d.QGY)(n)?(0,on.D)(n):n}function RI(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function NI(n,e){return e.map(t=>t(n))}function PI(n){return n.map(e=>function yA(n){return!n.validate}(e)?e:t=>e.validate(t))}function Om(n){return null!=n?function OI(n){if(!n)return null;const e=n.filter(MI);return 0==e.length?null:function(t){return RI(NI(t,e))}}(PI(n)):null}function M_(n){return null!=n?function km(n){if(!n)return null;const e=n.filter(MI);return 0==e.length?null:function(t){return function pA(...n){const e=(0,xi.jO)(n),{args:t,keys:r}=ua(n),s=new ri.y(u=>{const{length:l}=t;if(!l)return void u.complete();const g=new Array(l);let v=l,C=l;for(let T=0;T<l;T++){let x=!1;(0,Yu.Xf)(t[T]).subscribe((0,mi.x)(u,H=>{x||(x=!0,C--),g[T]=H},()=>v--,void 0,()=>{(!v||!x)&&(C||u.next(r?So(r,g):g),u.complete())}))}});return e?s.pipe(ca(e)):s}(NI(t,e).map(xI)).pipe((0,Pt.U)(RI))}}(PI(n)):null}function op(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function x_(n){return n?Array.isArray(n)?n:[n]:[]}function Fm(n,e){return Array.isArray(n)?n.includes(e):n===e}function LI(n,e){const t=x_(e);return x_(n).forEach(s=>{Fm(t,s)||t.push(s)}),t}function UI(n,e){return x_(e).filter(t=>!Fm(n,t))}class VI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Om(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=M_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Oi extends VI{get formDirective(){return null}get path(){return null}}class su extends VI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class BI{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Nl=(()=>{class n extends BI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(su,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),ap=(()=>{class n extends BI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Oi,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();const wa="VALID",au="INVALID",jo="PENDING",Ea="DISABLED";function Vm(n){return(hp(n)?n.validators:n)||null}function Bm(n,e){return(hp(e)?e.asyncValidators:n)||null}function hp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class O_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wa}get invalid(){return this.status===au}get pending(){return this.status==jo}get disabled(){return this.status===Ea}get enabled(){return this.status!==Ea}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(LI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UI(e,this._rawAsyncValidators))}hasValidator(e){return Fm(this._rawValidators,e)}hasAsyncValidator(e){return Fm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=jo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ea,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wa,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wa||this.status===jo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ea:wa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=jo,this._hasOwnPendingAsyncValidator=!0;const t=xI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ea:this.errors?au:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jo)?jo:this._anyControlsHaveStatus(au)?au:wa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function HI(n){return Array.isArray(n)?Om(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $I(n){return Array.isArray(n)?M_(n):n||null}(this._rawAsyncValidators)}}class jm extends O_{constructor(e,t,r){super(Vm(t),Bm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function P_(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new d.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function N_(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[t])throw new d.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const wh=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Hm}),Hm="always";function fp(n,e,t=Hm){L_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function pp(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gp(n,e)})}(n,e),function zI(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function U_(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gp(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function EA(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $m(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function L_(n,e){const t=function kI(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(op(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function FI(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(op(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();$m(e._rawValidators,s),$m(e._rawAsyncValidators,s)}function gp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const IA={provide:Oi,useExisting:(0,d.Gpc)(()=>cc)},Ol=(()=>Promise.resolve())();let cc=(()=>{class n extends Oi{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new jm({},Om(t),M_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ol.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),fp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ol.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ol.then(()=>{const r=this._findContainer(t.path),s=new jm({});(function Ih(n,e){L_(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ol.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ol.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function yp(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Pi,10),d.Y36(uc,10),d.Y36(wh,8))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([IA]),d.qOj]}),n})();function H_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function WI(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ZI=class extends O_{constructor(e=null,t,r){super(Vm(t),Bm(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=WI(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){H_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){H_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){WI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},bA={provide:su,useExisting:(0,d.Gpc)(()=>Ia)},vp=(()=>Promise.resolve())();let Ia=(()=>{class n extends su{constructor(t,r,s,u,l,g){super(),this._changeDetectorRef=l,this.callSetDisabledState=g,this.control=new ZI,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function Dh(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===ac?t=u:function j_(n){return Object.getPrototypeOf(n.constructor)===ph}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function B_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){vp.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,d.VuI)(r);vp.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function k_(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Oi,9),d.Y36(Pi,10),d.Y36(uc,10),d.Y36(Vo,10),d.Y36(d.sBO,8),d.Y36(wh,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([bA]),d.qOj,d.TTD]}),n})(),lc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),zm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();let ys=(()=>{class n{constructor(){this._validator=S_}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):S_,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const X_={provide:Pi,useExisting:(0,d.Gpc)(()=>kl),multi:!0};let kl=(()=>{class n extends ys{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.VuI,this.createValidator=t=>T_}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([X_]),d.qOj]}),n})();const s1={provide:Pi,useExisting:(0,d.Gpc)(()=>Km),multi:!0};let Km=(()=>{class n extends ys{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=d.VuI,this.createValidator=t=>TI}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[d._Bn([s1]),d.qOj]}),n})();const NA={provide:Pi,useExisting:(0,d.Gpc)(()=>Ip),multi:!0};let Ip=(()=>{class n extends ys{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function Q_(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function AI(n){return e=>iu(e.value)||!function b_(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[d._Bn([NA]),d.qOj]}),n})(),gD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[zm]}),n})(),e0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wh,useValue:t.callSetDisabledState??Hm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[gD]}),n})();var Ho=L(6321);function t0(){return(0,vi.e)((n,e)=>{let t,r=!1;n.subscribe((0,mi.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}var st,LA=L(3997),ao=(L(6365),L(3106)),$o=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uo={},n0=n0||{},zt=$o||self;function Ym(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Cp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Fl="closure_uid_"+(1e9*Math.random()>>>0),UA=0;function vD(n,e,t){return n.call.apply(n.bind,arguments)}function VA(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function ki(n,e,t){return(ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vD:VA).apply(null,arguments)}function bp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Zr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,u){for(var l=Array(arguments.length-2),g=2;g<arguments.length;g++)l[g-2]=arguments[g];return e.prototype[s].apply(r,l)}}function Go(){this.s=this.s,this.o=this.o}Go.prototype.s=!1,Go.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function r0(n){Object.prototype.hasOwnProperty.call(n,Fl)&&n[Fl]||(n[Fl]=++UA)}(this)},Go.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const s0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Qm(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function o0(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ym(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let l=0;l<u;l++)n[s+l]=r[l]}else n.push(r)}}function Fi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Fi.prototype.h=function(){this.defaultPrevented=!0};var jA=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",()=>{},e),zt.removeEventListener("test",()=>{},e)}catch{}return n}();function Ll(n){return/^[\s\xa0]*$/.test(n)}function Ul(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function zo(n){return-1!=Ul().indexOf(n)}function Jm(n){return Jm[" "](n),n}Jm[" "]=function(){};var c0,n,wD=zo("Opera"),Vl=zo("Trident")||zo("MSIE"),a0=zo("Edge"),Xm=a0||Vl,u0=zo("Gecko")&&!(-1!=Ul().toLowerCase().indexOf("webkit")&&!zo("Edge"))&&!(zo("Trident")||zo("MSIE"))&&!zo("Edge"),HA=-1!=Ul().toLowerCase().indexOf("webkit")&&!zo("Edge");function ED(){var n=zt.document;return n?n.documentMode:void 0}e:{var l0="",d0=(n=Ul(),u0?/rv:([^\);]+)(\)|;)/.exec(n):a0?/Edge\/([\d\.]+)/.exec(n):Vl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):HA?/WebKit\/(\S+)/.exec(n):wD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(d0&&(l0=d0?d0[1]:""),Vl){var h0=ED();if(null!=h0&&h0>parseFloat(l0)){c0=String(h0);break e}}c0=l0}var $A=zt.document&&Vl&&(ED()||parseInt(c0,10))||void 0;function Tp(n,e){if(Fi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(u0){e:{try{Jm(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tp.$.h.call(this)}}Zr(Tp,Fi);var GA={2:"touch",3:"pen",4:"mouse"};Tp.prototype.h=function(){Tp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ap="closure_listenable_"+(1e6*Math.random()|0),zA=0;function qA(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++zA,this.fa=this.ia=!1}function ey(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function p0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function DD(n){const e={};for(const t in n)e[t]=n[t];return e}const g0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function m0(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<g0.length;u++)t=g0[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Sp(n){this.src=n,this.g={},this.h=0}function ty(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=s0(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(ey(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ny(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}Sp.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=ny(n,e,r,s);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new qA(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var ry="closure_lm_"+(1e6*Math.random()|0),iy={};function y0(n,e,t,r,s){if(r&&r.once)return _0(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)y0(n,e[u],t,r,s);return null}return t=AD(t),n&&n[Ap]?n.O(e,t,Cp(r)?!!r.capture:!!r,s):v0(n,e,t,!1,r,s)}function v0(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=Cp(s)?!!s.capture:!!s,g=TD(n);if(g||(n[ry]=g=new Sp(n)),(t=g.add(e,t,r,l,u)).proxy)return t;if(r=function CD(){const e=Ch;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)jA||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(bD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function _0(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)_0(n,e[u],t,r,s);return null}return t=AD(t),n&&n[Ap]?n.P(e,t,Cp(r)?!!r.capture:!!r,s):v0(n,e,t,!0,r,s)}function hc(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)hc(n,e[u],t,r,s);else r=Cp(r)?!!r.capture:!!r,t=AD(t),n&&n[Ap]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ny(u=n.g[e],t,r,s))&&(ey(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=TD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ny(e,t,r,s)),(t=-1<n?e[n]:null)&&w0(t))}function w0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Ap])ty(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(bD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=TD(e))?(ty(t,n),0==t.h&&(t.src=null,e[ry]=null)):ey(n)}}}function bD(n){return n in iy?iy[n]:iy[n]="on"+n}function Ch(n,e){if(n.fa)n=!0;else{e=new Tp(e,this);var t=n.listener,r=n.la||n.src;n.ia&&w0(n),n=t.call(r,e)}return n}function TD(n){return(n=n[ry])instanceof Sp?n:null}var Mp="__closure_events_fn_"+(1e9*Math.random()>>>0);function AD(n){return"function"==typeof n?n:(n[Mp]||(n[Mp]=function(e){return n.handleEvent(e)}),n[Mp])}function Kr(){Go.call(this),this.i=new Sp(this),this.S=this,this.J=null}function ai(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Fi(e,n);else if(e instanceof Fi)e.target=e.target||n;else{var s=e;m0(e=new Fi(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=E0(l,r,!0,e)&&s}if(s=E0(l=e.g=n,r,!0,e)&&s,s=E0(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=E0(l=e.g=t[u],r,!1,e)&&s}function E0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var g=l.listener,v=l.la||l.src;l.ia&&ty(n.i,l),s=!1!==g.call(v,r)&&s}}return s&&!r.defaultPrevented}Zr(Kr,Go),Kr.prototype[Ap]=!0,Kr.prototype.removeEventListener=function(n,e,t,r){hc(this,n,e,t,r)},Kr.prototype.N=function(){if(Kr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ey(t[r]);delete n.g[e],n.h--}}this.J=null},Kr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Kr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var St=zt.JSON.stringify;function KA(){var n=uy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Bl=new class ZA{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new QA,n=>n.reset());class QA{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function sy(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function oy(n){zt.setTimeout(()=>{throw n},0)}let Gn,ay=!1,uy=new class YA{constructor(){this.h=this.g=null}add(e,t){const r=Bl.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},I0=()=>{const n=zt.Promise.resolve(void 0);Gn=()=>{n.then(JA)}};var JA=()=>{for(var n;n=KA();){try{n.h.call(n.g)}catch(t){oy(t)}var e=Bl;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ay=!1};function xp(n,e){Kr.call(this),this.h=n||1,this.g=e||zt,this.j=ki(this.qb,this),this.l=Date.now()}function cy(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function ly(n,e,t){if("function"==typeof n)t&&(n=ki(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ki(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function D0(n){n.g=ly(()=>{n.g=null,n.i&&(n.i=!1,D0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zr(xp,Kr),(st=xp.prototype).ga=!1,st.T=null,st.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ai(this,"tick"),this.ga&&(cy(this),this.start()))}},st.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.N=function(){xp.$.N.call(this),cy(this),delete this.g};class XA extends Go{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:D0(this)}N(){super.N(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rp(n){Go.call(this),this.h=n,this.g={}}Zr(Rp,Go);var SD=[];function bh(n,e,t,r){Array.isArray(t)||(t&&(SD[0]=t.toString()),t=SD);for(var s=0;s<t.length;s++){var u=y0(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function MD(n){p0(n.g,function(e,t){this.g.hasOwnProperty(t)&&w0(e)},n),n.g={}}function dy(){this.g=!0}function jl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function RD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return St(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Rp.prototype.N=function(){Rp.$.N.call(this),MD(this)},Rp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dy.prototype.Ea=function(){this.g=!1},dy.prototype.info=function(){};var Hl={},Th=null;function fc(){return Th=Th||new Kr}function ND(n){Fi.call(this,Hl.Ta,n)}function Np(n){const e=fc();ai(e,new ND(e))}function PD(n,e){Fi.call(this,Hl.STAT_EVENT,n),this.stat=e}function Li(n){const e=fc();ai(e,new PD(e,n))}function C0(n,e){Fi.call(this,Hl.Ua,n),this.size=e}function Ah(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}Hl.Ta="serverreachability",Zr(ND,Fi),Hl.STAT_EVENT="statevent",Zr(PD,Fi),Hl.Ua="timingevent",Zr(C0,Fi);var fy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},b0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function T0(){}function tS(){}T0.prototype.h=null;var gy,py={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kD(){Fi.call(this,"d")}function FD(){Fi.call(this,"c")}function $l(){}function Pp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Rp(this),this.P=UD,this.V=new xp(n=Xm?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new LD}function LD(){this.i=null,this.g="",this.h=!1}Zr(kD,Fi),Zr(FD,Fi),Zr($l,T0),$l.prototype.g=function(){return new XMLHttpRequest},$l.prototype.i=function(){return{}},gy=new $l;var UD=45e3,Gl={},my={};function A0(n,e,t){n.L=1,n.v=_y(du(e)),n.s=t,n.S=!0,VD(n,null)}function VD(n,e){n.G=Date.now(),Sh(n),n.A=du(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),x0(t.i,"t",r),n.C=0,t=n.l.J,n.h=new LD,n.g=j0(n.l,t?e:null,!n.s),0<n.O&&(n.M=new XA(ki(n.Pa,n,n.g),n.O)),bh(n.U,n.g,"readystatechange",n.nb),e=n.I?DD(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Np(),function eS(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",g=u.split("&"),v=0;v<g.length;v++){var C=g[v].split("=");if(1<C.length){var T=C[0];C=C[1];var x=T.split("_");l=2<=x.length&&"type"==x[1]?l+(T+"=")+C+"&":l+(T+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function BD(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function nS(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=rS(n,t),s==my){4==e&&(n.o=4,Li(14),r=!1),jl(n.j,n.m,null,"[Incomplete Response]");break}if(s==Gl){n.o=4,Li(15),jl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}jl(n.j,n.m,s,null),vy(n,s)}BD(n)&&s!=my&&s!=Gl&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Li(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),L0(e),e.M=!0,Li(11))):(jl(n.j,n.m,t,"[Invalid Chunked Response]"),zl(n),cu(n))}function rS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?my:(t=Number(e.substring(t,r)),isNaN(t)?Gl:(r+=1)+t>e.length?my:(e=e.slice(r,r+t),n.C=r+t,e))}function Sh(n){n.Y=Date.now()+n.P,jD(n,n.P)}function jD(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ah(ki(n.lb,n),e)}function yy(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function cu(n){0==n.l.H||n.J||Rh(n.l,n)}function zl(n){yy(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,cy(n.V),MD(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function vy(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Up(t.i,n)))if(!n.K&&Up(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;My(t),Ay(t)}F0(t),Li(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ah(ki(t.ib,t),6e3));if(1>=wy(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else gc(t,11)}else if((n.K||t.g==n)&&My(t),!Ll(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let C=s[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const T=C[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const x=C[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const H=C[5];null!=H&&"number"==typeof H&&0<H&&(t.L=r=1.5*H,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const ue=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var u=r.i;u.g||-1==ue.indexOf("spdy")&&-1==ue.indexOf("quic")&&-1==ue.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Ey(u,u.h),u.h=null))}if(r.F){const ye=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.Da=ye,Xn(r.I,r.F,ye))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=B0(r,r.J?r.pa:null,r.Y),l.K){Iy(r.i,l);var g=l,v=r.L;v&&g.setTimeout(v),g.B&&(yy(g),Sh(g)),r.g=l}else hC(r);0<t.j.length&&Sy(t)}else"stop"!=C[0]&&"close"!=C[0]||gc(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?gc(t,7):uC(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}Np()}catch{}}function $D(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ym(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function HD(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ym(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function iS(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ym(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(st=Pp.prototype).setTimeout=function(n){this.P=n},st.nb=function(n){n=n.target;const e=this.M;e&&3==Da(n)?e.l():this.Pa(n)},st.Pa=function(n){try{if(n==this.g)e:{const T=Da(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||Xm||this.g&&(this.h.h||this.g.ja()||sC(this.g)))){this.J||4!=T||7==e||Np(),yy(this);var t=this.g.da();this.ca=t;t:if(BD(this)){var r=sC(this.g);n="";var s=r.length,u=4==Da(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zl(this),cu(this);var l="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function hy(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ll(g)){var C=g;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Li(12),zl(this),cu(this);break e}jl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vy(this,t)}this.S?(nS(this,T,l),Xm&&this.i&&3==T&&(bh(this.U,this.V,"tick",this.mb),this.V.start())):(jl(this.j,this.m,l,null),vy(this,l)),4==T&&zl(this),this.i&&!this.J&&(4==T?Rh(this.l,this):(this.i=!1,Sh(this)))}else(function oC(n){const e={};n=(n.g&&2<=Da(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Ll(n[r]))continue;var t=sy(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function WA(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Li(12)):(this.o=0,Li(13)),zl(this),cu(this)}}}catch{}},st.mb=function(){if(this.g){var n=Da(this.g),e=this.g.ja();this.C<e.length&&(yy(this),nS(this,n,e),this.i&&4!=n&&Sh(this))}},st.cancel=function(){this.J=!0,zl(this)},st.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function xD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Np(),Li(17)),zl(this),this.o=2,cu(this)):jD(this,this.Y-n)};var S0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof lu){this.h=n.h,Op(this,n.j),this.s=n.s,this.g=n.g,kp(this,n.m),this.l=n.l;var e=n.i,t=new Lp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),GD(this,t),this.o=n.o}else n&&(e=String(n).match(S0))?(this.h=!1,Op(this,e[1]||"",!0),this.s=ql(e[2]||""),this.g=ql(e[3]||"",!0),kp(this,e[4]),this.l=ql(e[5]||"",!0),GD(this,e[6]||"",!0),this.o=ql(e[7]||"")):(this.h=!1,this.i=new Lp(null,this.h))}function du(n){return new lu(n)}function Op(n,e,t){n.j=t?ql(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function kp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function GD(n,e,t){e instanceof Lp?(n.i=e,function lS(n,e){e&&!n.j&&(pc(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(WD(this,r),x0(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Fp(e,uS)),n.i=new Lp(e,n.h))}function Xn(n,e,t){n.i.set(e,t)}function _y(n){return Xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ql(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Fp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}lu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Fp(e,qD,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Fp(e,qD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Fp(t,"/"==t.charAt(0)?aS:oS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Fp(t,cS)),n.join("")};var qD=/[#\/\?@]/g,oS=/[#\?:]/g,aS=/[#\?]/g,uS=/[#\?@]/g,cS=/#/g;function Lp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function pc(n){n.g||(n.g=new Map,n.h=0,n.i&&function sS(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function WD(n,e){pc(n),e=Mh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function M0(n,e){return pc(n),e=Mh(n,e),n.g.has(e)}function x0(n,e,t){WD(n,e),0<t.length&&(n.i=null,n.g.set(Mh(n,e),Qm(t)),n.h+=t.length)}function Mh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function KD(n){this.l=n||dS,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ka&&zt.g.Ka()&&zt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=Lp.prototype).add=function(n,e){pc(this),this.i=null,n=Mh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},st.forEach=function(n,e){pc(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},st.ta=function(){pc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},st.Z=function(n){pc(this);let e=[];if("string"==typeof n)M0(this,n)&&(e=e.concat(this.g.get(Mh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},st.set=function(n,e){return pc(this),this.i=null,M0(this,n=Mh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},st.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),n.push(s)}}return this.i=n.join("&")};var dS=10;function YD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function wy(n){return n.h?1:n.g?n.g.size:0}function Up(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ey(n,e){n.g?n.g.add(e):n.h=e}function Iy(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function QD(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Qm(n.i)}KD.prototype.cancel=function(){if(this.i=QD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var hS=class{stringify(n){return zt.JSON.stringify(n,void 0)}parse(n){return zt.JSON.parse(n,void 0)}};function R0(){this.g=new hS}function fS(n,e,t){const r=t||"";try{$D(n,function(s,u){let l=s;Cp(s)&&(l=St(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function hu(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function xh(n){this.l=n.fc||null,this.j=n.ob||!1}function Dy(n,e){Kr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=XD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zr(xh,T0),xh.prototype.g=function(){return new Dy(this.l,this.j)},xh.prototype.i=function(n){return function(){return n}}({}),Zr(Dy,Kr);var XD=0;function Cy(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Wl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Vp(n)}function Vp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=Dy.prototype).open=function(n,e){if(this.readyState!=XD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Vp(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||zt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wl(this)),this.readyState=XD},st.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Vp(this)),this.g&&(this.readyState=3,Vp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cy(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},st.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Wl(this):Vp(this),3==this.readyState&&Cy(this)}},st.Za=function(n){this.g&&(this.response=this.responseText=n,Wl(this))},st.Ya=function(n){this.g&&(this.response=n,Wl(this))},st.ka=function(){this.g&&Wl(this)},st.setRequestHeader=function(n,e){this.v.append(n,e)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Dy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var eC=zt.JSON.parse;function dr(n){Kr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tC,this.L=this.M=!1}Zr(dr,Kr);var tC="",nC=/^https?$/i,N0=["POST","PUT"];function P0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,O0(n),by(n)}function O0(n){n.F||(n.F=!0,ai(n,"complete"),ai(n,"error"))}function k0(n){if(n.h&&typeof n0<"u"&&(!n.C[1]||4!=Da(n)||2!=n.da()))if(n.v&&4==Da(n))ly(n.La,0,n);else if(ai(n,"readystatechange"),4==Da(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var s=String(n.I).match(S0)[1]||null;!s&&zt.self&&zt.self.location&&(s=zt.self.location.protocol.slice(0,-1)),r=!nC.test(s?s.toLowerCase():"")}t=r}if(t)ai(n,"complete"),ai(n,"success");else{n.m=6;try{var u=2<Da(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",O0(n)}}finally{by(n)}}}function by(n,e){if(n.g){iC(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ai(n,"ready");try{t.onreadystatechange=r}catch{}}}function iC(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function Da(n){return n.g?n.g.readyState:0}function sC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case tC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function pS(n){let e="";return p0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Ty(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=pS(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xn(n,e,t))}function Bp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function aC(n){this.Ga=0,this.j=[],this.l=new dy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bp("baseRetryDelayMs",5e3,n),this.hb=Bp("retryDelaySeedMs",1e4,n),this.eb=Bp("forwardChannelMaxRetries",2,n),this.xa=Bp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new KD(n&&n.concurrentRequestLimit),this.Ja=new R0,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function uC(n){if(cC(n),3==n.H){var e=n.W++,t=du(n.I);if(Xn(t,"SID",n.K),Xn(t,"RID",e),Xn(t,"TYPE","terminate"),jp(n,t),(e=new Pp(n,n.l,e)).L=2,e.v=_y(du(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon)try{t=zt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=j0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Sh(e)}V0(n)}function Ay(n){n.g&&(L0(n),n.g.cancel(),n.g=null)}function cC(n){Ay(n),n.u&&(zt.clearTimeout(n.u),n.u=null),My(n),n.i.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function Sy(n){if(!YD(n.i)&&!n.m){n.m=!0;var e=n.Na;Gn||I0(),ay||(Gn(),ay=!0),uy.add(e,n),n.C=0}}function lC(n,e){var t;t=e?e.m:n.W++;const r=du(n.I);Xn(r,"SID",n.K),Xn(r,"RID",t),Xn(r,"AID",n.V),jp(n,r),n.o&&n.s&&Ty(r,n.o,n.s),t=new Pp(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=dC(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Ey(n.i,t),A0(t,r,e)}function jp(n,e){n.na&&p0(n.na,function(t,r){Xn(e,r,t)}),n.h&&$D({},function(t,r){Xn(e,r,t)})}function dC(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ki(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let g=!0;for(let v=0;v<t;v++){let C=s[v].g;const T=s[v].map;if(C-=u,0>C)u=Math.max(0,s[v].g-100),g=!1;else try{fS(T,l,"req"+C+"_")}catch{r&&r(T)}}if(g){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function hC(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Gn||I0(),ay||(Gn(),ay=!0),uy.add(e,n),n.A=0}}function F0(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ah(ki(n.Ma,n),U0(n,n.A)),n.A++,0))}function L0(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function fC(n){n.g=new Pp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=du(n.wa);Xn(e,"RID","rpc"),Xn(e,"SID",n.K),Xn(e,"AID",n.V),Xn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Xn(e,"TO",n.qa),Xn(e,"TYPE","xmlhttp"),jp(n,e),n.o&&n.s&&Ty(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=_y(du(e)),t.s=null,t.S=!0,VD(t,n)}function My(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function Rh(n,e){var t=null;if(n.g==e){My(n),L0(n),n.g=null;var r=2}else{if(!Up(n.i,e))return;t=e.F,Iy(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;ai(r=fc(),new C0(r,t)),Sy(n)}else hC(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function gS(n,e){return!(wy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ah(ki(n.Na,n,e),U0(n,n.C)),n.C++,0)))}(n,e)||2==r&&F0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:gc(n,5);break;case 4:gc(n,10);break;case 3:gc(n,6);break;default:gc(n,2)}}function U0(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function gc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ki(n.pb,n);t||(t=new lu("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||Op(t,"https"),_y(t)),function JD(n,e){const t=new dy;if(zt.Image){const r=new Image;r.onload=bp(hu,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bp(hu,t,r,"TestLoadImage: error",!1,e),r.onabort=bp(hu,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bp(hu,t,r,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Li(2);n.H=0,n.h&&n.h.za(e),V0(n),cC(n)}function V0(n){if(n.H=0,n.ma=[],n.h){const e=QD(n.i);(0!=e.length||0!=n.j.length)&&(o0(n.ma,e),o0(n.ma,n.j),n.i.i.length=0,Qm(n.j),n.j.length=0),n.h.ya()}}function B0(n,e,t){var r=t instanceof lu?du(t):new lu(t);if(""!=r.g)e&&(r.g=e+"."+r.g),kp(r,r.m);else{var s=zt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new lu(null);r&&Op(u,r),e&&(u.g=e),s&&kp(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Xn(r,t,e),Xn(r,"VER",n.ra),jp(n,r),r}function j0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dr(t&&n.Ha&&!n.va?new xh({ob:!0}):n.va)).Oa(n.J),e}function H0(){}function xy(){if(Vl&&!(10<=Number($A)))throw Error("Environmental error: no available transport.")}function co(n,e){Kr.call(this),this.g=new aC(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ll(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ll(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Nh(this)}function $0(n){kD.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function pC(){FD.call(this),this.status=1}function Nh(n){this.g=n}function qo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Zl(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function Dn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(st=dr.prototype).Oa=function(n){this.M=n},st.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gy.g(),this.C=function OD(n){return n.h||(n.h=n.i())}(this.u?this.u:gy),this.g.onreadystatechange=ki(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void P0(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=zt.FormData&&n instanceof zt.FormData,!(0<=s0(N0,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iC(this),0<this.B&&((this.L=function rC(n){return Vl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ki(this.ua,this)):this.A=ly(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){P0(this,u)}},st.ua=function(){typeof n0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ai(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ai(this,"complete"),ai(this,"abort"),by(this))},st.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),by(this,!0)),dr.$.N.call(this)},st.La=function(){this.s||(this.G||this.v||this.l?k0(this):this.kb())},st.kb=function(){k0(this)},st.isActive=function(){return!!this.g},st.da=function(){try{return 2<Da(this)?this.g.status:-1}catch{return-1}},st.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},st.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),eC(e)}},st.Ia=function(){return this.m},st.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=aC.prototype).ra=8,st.H=1,st.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Pp(this,this.l,n);let u=this.s;if(this.U&&(u?(u=DD(u),m0(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=dC(this,s,e),Xn(t=du(this.I),"RID",n),Xn(t,"CVER",22),this.F&&Xn(t,"X-HTTP-Session-Id",this.F),jp(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(pS(u)))+"&"+e:this.o&&Ty(t,this.o,u)),Ey(this.i,s),this.bb&&Xn(t,"TYPE","init"),this.P?(Xn(t,"$req",e),Xn(t,"SID","null"),s.aa=!0,A0(s,t,null)):A0(s,t,e),this.H=2}}else 3==this.H&&(n?lC(this,n):0==this.j.length||YD(this.i)||lC(this))},st.Ma=function(){if(this.u=null,fC(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ah(ki(this.jb,this),n)}},st.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Li(10),Ay(this),fC(this))},st.ib=function(){null!=this.v&&(this.v=null,Ay(this),F0(this),Li(19))},st.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Li(2)):(this.l.info("Failed to ping google.com"),Li(1))},st.isActive=function(){return!!this.h&&this.h.isActive(this)},(st=H0.prototype).Ba=function(){},st.Aa=function(){},st.za=function(){},st.ya=function(){},st.isActive=function(){return!0},st.Va=function(){},xy.prototype.g=function(n,e){return new co(n,e)},Zr(co,Kr),co.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Li(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=B0(n,null,n.Y),Sy(n)},co.prototype.close=function(){uC(this.g)},co.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=St(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Sy(e)},co.prototype.N=function(){this.g.h=null,delete this.j,uC(this.g),delete this.g,co.$.N.call(this)},Zr($0,kD),Zr(pC,FD),Zr(Nh,H0),Nh.prototype.Ba=function(){ai(this.g,"a")},Nh.prototype.Aa=function(n){ai(this.g,new $0(n))},Nh.prototype.za=function(n){ai(this.g,new pC)},Nh.prototype.ya=function(){ai(this.g,"b")},Zr(qo,function mS(){this.blockSize=-1}),qo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)Zl(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){Zl(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){Zl(this,r),s=0;break}}this.h=s,this.i+=e},qo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var G0={};function lo(n){return-128<=n&&128>n?function _D(n,e){var t=G0;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Dn([0|e],0>e?-1:0)}):new Dn([0|n],0>n?-1:0)}function Ca(n){if(isNaN(n)||!isFinite(n))return Ph;if(0>n)return Di(Ca(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Kl;return new Dn(e,0)}var Kl=4294967296,Ph=lo(0),z0=lo(1),gC=lo(16777216);function ho(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Fs(n){return-1==n.h}function Di(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Dn(t,~n.h).add(z0)}function Ny(n,e){return n.add(Di(e))}function Oh(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Hp(n,e){this.g=n,this.h=e}function Py(n,e){if(ho(e))throw Error("division by zero");if(ho(n))return new Hp(Ph,Ph);if(Fs(n))return e=Py(Di(n),e),new Hp(Di(e.g),Di(e.h));if(Fs(e))return e=Py(n,Di(e)),new Hp(Di(e.g),e.h);if(30<n.g.length){if(Fs(n)||Fs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=z0,r=e;0>=r.X(n);)t=q0(t),r=q0(r);var s=kh(t,1),u=kh(r,1);for(r=kh(r,2),t=kh(t,2);!ho(r);){var l=u.add(r);0>=l.X(n)&&(s=s.add(t),u=l),r=kh(r,1),t=kh(t,1)}return e=Ny(n,s.R(e)),new Hp(s,e)}for(s=Ph;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=Ca(t)).R(e);Fs(l)||0<l.X(n);)l=(u=Ca(t-=r)).R(e);ho(u)&&(u=z0),s=s.add(u),n=Ny(n,l)}return new Hp(s,n)}function q0(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Dn(t,n.h)}function kh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Dn(s,n.h)}(st=Dn.prototype).ea=function(){if(Fs(this))return-Di(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Kl+r)*e,e*=Kl}return n},st.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ho(this))return"0";if(Fs(this))return"-"+Di(this).toString(n);for(var e=Ca(Math.pow(n,6)),t=this,r="";;){var s=Py(t,e).g,u=((0<(t=Ny(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ho(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},st.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},st.X=function(n){return Fs(n=Ny(this,n))?-1:ho(n)?0:1},st.abs=function(){return Fs(this)?Di(this):this},st.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=l>>>16,t[s]=(l&=65535)<<16|(u&=65535)}return new Dn(t,-2147483648&t[t.length-1]?-1:0)},st.R=function(n){if(ho(this)||ho(n))return Ph;if(Fs(this))return Fs(n)?Di(this).R(Di(n)):Di(Di(this).R(n));if(Fs(n))return Di(this.R(Di(n)));if(0>this.X(gC)&&0>n.X(gC))return Ca(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),g=n.D(s)>>>16,v=65535&n.D(s);t[2*r+2*s]+=l*v,Oh(t,2*r+2*s),t[2*r+2*s+1]+=u*v,Oh(t,2*r+2*s+1),t[2*r+2*s+1]+=l*g,Oh(t,2*r+2*s+1),t[2*r+2*s+2]+=u*g,Oh(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Dn(t,0)},st.gb=function(n){return Py(this,n).h},st.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Dn(t,this.h&n.h)},st.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Dn(t,this.h|n.h)},st.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Dn(t,this.h^n.h)},xy.prototype.createWebChannel=xy.prototype.g,co.prototype.send=co.prototype.u,co.prototype.open=co.prototype.m,co.prototype.close=co.prototype.close,fy.NO_ERROR=0,fy.TIMEOUT=8,fy.HTTP_ERROR=6,b0.COMPLETE="complete",tS.EventType=py,py.OPEN="a",py.CLOSE="b",py.ERROR="c",py.MESSAGE="d",Kr.prototype.listen=Kr.prototype.O,dr.prototype.listenOnce=dr.prototype.P,dr.prototype.getLastError=dr.prototype.Sa,dr.prototype.getLastErrorCode=dr.prototype.Ia,dr.prototype.getStatus=dr.prototype.da,dr.prototype.getResponseJson=dr.prototype.Wa,dr.prototype.getResponseText=dr.prototype.ja,dr.prototype.send=dr.prototype.ha,dr.prototype.setWithCredentials=dr.prototype.Oa,qo.prototype.digest=qo.prototype.l,qo.prototype.reset=qo.prototype.reset,qo.prototype.update=qo.prototype.j,Dn.prototype.add=Dn.prototype.add,Dn.prototype.multiply=Dn.prototype.R,Dn.prototype.modulo=Dn.prototype.gb,Dn.prototype.compare=Dn.prototype.X,Dn.prototype.toNumber=Dn.prototype.ea,Dn.prototype.toString=Dn.prototype.toString,Dn.prototype.getBits=Dn.prototype.D,Dn.fromNumber=Ca,Dn.fromString=function Ry(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Di(Ry(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ca(Math.pow(e,8)),r=Ph,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),l=parseInt(n.substring(s,s+u),e);8>u?(u=Ca(Math.pow(e,u)),r=r.R(u).add(Ca(l))):r=(r=r.R(t)).add(Ca(l))}return r};var yS=uo.createWebChannelTransport=function(){return new xy},mC=uo.getStatEventTarget=function(){return fc()},Fh=uo.ErrorCode=fy,vS=uo.EventType=b0,_S=uo.Event=Hl,W0=uo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yC=uo.FetchXmlHttpFactory=xh,Lh=uo.WebChannel=tS,vC=uo.XhrIo=dr,wS=uo.Md5=qo,Yl=uo.Integer=Dn;const Z0="@firebase/firestore";class ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let Uh="9.22.2";const ba=new _a.Yd("@firebase/firestore");function $p(){return ba.logLevel}function Ue(n,...e){if(ba.logLevel<=_a.in.DEBUG){const t=e.map(K0);ba.debug(`Firestore (${Uh}): ${n}`,...t)}}function hr(n,...e){if(ba.logLevel<=_a.in.ERROR){const t=e.map(K0);ba.error(`Firestore (${Uh}): ${n}`,...t)}}function fo(n,...e){if(ba.logLevel<=_a.in.WARN){const t=e.map(K0);ba.warn(`Firestore (${Uh}): ${n}`,...t)}}function K0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ct(n="Unexpected state"){const e=`FIRESTORE (${Uh}) INTERNAL ASSERTION FAILED: `+n;throw hr(e),new Error(e)}function bt(n,e){n||ct()}function Xe(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Gt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Y0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ES{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class EC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IC{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=C=>this.i!==s?(s=this.i,t(C)):Promise.resolve();let l=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Vr,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const C=l;e.enqueueRetryable((0,Ee.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},v=C=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(C=>v(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?v(C):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Vr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt("string"==typeof r.accessToken),new Y0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bt(null===e||"string"==typeof e),new ui(e)}}class IS{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class DC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new IS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class es{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,Ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?s(u):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt("string"==typeof t.token),this.T=t.token,new CC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function DS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class bC{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=DS(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[u]%62))}return r}}function qt(n,e){return n<e?-1:n>e?1:0}function zp(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function Q0(n){return n+"\0"}class zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new zn(0,0))}static max(){return new vt(new zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qp{constructor(e,t,r){void 0===t?t=0:t>e.length&&ct(),void 0===r?r=e.length-t:r>e.length-t&&ct(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===qp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends qp{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const CS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends qp{construct(e,t,r){return new fr(e,t,r)}static isValidIdentifier(e){return CS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Re(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new Re(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[s+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Re(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,s+=2}else"`"===g?(l=!l,s++):"."!==g||l?(r+=g,s++):(u(),s++)}if(u(),l)throw new Re(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(t)}static emptyPath(){return new fr([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(cn.fromString(e))}static fromName(e){return new et(cn.fromString(e).popFirst(5))}static empty(){return new et(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new cn(e.slice()))}}class Oy{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function J0(n){return n.fields.find(e=>2===e.kind)}function fu(n){return n.fields.filter(e=>2!==e.kind)}Oy.UNKNOWN_ID=-1;class ky{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ql{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ql(0,Ls.min())}}function bS(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=vt.fromTimestamp(1e9===r?new zn(t+1,0):new zn(t,r));return new Ls(s,et.empty(),e)}function X0(n){return new Ls(n.readTime,n.key,-1)}class Ls{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ls(vt.min(),et.empty(),-1)}static max(){return new Ls(vt.max(),et.empty(),-1)}}function Ly(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:qt(n.largestBatchId,e.largestBatchId))}const Jl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function pu(n){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,Ee.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==Jl)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),Wp.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let s=0,u=0,l=!1;e.forEach(g=>{++s,g.next(()=>{++u,l&&u===s&&t()},v=>r(v))}),l=!0,u===s&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(s=>s?oe.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,s)=>{const u=e.length,l=new Array(u);let g=0;for(let v=0;v<u;v++){const C=v;t(e[C]).next(T=>{l[C]=T,++g,g===u&&r(l)},T=>s(T))}})}static doWhile(e,t){return new oe((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}class Uy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Vr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Zp(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const s=Vy(r.target.error);this.v.reject(new Zp(e,s))}}static open(e,t,r,s){try{return new Uy(t,e.transaction(s,r))}catch(u){throw new Zp(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new SC(t)}}class Ta{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Ta.S((0,Gt.z$)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),yc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Gt.hl)())return!1;if(Ta.C())return!0;const e=(0,Gt.z$)(),t=Ta.S(e),r=0<t&&t<10,s=Ta.N(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{s(new Zp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const g=l.target.error;s("VersionError"===g.name?new Re(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Re(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Zp(e,g))},u.onupgradeneeded=l=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,Ee.Z)(function*(){const l="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.$(e);const v=Uy.open(u.db,e,l?"readonly":"readwrite",r),C=s(v).next(T=>(v.P(),T)).catch(T=>(v.abort(T),oe.reject(T))).toPromise();return C.catch(()=>{}),yield v.R,C}catch(v){const C=v,T="FirebaseError"!==C.name&&g<3;if(Ue("SimpleDb","Transaction failed with error:",C.message,"Retrying:",T),u.close(),!T)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class TS{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return yc(this.L.delete())}}class Zp extends Re{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function mc(n){return"IndexedDbTransactionError"===n.name}class SC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yc(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),yc(this.store.add(e))}get(e){return yc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),yc(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),yc(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.W(s,(l,g)=>{u.push(g)}).next(()=>u)}{const s=this.store.getAll(r.range);return new oe((u,l)=>{s.onerror=g=>{l(g.target.error)},s.onsuccess=g=>{u(g.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new oe((s,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{s(l.target.result)}})}J(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const s=this.cursor(r);return this.W(s,(u,l,g)=>g.delete())}X(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.W(s,t)}Z(e){const t=this.cursor({});return new oe((r,s)=>{t.onerror=u=>{const l=Vy(u.target.error);s(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(g=>{g?l.continue():r()}):r()}})}W(e,t){const r=[];return new oe((s,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const g=l.target.result;if(!g)return void s();const v=new TS(g),C=t(g.primaryKey,g.value,v);if(C instanceof oe){const T=C.catch(x=>(v.done(),oe.reject(x)));r.push(T)}v.isDone?s():null===v.K?g.continue():g.continue(v.K)}}).next(()=>oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function yc(n){return new oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=Vy(r.target.error);t(s)}})}let MC=!1;function Vy(n){const e=Ta.S((0,Gt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return MC||(MC=!0,setTimeout(()=>{throw r},0)),r}}return n}class xC{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.Z)(function*(){t.task=null;try{Ue("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){mc(r)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield pu(r)}yield t.et(6e4)}))}}class AS{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let s=t,u=!0;return oe.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Ue("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,s).next(g=>{s-=g,r.add(l)});u=!1})).next(()=>t-s)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(s,u)).next(g=>(Ue("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((s,u)=>{const l=X0(u);Ly(l,r)>0&&(r=l)}),new Ls(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Us=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Vh(n){return null==n}function Kp(n){return 0===n&&1/n==-1/0}function ew(n){return"number"==typeof n&&Number.isInteger(n)&&!Kp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ci(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tw(e)),e=RC(n.get(t),e);return tw(e)}function RC(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function tw(n){return n+"\x01\x01"}function Aa(n){const e=n.length;if(bt(e>=2),2===e)return bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&ct(),n.charAt(l+1)){case"\x01":const g=n.substring(u,l);let v;0===s.length?v=g:(s+=g,v=s,s=""),r.push(v);break;case"\x10":s+=n.substring(u,l),s+="\0";break;case"\x11":s+=n.substring(u,l+1);break;default:ct()}u=l+2}return new cn(r)}const NC=["userId","batchId"];function nw(n,e){return[n,Ci(e)]}function rw(n,e,t){return[n,Ci(e),t]}const d1={},h1=["prefixPath","collectionGroup","readTime","documentId"],f1=["prefixPath","collectionGroup","documentId"],p1=["collectionGroup","readTime","prefixPath","documentId"],g1=["canonicalId","targetId"],m1=["targetId","path"],y1=["path","targetId"],v1=["collectionId","parent"],_1=["indexId","uid"],PC=["uid","sequenceNumber"],iw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OC=["indexId","uid","orderedDocumentKey"],SS=["userId","collectionPath","documentId"],By=["userId","collectionPath","largestBatchId"],MS=["userId","collectionGroup","largestBatchId"],xS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],w1=[...xS,"documentOverlays"],RS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sw=RS,NS=[...sw,"indexConfiguration","indexState","indexEntries"];class ow extends AC{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ci(n,e){const t=Xe(n);return Ta.M(t.ht,e)}function PS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class On{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new On(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uw(this.root,e,this.comparator,!1)}getReverseIterator(){return new uw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uw(this.root,e,this.comparator,!0)}}class uw{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??kn.RED,this.left=s??kn.EMPTY,this.right=u??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new kn(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return kn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1,kn.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,e,t,r,s){return this}insert(n,e,t){return new kn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class er{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jy(this.data.getIterator())}getIteratorFrom(e){return new jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof er)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new er(this.comparator);return t.data=e,t}}class jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xl(n){return n.hasNext()?n.getNext():void 0}class vs{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new vs([])}unionWith(e){let t=new er(fr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new vs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class OS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OS("Invalid base64 string: "+s):s}}(e);return new Yr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yr.EMPTY_BYTE_STRING=new Yr("");const cw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _c(n){if(bt(!!n),"string"==typeof n){let e=0;const t=cw.exec(n);if(bt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Er(n.seconds),nanos:Er(n.nanos)}}function Er(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wo(n){return"string"==typeof n?Yr.fromBase64String(n):Yr.fromUint8Array(n)}function Yp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Qp(n){const e=n.mapValue.fields.__previous_value__;return Yp(e)?Qp(e):e}function Jp(n){const e=_c(n.mapValue.fields.__local_write_time__.timestampValue);return new zn(e.seconds,e.nanos)}class kC{constructor(e,t,r,s,u,l,g,v,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=C}}class gu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}const mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xp={nullValue:"NULL_VALUE"};function wc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yp(n)?4:lw(n)?9007199254740991:10:ct()}function Zo(n,e){if(n===e)return!0;const t=wc(n);if(t!==wc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jp(n).isEqual(Jp(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=_c(r.timestampValue),l=_c(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Wo(n.bytesValue).isEqual(Wo(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Er(r.geoPointValue.latitude)===Er(s.geoPointValue.latitude)&&Er(r.geoPointValue.longitude)===Er(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Er(r.integerValue)===Er(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Er(r.doubleValue),l=Er(s.doubleValue);return u===l?Kp(u)===Kp(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return zp(n.arrayValue.values||[],e.arrayValue.values||[],Zo);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(PS(u)!==PS(l))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===l[g]||!Zo(u[g],l[g])))return!1;return!0}(n,e);default:return ct()}var s}function eg(n,e){return void 0!==(n.values||[]).find(t=>Zo(t,e))}function Sa(n,e){if(n===e)return 0;const t=wc(n),r=wc(e);if(t!==r)return qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const l=Er(s.integerValue||s.doubleValue),g=Er(u.integerValue||u.doubleValue);return l<g?-1:l>g?1:l===g?0:isNaN(l)?isNaN(g)?0:-1:1}(n,e);case 3:return yu(n.timestampValue,e.timestampValue);case 4:return yu(Jp(n),Jp(e));case 5:return qt(n.stringValue,e.stringValue);case 6:return function(s,u){const l=Wo(s),g=Wo(u);return l.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),g=u.split("/");for(let v=0;v<l.length&&v<g.length;v++){const C=qt(l[v],g[v]);if(0!==C)return C}return qt(l.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const l=qt(Er(s.latitude),Er(u.latitude));return 0!==l?l:qt(Er(s.longitude),Er(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],g=u.values||[];for(let v=0;v<l.length&&v<g.length;++v){const C=Sa(l[v],g[v]);if(C)return C}return qt(l.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===mu.mapValue&&u===mu.mapValue)return 0;if(s===mu.mapValue)return 1;if(u===mu.mapValue)return-1;const l=s.fields||{},g=Object.keys(l),v=u.fields||{},C=Object.keys(v);g.sort(),C.sort();for(let T=0;T<g.length&&T<C.length;++T){const x=qt(g[T],C[T]);if(0!==x)return x;const H=Sa(l[g[T]],v[C[T]]);if(0!==H)return H}return qt(g.length,C.length)}(n.mapValue,e.mapValue);default:throw ct()}}function yu(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qt(n,e);const t=_c(n),r=_c(e),s=qt(t.seconds,r.seconds);return 0!==s?s:qt(t.nanos,r.nanos)}function ed(n){return tg(n)}function tg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=_c(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wo(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=tg(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const g of s)l?l=!1:u+=",",u+=`${g}:${tg(r.fields[g])}`;return u+"}"}(n.mapValue):ct();var e}function td(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function FC(n){return!!n&&"integerValue"in n}function jh(n){return!!n&&"arrayValue"in n}function LC(n){return!!n&&"nullValue"in n}function UC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hy(n){return!!n&&"mapValue"in n}function ng(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ng(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ng(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function E1(n){return"nullValue"in n?Xp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?td(gu.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ct()}function VC(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?td(gu.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?mu:ct()}function BC(n,e){const t=Sa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function dw(n,e){const t=Sa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ui{constructor(e){this.value=e}static empty(){return new Ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ng(t)}setAll(e){let t=fr.emptyPath(),r={},s=[];e.forEach((l,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,r,s),r={},s=[],t=g.popLast()}l?r[g.lastSegment()]=ng(l):s.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());Hy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Hy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){vc(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new Ui(ng(this.value))}}function $y(n){const e=[];return vc(n.fields,(t,r)=>{const s=new fr([t]);if(Hy(r)){const u=$y(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new vs(e)}class qn{constructor(e,t,r,s,u,l,g){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=g}static newInvalidDocument(e){return new qn(e,0,vt.min(),vt.min(),vt.min(),Ui.empty(),0)}static newFoundDocument(e,t,r,s){return new qn(e,1,t,vt.min(),r,s,0)}static newNoDocument(e,t){return new qn(e,2,t,vt.min(),vt.min(),Ui.empty(),0)}static newUnknownDocument(e,t){return new qn(e,3,t,vt.min(),vt.min(),Ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vu{constructor(e,t){this.position=e,this.inclusive=t}}function jC(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],l=n.position[s];if(r=u.field.isKeyField()?et.comparator(et.fromName(l.referenceValue),t.key):Sa(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function hw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zo(n.position[t],e.position[t]))return!1;return!0}class nd{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hh(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class rg{}class un extends rg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new I1(e,t,r):"array-contains"===t?new US(e,r):"in"===t?new VS(e,r):"not-in"===t?new D1(e,r):"array-contains-any"===t?new C1(e,r):new un(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new GC(e,r):new LS(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sa(t,this.value)):null!==t&&wc(this.value)===wc(t)&&this.matchesComparison(Sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class En extends rg{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new En(e,t)}matches(e){return $h(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function $h(n){return"and"===n.op}function fw(n){return"or"===n.op}function HC(n){return pw(n)&&$h(n)}function pw(n){for(const e of n.filters)if(e instanceof En)return!1;return!0}function gw(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+ed(n.value);if(HC(n))return n.filters.map(e=>gw(e)).join(",");{const e=n.filters.map(t=>gw(t)).join(",");return`${n.op}(${e})`}}function $C(n,e){return n instanceof un?(t=n,(r=e)instanceof un&&t.op===r.op&&t.field.isEqual(r.field)&&Zo(t.value,r.value)):n instanceof En?function(t,r){return r instanceof En&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,l)=>s&&$C(u,r.filters[l]),!0)}(n,e):void ct();var t,r}function kS(n,e){const t=n.filters.concat(e);return En.create(t,n.op)}function FS(n){return n instanceof un?`${(e=n).field.canonicalString()} ${e.op} ${ed(e.value)}`:n instanceof En?function(e){return e.op.toString()+" {"+e.getFilters().map(FS).join(" ,")+"}"}(n):"Filter";var e}class I1 extends un{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class GC extends un{constructor(e,t){super(e,"in",t),this.keys=zC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LS extends un{constructor(e,t){super(e,"not-in",t),this.keys=zC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class US extends un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jh(t)&&eg(t.arrayValue,this.value)}}class VS extends un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&eg(this.value.arrayValue,t)}}class D1 extends un{constructor(e,t){super(e,"not-in",t)}matches(e){if(eg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!eg(this.value.arrayValue,t)}}class C1 extends un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>eg(this.value.arrayValue,r))}}class b1{constructor(e,t=null,r=[],s=[],u=null,l=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=g,this.dt=null}}function qC(n,e=null,t=[],r=[],s=null,u=null,l=null){return new b1(n,e,t,r,s,u,l)}function rd(n){const e=Xe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>gw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ed(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ed(r)).join(",")),e.dt=t}return e.dt}function Ec(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Hh(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$C(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hw(n.startAt,e.startAt)&&hw(n.endAt,e.endAt)}function Gy(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function zy(n,e){return n.filters.filter(t=>t instanceof un&&t.field.isEqual(e))}function mw(n,e,t){let r=Xp,s=!0;for(const u of zy(n,e)){let l=Xp,g=!0;switch(u.op){case"<":case"<=":l=E1(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,g=!1;break;case"!=":case"not-in":l=Xp}BC({value:r,inclusive:s},{value:l,inclusive:g})<0&&(r=l,s=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];BC({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}return{value:r,inclusive:s}}function Ic(n,e,t){let r=mu,s=!0;for(const u of zy(n,e)){let l=mu,g=!0;switch(u.op){case">=":case">":l=VC(u.value),g=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,g=!1;break;case"!=":case"not-in":l=mu}dw({value:r,inclusive:s},{value:l,inclusive:g})>0&&(r=l,s=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];dw({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}return{value:r,inclusive:s}}class Ma{constructor(e,t=null,r=[],s=[],u=null,l="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=g,this.endAt=v,this.wt=null,this._t=null}}function qy(n,e,t,r,s,u,l,g){return new Ma(n,e,t,r,s,u,l,g)}function Dc(n){return new Ma(n)}function WC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ig(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Gh(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function zh(n){return null!==n.collectionGroup}function qh(n){const e=Xe(n);if(null===e.wt){e.wt=[];const t=Gh(e),r=ig(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new nd(t)),e.wt.push(new nd(fr.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new nd(fr.keyField(),u))}}}return e.wt}function _s(n){const e=Xe(n);if(!e._t)if("F"===e.limitType)e._t=qC(e.path,e.collectionGroup,qh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of qh(e))t.push(new nd(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new vu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new vu(e.startAt.position,e.startAt.inclusive):null;e._t=qC(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function ZC(n,e){e.getFirstInequalityField(),Gh(n);const t=n.filters.concat([e]);return new Ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sg(n,e,t){return new Ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function og(n,e){return Ec(_s(n),_s(e))&&n.limitType===e.limitType}function KC(n){return`${rd(_s(n))}|lt:${n.limitType}`}function yw(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>FS(r)).join(", ")}]`),Vh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ed(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ed(r)).join(",")),`Target(${t})`}(_s(n))}; limitType=${n.limitType})`}function ag(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):et.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of qh(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,l){const g=jC(s,u,l);return s.inclusive?g<=0:g<0}(t.startAt,qh(t),r)||t.endAt&&!function(s,u,l){const g=jC(s,u,l);return s.inclusive?g>=0:g>0}(t.endAt,qh(t),r)));var t,r}function vw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _w(n){return(e,t)=>{let r=!1;for(const s of qh(n)){const u=YC(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function YC(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(s,u,l){const g=u.data.field(s),v=l.data.field(s);return null!==g&&null!==v?Sa(g,v):ct()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}class _u{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){vc(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return aw(this.inner)}size(){return this.innerSize}}const BS=new On(et.comparator);function ns(){return BS}const Wy=new On(et.comparator);function Zy(...n){let e=Wy;for(const t of n)e=e.insert(t.key,t);return e}function ww(n){let e=Wy;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function po(){return ug()}function QC(){return ug()}function ug(){return new _u(n=>n.toString(),(n,e)=>n.isEqual(e))}const T1=new On(et.comparator),A1=new er(et.comparator);function Yt(...n){let e=A1;for(const t of n)e=e.add(t);return e}const jS=new er(qt);function Ew(){return jS}function JC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kp(e)?"-0":e}}function Iw(n){return{integerValue:""+n}}function Dw(n,e){return ew(e)?Iw(e):JC(n,e)}class Cw{constructor(){this._=void 0}}function HS(n,e,t){return n instanceof id?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Yp(s)&&(s=Qp(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof sd?Ky(n,e):n instanceof od?XC(n,e):function(r,s){const u=Tw(r,s),l=Aw(u)+Aw(r.gt);return FC(u)&&FC(r.gt)?Iw(l):JC(r.serializer,l)}(n,e)}function bw(n,e,t){return n instanceof sd?Ky(n,e):n instanceof od?XC(n,e):t}function Tw(n,e){return n instanceof ad?FC(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class id extends Cw{}class sd extends Cw{constructor(e){super(),this.elements=e}}function Ky(n,e){const t=$S(e);for(const r of n.elements)t.some(s=>Zo(s,r))||t.push(r);return{arrayValue:{values:t}}}class od extends Cw{constructor(e){super(),this.elements=e}}function XC(n,e){let t=$S(e);for(const r of n.elements)t=t.filter(s=>!Zo(s,r));return{arrayValue:{values:t}}}class ad extends Cw{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Aw(n){return Er(n.integerValue||n.doubleValue)}function $S(n){return jh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cg{constructor(e,t){this.field=e,this.transform=t}}class S1{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sw(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Mw{}function eb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new dg(n.key,ir.none()):new lg(n.key,n.data,ir.none());{const t=n.data,r=Ui.empty();let s=new er(fr.comparator);for(let u of e.fields)if(!s.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new wu(n.key,r,new vs(s.toArray()),ir.none())}}function M1(n,e,t){n instanceof lg?function(r,s,u){const l=r.value.clone(),g=qS(r.fieldTransforms,s,u.transformResults);l.setAll(g),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof wu?function(r,s,u){if(!Sw(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=qS(r.fieldTransforms,s,u.transformResults),g=s.data;g.setAll(zS(r)),g.setAll(l),s.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Qy(n,e,t,r){return n instanceof lg?function(s,u,l,g){if(!Sw(s.precondition,u))return l;const v=s.value.clone(),C=WS(s.fieldTransforms,g,u);return v.setAll(C),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof wu?function(s,u,l,g){if(!Sw(s.precondition,u))return l;const v=WS(s.fieldTransforms,g,u),C=u.data;return C.setAll(zS(s)),C.setAll(v),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,Sw(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function x1(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=Tw(r.transform,s||null);null!=u&&(null===t&&(t=Ui.empty()),t.set(r.field,u))}return t||null}function GS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&zp(t,r,(s,u)=>function Yy(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof sd&&r instanceof sd||t instanceof od&&r instanceof od?zp(t.elements,r.elements,Zo):t instanceof ad&&r instanceof ad?Zo(t.gt,r.gt):t instanceof id&&r instanceof id);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class lg extends Mw{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wu extends Mw{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function qS(n,e,t){const r=new Map;bt(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],l=u.transform,g=e.data.field(u.field);r.set(u.field,bw(l,g,t[s]))}return r}function WS(n,e,t){const r=new Map;for(const s of n){const u=s.transform,l=t.data.field(s.field);r.set(s.field,HS(u,l,e))}return r}class dg extends Mw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tb extends Mw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xw{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&M1(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qy(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Qy(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=QC();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let g=this.applyToLocalView(l,u.mutatedFields);g=t.has(s.key)?null:g;const v=eb(l,g);null!==v&&r.set(s.key,v),l.isValidDocument()||l.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yt())}isEqual(e){return this.batchId===e.batchId&&zp(this.mutations,e.mutations,(t,r)=>GS(t,r))&&zp(this.baseMutations,e.baseMutations,(t,r)=>GS(t,r))}}class nb{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){bt(e.mutations.length===r.length);let s=T1;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new nb(e,t,r,s)}}class i{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class a{constructor(e,t){this.count=e,this.unchangedNames=t}}var c,h;function f(n){switch(n){default:return ct();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function y(n){if(void 0===n)return hr("GRPC error has no .code"),ce.UNKNOWN;switch(n){case c.OK:return ce.OK;case c.CANCELLED:return ce.CANCELLED;case c.UNKNOWN:return ce.UNKNOWN;case c.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case c.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case c.INTERNAL:return ce.INTERNAL;case c.UNAVAILABLE:return ce.UNAVAILABLE;case c.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case c.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case c.NOT_FOUND:return ce.NOT_FOUND;case c.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case c.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case c.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case c.ABORTED:return ce.ABORTED;case c.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case c.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case c.DATA_LOSS:return ce.DATA_LOSS;default:return ct()}}(h=c||(c={}))[h.OK=0]="OK",h[h.CANCELLED=1]="CANCELLED",h[h.UNKNOWN=2]="UNKNOWN",h[h.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",h[h.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",h[h.NOT_FOUND=5]="NOT_FOUND",h[h.ALREADY_EXISTS=6]="ALREADY_EXISTS",h[h.PERMISSION_DENIED=7]="PERMISSION_DENIED",h[h.UNAUTHENTICATED=16]="UNAUTHENTICATED",h[h.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",h[h.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",h[h.ABORTED=10]="ABORTED",h[h.OUT_OF_RANGE=11]="OUT_OF_RANGE",h[h.UNIMPLEMENTED=12]="UNIMPLEMENTED",h[h.INTERNAL=13]="INTERNAL",h[h.UNAVAILABLE=14]="UNAVAILABLE",h[h.DATA_LOSS=15]="DATA_LOSS";class w{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return D}static getOrCreateInstance(){return null===D&&(D=new w),D}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let D=null;function A(){return new TextEncoder}const R=new Yl([4294967295,4294967295],0);function V(n){const e=A().encode(n),t=new wS;return t.update(e),new Uint8Array(t.digest())}function W(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Yl([t,r],0),new Yl([s,u],0)]}class X{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ie(`Invalid padding: ${t}`);if(r<0)throw new Ie(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ie(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Ie(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Yl.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(Yl.fromNumber(r)));return 1===s.compare(R)&&(s=new Yl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=V(e),[r,s]=W(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new X(u,s,t);return r.forEach(g=>l.insert(g)),l}insert(e){if(0===this.It)return;const t=V(e),[r,s]=W(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ie extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fe{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Ye.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Fe(vt.min(),s,new On(qt),ns(),Yt())}}class Ye{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ye(r,t,Yt(),Yt(),Yt())}}class yt{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class be{constructor(e,t){this.targetId=e,this.Vt=t}}class Ht{constructor(e,t,r=Yr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class an{constructor(){this.St=0,this.Dt=hg(),this.Ct=Yr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Yt(),t=Yt(),r=Yt();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ct()}}),new Ye(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=hg()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ln{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ns(),this.zt=bi(),this.Wt=new On(qt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(Gy(l))if(0===s){const g=new et(l.path);this.Yt(r,g,qn.newNoDocument(g,vt.min()))}else bt(1===s);else{const g=this.ie(r);if(g!==s){const v=this.re(e,g);0!==v&&(this.ee(r),this.Wt=this.Wt.insert(r,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=w.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,T,x){var H,K,ue,ye,me,rt;const _t={localCacheCount:T,existenceFilterCount:x.count},Ge=x.unchangedNames;return Ge&&(_t.bloomFilter={applied:0===C,hashCount:null!==(H=Ge?.hashCount)&&void 0!==H?H:0,bitmapLength:null!==(ye=null===(ue=null===(K=Ge?.bits)||void 0===K?void 0:K.bitmap)||void 0===ue?void 0:ue.length)&&void 0!==ye?ye:0,padding:null!==(rt=null===(me=Ge?.bits)||void 0===me?void 0:me.padding)&&void 0!==rt?rt:0}),_t}(v,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:g=0}=r;let v,C;try{v=Wo(u).toUint8Array()}catch(T){if(T instanceof OS)return fo("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{C=new X(v,l,g)}catch(T){return fo(T instanceof Ie?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===C.It?1:s!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const l=this.Gt.ue(),g=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(g)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const g=this.se(l);if(g){if(u.current&&Gy(g.target)){const v=new et(g.target.path);null!==this.jt.get(v)||this.ae(l,v)||this.Yt(l,v,qn.newNoDocument(v,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Yt();this.zt.forEach((u,l)=>{let g=!0;l.forEachWhile(v=>{const C=this.se(v);return!C||"TargetPurposeLimboResolution"===C.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const s=new Fe(e,t,this.Wt,this.jt,r);return this.jt=ns(),this.zt=bi(),this.Wt=new On(qt),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new an,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new er(qt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new an),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function bi(){return new On(et.comparator)}function hg(){return new On(et.comparator)}const ZS={asc:"ASCENDING",desc:"DESCENDING"},KS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nk={and:"AND",or:"OR"};class rk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function YS(n,e){return n.useProto3Json||Vh(e)?e:{value:e}}function Jy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ik(n,e){return Jy(n,e.toTimestamp())}function Qr(n){return bt(!!n),vt.fromTimestamp(function(e){const t=_c(e);return new zn(t.seconds,t.nanos)}(n))}function QS(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function N1(n){const e=cn.fromString(n);return bt(j1(e)),e}function Rw(n,e){return QS(n.databaseId,e.path)}function Cc(n,e){const t=N1(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(O1(t))}function JS(n,e){return QS(n.databaseId,e)}function P1(n){const e=N1(n);return 4===e.length?cn.emptyPath():O1(e)}function Nw(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function O1(n){return bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function k1(n,e,t){return{name:Rw(n,e),fields:t.value.mapValue.fields}}function F1(n,e,t){const r=Cc(n,e.name),s=Qr(e.updateTime),u=e.createTime?Qr(e.createTime):vt.min(),l=new Ui({mapValue:{fields:e.fields}}),g=qn.newFoundDocument(r,s,u,l);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function Pw(n,e){let t;if(e instanceof lg)t={update:k1(n,e.key,e.value)};else if(e instanceof dg)t={delete:Rw(n,e.key)};else if(e instanceof wu)t={update:k1(n,e.key,e.data),updateMask:hk(e.fieldMask)};else{if(!(e instanceof tb))return ct();t={verify:Rw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof id)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof od)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ad)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw ct()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:ik(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:ct()),t;var s}function XS(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?ir.updateTime(Qr(s.updateTime)):void 0!==s.exists?ir.exists(s.exists):ir.none():ir.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,l){let g=null;"setToServerValue"in l?(bt("REQUEST_TIME"===l.setToServerValue),g=new id):"appendMissingElements"in l?g=new sd(l.appendMissingElements.values||[]):"removeAllFromArray"in l?g=new od(l.removeAllFromArray.values||[]):"increment"in l?g=new ad(u,l.increment):ct();const v=fr.fromServerFormat(l.fieldPath);return new cg(v,g)}(n,s)):[];var s;if(e.update){const s=Cc(n,e.update.name),u=new Ui({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new vs((e.updateMask.fieldPaths||[]).map(C=>fr.fromServerFormat(C)));return new wu(s,u,l,t,r)}return new lg(s,u,t,r)}if(e.delete){const s=Cc(n,e.delete);return new dg(s,t)}if(e.verify){const s=Cc(n,e.verify);return new tb(s,t)}return ct()}function L1(n,e){return{documents:[JS(n,e.path)]}}function eM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=JS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=JS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(v){if(0!==v.length)return B1(En.create(v,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(v){if(0!==v.length)return v.map(C=>{return{field:Wh((T=C).field),direction:ck(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=YS(n,e.limit);var g,v;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function U1(n){let e=P1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){bt(1===r);const T=t.from[0];T.allDescendants?s=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const x=V1(T);return x instanceof En&&HC(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new nd(Xy((x=T).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let g=null;t.limit&&(g=function(T){let x;return x="object"==typeof T?T.value:T,Vh(x)?null:x}(t.limit));let v=null;var T;t.startAt&&(v=new vu((T=t.startAt).values||[],!!T.before));let C=null;return t.endAt&&(C=function(T){return new vu(T.values||[],!T.before)}(t.endAt)),qy(e,s,l,u,g,"F",v,C)}function V1(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xy(e.unaryFilter.field);return un.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Xy(e.unaryFilter.field);return un.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xy(e.unaryFilter.field);return un.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xy(e.unaryFilter.field);return un.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(n):void 0!==n.fieldFilter?un.create(Xy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return En.create(e.compositeFilter.filters.map(t=>V1(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ct()}}(e.compositeFilter.op))}(n):ct();var e}function ck(n){return ZS[n]}function lk(n){return KS[n]}function dk(n){return nk[n]}function Wh(n){return{fieldPath:n.canonicalString()}}function Xy(n){return fr.fromServerFormat(n.fieldPath)}function B1(n){return n instanceof un?function(e){if("=="===e.op){if(UC(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NAN"}};if(LC(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(UC(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NOT_NAN"}};if(LC(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wh(e.field),op:lk(e.op),value:e.value}}}(n):n instanceof En?function(e){const t=e.getFilters().map(r=>B1(r));return 1===t.length?t[0]:{compositeFilter:{op:dk(e.op),filters:t}}}(n):ct()}function hk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function j1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ud{constructor(e,t,r,s,u=vt.min(),l=vt.min(),g=Yr.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new ud(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H1{constructor(e){this.fe=e}}function $1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Rw(s=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Jy(s,u.version.toTimestamp()),createTime:Jy(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:fg(e.version)};else{if(!e.isUnknownDocument())return ct();r.unknownDocument={path:t.path.toArray(),version:fg(e.version)}}var s,u;return r}function rb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pg(n){const e=new zn(n.seconds,n.nanoseconds);return vt.fromTimestamp(e)}function gg(n,e){const t=(e.baseMutations||[]).map(u=>XS(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>XS(n.fe,u)),s=zn.fromMillis(e.localWriteTimeMs);return new xw(e.batchId,s,t,r)}function Ow(n){const e=pg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?pg(n.lastLimboFreeSnapshotVersion):vt.min();let r;var s;return void 0!==n.query.documents?(bt(1===(s=n.query).documents.length),r=_s(Dc(P1(s.documents[0])))):r=_s(U1(n.query)),new ud(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Yr.fromBase64String(n.resumeToken))}function G1(n,e){const t=fg(e.snapshotVersion),r=fg(e.lastLimboFreeSnapshotVersion);let s;s=Gy(e.target)?L1(n.fe,e.target):eM(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rd(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function tM(n){const e=U1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?sg(e,e.limit,"L"):e}function nM(n,e){return new i(e.largestBatchId,XS(n.fe,e.overlayMutation))}function z1(n,e){const t=e.path.lastSegment();return[n,Ci(e.path.popLast()),t]}function q1(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:fg(r.readTime),documentKey:Ci(r.documentKey.path),largestBatchId:r.largestBatchId}}class pk{getBundleMetadata(e,t){return W1(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:pg(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return W1(e).put({bundleId:(r=t).id,createTime:fg(Qr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Z1(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:tM(s.bundledQuery),readTime:pg(s.readTime)};var s})}saveNamedQuery(e,t){return Z1(e).put({name:(r=t).name,readTime:fg(Qr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function W1(n){return ci(n,"bundles")}function Z1(n){return ci(n,"namedQueries")}class ib{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new ib(e,t.uid||"")}getOverlay(e,t){return kw(e).get(z1(this.userId,t)).next(r=>r?nM(this.serializer,r):null)}getOverlays(e,t){const r=po();return oe.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((u,l)=>{const g=new i(t,l);s.push(this.we(e,g))}),oe.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(l=>s.add(Ci(l.getCollectionPath())));const u=[];return s.forEach(l=>{const g=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(kw(e).J("collectionPathOverlayIndex",g))}),oe.waitFor(u)}getOverlaysForCollection(e,t,r){const s=po(),u=Ci(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return kw(e).j("collectionPathOverlayIndex",l).next(g=>{for(const v of g){const C=nM(this.serializer,v);s.set(C.getKey(),C)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=po();let l;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kw(e).X({index:"collectionGroupOverlayIndex",range:g},(v,C,T)=>{const x=nM(this.serializer,C);u.size()<s||x.largestBatchId===l?(u.set(x.getKey(),x),l=x.largestBatchId):T.done()}).next(()=>u)}we(e,t){return kw(e).put(function(r,s,u){const[l,g,v]=z1(s,u.mutation.key);return{userId:s,collectionPath:g,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Pw(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function kw(n){return ci(n,"documentOverlays")}class mg{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Er(e.integerValue));else if("doubleValue"in e){const r=Er(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Kp(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Wo(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?lw(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ct()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),et.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function gk(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function K1(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=gk(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}mg.Ve=new mg;class mk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const s=t.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const s=t.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(e){const t=this.Fe(e),r=K1(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Le(e){const t=this.Fe(e),r=K1(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class yk{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class vk{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Fw{constructor(){this.je=new mk,this.ze=new yk(this.je),this.We=new vk(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class yg{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new yg(this.indexId,this.documentKey,this.arrayValue,r)}}function Zh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Y1(n.arrayValue,e.arrayValue),0!==t?t:(t=Y1(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function Y1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class _k{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){bt(e.collectionGroup===this.collectionId);const t=J0(e);if(void 0!==t&&!this.en(t))return!1;const r=fu(e);let s=new Set,u=0,l=0;for(;u<r.length&&this.en(r[u]);++u)s=s.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!s.has(this.Ze.field.canonicalString())){const g=r[u];if(!this.nn(this.Ze,g)||!this.sn(this.Ye[l++],g))return!1}++u}for(;u<r.length;++u)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Q1(n){var e,t;if(bt(n instanceof un||n instanceof En),n instanceof un){if(n instanceof VS){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>un.create(n.field,"==",u)))||[];return En.create(s,"or")}return n}const r=n.filters.map(s=>Q1(s));return En.create(r,n.op)}function wk(n){if(0===n.getFilters().length)return[];const e=sM(Q1(n));return bt(J1(e)),rM(e)||iM(e)?[e]:e.getFilters()}function rM(n){return n instanceof un}function iM(n){return n instanceof En&&HC(n)}function J1(n){return rM(n)||iM(n)||function(e){if(e instanceof En&&fw(e)){for(const t of e.getFilters())if(!rM(t)&&!iM(t))return!1;return!0}return!1}(n)}function sM(n){if(bt(n instanceof un||n instanceof En),n instanceof un)return n;if(1===n.filters.length)return sM(n.filters[0]);const e=n.filters.map(r=>sM(r));let t=En.create(e,n.op);return t=sb(t),J1(t)?t:(bt(t instanceof En),bt($h(t)),bt(t.filters.length>1),t.filters.reduce((r,s)=>oM(r,s)))}function oM(n,e){let t;return bt(n instanceof un||n instanceof En),bt(e instanceof un||e instanceof En),t=n instanceof un?e instanceof un?En.create([n,e],"and"):X1(n,e):e instanceof un?X1(e,n):function(r,s){if(bt(r.filters.length>0&&s.filters.length>0),$h(r)&&$h(s))return kS(r,s.getFilters());const u=fw(r)?r:s,l=fw(r)?s:r,g=u.filters.map(v=>oM(v,l));return En.create(g,"or")}(n,e),sb(t)}function X1(n,e){if($h(e))return kS(e,n.getFilters());{const t=e.filters.map(r=>oM(n,r));return En.create(t,"or")}}function sb(n){if(bt(n instanceof un||n instanceof En),n instanceof un)return n;const e=n.getFilters();if(1===e.length)return sb(e[0]);if(pw(n))return n;const t=e.map(s=>sb(s)),r=[];return t.forEach(s=>{s instanceof un?r.push(s):s instanceof En&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:En.create(r,n.op)}class Ek{constructor(){this.rn=new aM}addToCollectionParentIndex(e,t){return this.rn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Ls.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class aM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new er(cn.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new er(cn.comparator)).toArray()}}const ob=new Uint8Array(0);class Ik{constructor(e,t){this.user=e,this.databaseId=t,this.on=new aM,this.un=new _u(r=>rd(r),(r,s)=>Ec(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:Ci(s)};return eN(e).put(u)}return oe.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[Q0(t),""],!1,!0);return eN(e).j(s).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(Aa(l.parent))}return r})}addFieldIndex(e,t){const r=ab(e),s={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var l;delete s.indexId;const u=r.add(s);if(t.indexState){const l=Uw(e);return u.next(g=>{l.put(q1(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=ab(e),s=Uw(e),u=Lw(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Lw(e);let s=!0;const u=new Map;return oe.forEach(this.cn(t),l=>this.an(e,l).next(g=>{s&&(s=!!g),u.set(l,g)})).next(()=>{if(s){let l=Yt();const g=[];return oe.forEach(u,(v,C)=>{var T;Ue("IndexedDbIndexManager",`Using index ${T=v,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Ge=>`${Ge.fieldPath}:${Ge.kind}`).join(",")}`} to execute ${rd(t)}`);const x=function(Ge,at){const Nt=J0(at);if(void 0===Nt)return null;for(const Zt of zy(Ge,Nt.fieldPath))switch(Zt.op){case"array-contains-any":return Zt.value.arrayValue.values||[];case"array-contains":return[Zt.value]}return null}(C,v),H=function(Ge,at){const Nt=new Map;for(const Zt of fu(at))for(const di of zy(Ge,Zt.fieldPath))switch(di.op){case"==":case"in":Nt.set(Zt.fieldPath.canonicalString(),di.value);break;case"not-in":case"!=":return Nt.set(Zt.fieldPath.canonicalString(),di.value),Array.from(Nt.values())}return null}(C,v),K=function(Ge,at){const Nt=[];let Zt=!0;for(const di of fu(at)){const Yo=0===di.kind?mw(Ge,di.fieldPath,Ge.startAt):Ic(Ge,di.fieldPath,Ge.startAt);Nt.push(Yo.value),Zt&&(Zt=Yo.inclusive)}return new vu(Nt,Zt)}(C,v),ue=function(Ge,at){const Nt=[];let Zt=!0;for(const di of fu(at)){const Yo=0===di.kind?Ic(Ge,di.fieldPath,Ge.endAt):mw(Ge,di.fieldPath,Ge.endAt);Nt.push(Yo.value),Zt&&(Zt=Yo.inclusive)}return new vu(Nt,Zt)}(C,v),ye=this.hn(v,C,K),me=this.hn(v,C,ue),rt=this.ln(v,C,H),_t=this.fn(v.indexId,x,ye,K.inclusive,me,ue.inclusive,rt);return oe.forEach(_t,Ge=>r.H(Ge,t.limit).next(at=>{at.forEach(Nt=>{const Zt=et.fromSegments(Nt.documentKey);l.has(Zt)||(l=l.add(Zt),g.push(Zt))})}))}).next(()=>g)}return oe.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:wk(En.create(e.filters,"and")).map(r=>qC(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,s,u,l,g){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),C=v/(null!=t?t.length:1),T=[];for(let x=0;x<v;++x){const H=t?this.dn(t[x/C]):ob,K=this.wn(e,H,r[x%C],s),ue=this._n(e,H,u[x%C],l),ye=g.map(me=>this.wn(e,H,me,!0));T.push(...this.createRange(K,ue,ye))}return T}wn(e,t,r,s){const u=new yg(e,et.empty(),t,r);return s?u:u.Je()}_n(e,t,r,s){const u=new yg(e,et.empty(),t,r);return s?u.Je():u}an(e,t){const r=new _k(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let l=null;for(const g of u)r.tn(g)&&(!l||g.fields.length>l.fields.length)&&(l=g);return l})}getIndexType(e,t){let r=2;const s=this.cn(t);return oe.forEach(s,u=>this.an(e,u).next(l=>{l?0!==r&&l.fields.length<function(g){let v=new er(fr.comparator),C=!1;for(const T of g.filters)for(const x of T.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?C=!0:v=v.add(x.field));for(const T of g.orderBy)T.field.isKeyField()||(v=v.add(T.field));return v.size+(C?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}mn(e,t){const r=new Fw;for(const s of fu(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const l=r.He(s.kind);mg.Ve._e(u,l)}return r.Qe()}dn(e){const t=new Fw;return mg.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Fw;return mg.Ve._e(td(this.databaseId,t),r.He(function(s){const u=fu(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let s=[];s.push(new Fw);let u=0;for(const l of fu(e)){const g=r[u++];for(const v of s)if(this.yn(t,l.fieldPath)&&jh(g))s=this.pn(s,l,g);else{const C=v.He(l.kind);mg.Ve._e(g,C)}}return this.In(s)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const s=[...e],u=[];for(const l of r.arrayValue.values||[])for(const g of s){const v=new Fw;v.seed(g.Qe()),mg.Ve._e(l,v.He(t.kind)),u.push(v)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof un&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ab(e),s=Uw(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const l=[];return oe.forEach(u,g=>s.get([g.indexId,this.uid]).next(v=>{l.push(function(C,T){const x=T?new Ql(T.sequenceNumber,new Ls(pg(T.readTime),new et(Aa(T.documentKey)),T.largestBatchId)):Ql.empty(),H=C.fields.map(([K,ue])=>new ky(fr.fromServerFormat(K),ue));return new Oy(C.indexId,C.collectionGroup,H,x)}(g,v))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:qt(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=ab(e),u=Uw(e);return this.Tn(e).next(l=>s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>oe.forEach(g,v=>u.put(q1(v.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return oe.forEach(t,(s,u)=>{const l=r.get(s.collectionGroup);return(l?oe.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next(g=>(r.set(s.collectionGroup,g),oe.forEach(g,v=>this.En(e,s,v).next(C=>{const T=this.An(u,v);return C.isEqual(T)?oe.resolve():this.vn(e,u,v,C,T)}))))})}Rn(e,t,r,s){return Lw(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,s){return Lw(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const s=Lw(e);let u=new er(Zh);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,g)=>{u=u.add(new yg(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}An(e,t){let r=new er(Zh);const s=this.mn(t,e);if(null==s)return r;const u=J0(t);if(null!=u){const l=e.data.field(u.fieldPath);if(jh(l))for(const g of l.arrayValue.values||[])r=r.add(new yg(t.indexId,e.key,this.dn(g),s))}else r=r.add(new yg(t.indexId,e.key,ob,s));return r}vn(e,t,r,s,u){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(g,v,C,T,x){const H=g.getIterator(),K=v.getIterator();let ue=Xl(H),ye=Xl(K);for(;ue||ye;){let me=!1,rt=!1;if(ue&&ye){const _t=C(ue,ye);_t<0?rt=!0:_t>0&&(me=!0)}else null!=ue?rt=!0:me=!0;me?(T(ye),ye=Xl(K)):rt?(x(ue),ue=Xl(H)):(ue=Xl(H),ye=Xl(K))}}(s,u,Zh,g=>{l.push(this.Rn(e,t,r,g))},g=>{l.push(this.Pn(e,t,r,g))}),oe.waitFor(l)}Tn(e){let t=1;return Uw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,g)=>Zh(l,g)).filter((l,g,v)=>!g||0!==Zh(l,v[g-1]));const s=[];s.push(e);for(const l of r){const g=Zh(l,e),v=Zh(l,t);if(0===g)s[0]=e.Je();else if(g>0&&v<0)s.push(l),s.push(l.Je());else if(v>0)break}s.push(t);const u=[];for(let l=0;l<s.length;l+=2){if(this.bn(s[l],s[l+1]))return[];u.push(IDBKeyRange.bound([s[l].indexId,this.uid,s[l].arrayValue,s[l].directionalValue,ob,[]],[s[l+1].indexId,this.uid,s[l+1].arrayValue,s[l+1].directionalValue,ob,[]]))}return u}bn(e,t){return Zh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tN)}getMinOffset(e,t){return oe.mapArray(this.cn(t),r=>this.an(e,r).next(s=>s||ct())).next(tN)}}function eN(n){return ci(n,"collectionParents")}function Lw(n){return ci(n,"indexEntries")}function ab(n){return ci(n,"indexConfiguration")}function Uw(n){return ci(n,"indexState")}function tN(n){bt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;Ly(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Ls(e.readTime,e.documentKey,t)}const nN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rN(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let g=0;const v=r.X({range:l},(T,x,H)=>(g++,H.delete()));u.push(v.next(()=>{bt(1===g)}));const C=[];for(const T of t.mutations){const x=rw(e,T.key.path,t.batchId);u.push(s.delete(x)),C.push(T.key)}return oe.waitFor(u).next(()=>C)}function ub(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ct();e=n.noDocument}return JSON.stringify(e).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class cb{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Vn={}}static de(e,t,r,s){bt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new cb(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kh(e).X({index:"userMutationsIndex",range:r},(s,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=ev(e),l=Kh(e);return l.add({}).next(g=>{bt("number"==typeof g);const v=new xw(g,t,r,s),C=function(H,K,ue){const ye=ue.baseMutations.map(rt=>Pw(H.fe,rt)),me=ue.mutations.map(rt=>Pw(H.fe,rt));return{userId:K,batchId:ue.batchId,localWriteTimeMs:ue.localWriteTime.toMillis(),baseMutations:ye,mutations:me}}(this.serializer,this.userId,v),T=[];let x=new er((H,K)=>qt(H.canonicalString(),K.canonicalString()));for(const H of s){const K=rw(this.userId,H.key.path,g);x=x.add(H.key.path.popLast()),T.push(l.put(C)),T.push(u.put(K,d1))}return x.forEach(H=>{T.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.Vn[g]=v.keys()}),oe.waitFor(T).next(()=>v)})}lookupMutationBatch(e,t){return Kh(e).get(t).next(r=>r?(bt(r.userId===this.userId),gg(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?oe.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Vn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Kh(e).X({index:"userMutationsIndex",range:s},(l,g,v)=>{g.userId===this.userId&&(bt(g.batchId>=r),u=gg(this.serializer,g)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Kh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(s,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kh(e).j("userMutationsIndex",t).next(r=>r.map(s=>gg(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=nw(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return ev(e).X({range:s},(l,g,v)=>{const[C,T,x]=l,H=Aa(T);if(C===this.userId&&t.path.isEqual(H))return Kh(e).get(x).next(K=>{if(!K)throw ct();bt(K.userId===this.userId),u.push(gg(this.serializer,K))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new er(qt);const s=[];return t.forEach(u=>{const l=nw(this.userId,u.path),g=IDBKeyRange.lowerBound(l),v=ev(e).X({range:g},(C,T,x)=>{const[H,K,ue]=C,ye=Aa(K);H===this.userId&&u.path.isEqual(ye)?r=r.add(ue):x.done()});s.push(v)}),oe.waitFor(s).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=nw(this.userId,r),l=IDBKeyRange.lowerBound(u);let g=new er(qt);return ev(e).X({range:l},(v,C,T)=>{const[x,H,K]=v,ue=Aa(H);x===this.userId&&r.isPrefixOf(ue)?ue.length===s&&(g=g.add(K)):T.done()}).next(()=>this.Dn(e,g))}Dn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(Kh(e).get(u).next(l=>{if(null===l)throw ct();bt(l.userId===this.userId),r.push(gg(this.serializer,l))}))}),oe.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return rN(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),oe.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return ev(e).X({range:r},(u,l,g)=>{if(u[0]===this.userId){const v=Aa(u[1]);s.push(v)}else g.done()}).next(()=>{bt(0===s.length)})})}containsKey(e,t){return iN(e,this.userId,t)}xn(e){return sN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function iN(n,e,t){const r=nw(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return ev(n).X({range:u,Y:!0},(g,v,C)=>{const[T,x,H]=g;T===e&&x===s&&(l=!0),C.done()}).next(()=>l)}function Kh(n){return ci(n,"mutations")}function ev(n){return ci(n,"documentMutations")}function sN(n){return ci(n,"mutationQueues")}class vg{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new vg(0)}static Mn(){return new vg(-1)}}class Dk{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new vg(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>vt.fromTimestamp(new zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.On(e,s)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>tv(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(bt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return tv(e).X((l,g)=>{const v=Ow(g);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(s++,u.push(this.removeTargetData(e,v)))}).next(()=>oe.waitFor(u)).next(()=>s)}forEachTarget(e,t){return tv(e).X((r,s)=>{const u=Ow(s);t(u)})}$n(e){return oN(e).get("targetGlobalKey").next(t=>(bt(null!==t),t))}On(e,t){return oN(e).put("targetGlobalKey",t)}Fn(e,t){return tv(e).put(G1(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=rd(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return tv(e).X({range:s,index:"queryTargetsIndex"},(l,g,v)=>{const C=Ow(g);Ec(t,C.target)&&(u=C,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=Yh(e);return t.forEach(l=>{const g=Ci(l.path);s.push(u.put({targetId:r,path:g})),s.push(this.referenceDelegate.addReference(e,r,l))}),oe.waitFor(s)}removeMatchingKeys(e,t,r){const s=Yh(e);return oe.forEach(t,u=>{const l=Ci(u.path);return oe.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Yh(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Yh(e);let u=Yt();return s.X({range:r,Y:!0},(l,g,v)=>{const C=Aa(l[1]),T=new et(C);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=Ci(t.path),s=IDBKeyRange.bound([r],[Q0(r)],!1,!0);let u=0;return Yh(e).X({index:"documentTargetsIndex",Y:!0,range:s},([l,g],v,C)=>{0!==l&&(u++,C.done())}).next(()=>u>0)}le(e,t){return tv(e).get(t).next(r=>r?Ow(r):null)}}function tv(n){return ci(n,"targets")}function oN(n){return ci(n,"targetGlobal")}function Yh(n){return ci(n,"targetDocuments")}function aN([n,e],[t,r]){const s=qt(n,t);return 0===s?qt(e,r):s}class Ck{constructor(e){this.Ln=e,this.buffer=new er(aN),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();aN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){mc(r)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield pu(r)}yield t.Qn(3e5)}))}}class bk{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return oe.resolve(Us.ct);const r=new Ck(t);return this.jn.forEachTarget(e,s=>r.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(e,s=>r.Kn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(nN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nN):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,s,u,l,g,v,C;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,l=Date.now(),this.nthSequenceNumber(e,s))).next(x=>(r=x,g=Date.now(),this.removeTargets(e,r,t))).next(x=>(u=x,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(C=Date.now(),$p()<=_a.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-T}ms\n\tDetermined least recently used ${s} in `+(g-l)+`ms\n\tRemoved ${u} targets in `+(v-g)+`ms\n\tRemoved ${x} documents in `+(C-v)+`ms\nTotal Duration: ${C-T}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:x})))}}class Tk{constructor(e,t){this.db=e,this.garbageCollector=function cN(n,e){return new bk(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,s)=>t(s))}addReference(e,t,r){return lb(e,r)}removeReference(e,t,r){return lb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return lb(e,t)}Xn(e,t){return function(r,s){let u=!1;return sN(r).Z(l=>iN(r,l,s).next(g=>(g&&(u=!0),oe.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Yn(e,(l,g)=>{if(g<=t){const v=this.Xn(e,l).next(C=>{if(!C)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,vt.min()),Yh(e).delete([0,Ci(l.path)])))});s.push(v)}}).next(()=>oe.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return lb(e,t)}Yn(e,t){const r=Yh(e);let s,u=Us.ct;return r.X({index:"documentTargetsIndex"},([l,g],{path:v,sequenceNumber:C})=>{0===l?(u!==Us.ct&&t(new et(Aa(s)),u),u=C,s=v):u=Us.ct}).next(()=>{u!==Us.ct&&t(new et(Aa(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lb(n,e){return Yh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ci(e.path),sequenceNumber:r}));var r}class lN{constructor(){this.changes=new _u(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ak{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return _g(e).put(r)}removeEntry(e,t,r){return _g(e).delete(function(s,u){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],rb(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=qn.newInvalidDocument(t);return _g(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Vw(t))},(s,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:qn.newInvalidDocument(t)};return _g(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Vw(t))},(s,u)=>{r={document:this.ts(t,u),size:ub(u)}}).next(()=>r)}getEntries(e,t){let r=ns();return this.ns(e,t,(s,u)=>{const l=this.ts(s,u);r=r.insert(s,l)}).next(()=>r)}ss(e,t){let r=ns(),s=new On(et.comparator);return this.ns(e,t,(u,l)=>{const g=this.ts(u,l);r=r.insert(u,g),s=s.insert(u,ub(l))}).next(()=>({documents:r,rs:s}))}ns(e,t,r){if(t.isEmpty())return oe.resolve();let s=new er(pN);t.forEach(v=>s=s.add(v));const u=IDBKeyRange.bound(Vw(s.first()),Vw(s.last())),l=s.getIterator();let g=l.getNext();return _g(e).X({index:"documentKeyIndex",range:u},(v,C,T)=>{const x=et.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;g&&pN(g,x)<0;)r(g,null),g=l.getNext();g&&g.isEqual(x)&&(r(g,C),g=l.hasNext()?l.getNext():null),g?T.G(Vw(g)):T.done()}).next(()=>{for(;g;)r(g,null),g=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,s){const u=t.path,l=[u.popLast().toArray(),u.lastSegment(),rb(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _g(e).j(IDBKeyRange.bound(l,g,!0)).next(v=>{let C=ns();for(const T of v){const x=this.ts(et.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);x.isFoundDocument()&&(ag(t,x)||s.has(x.key))&&(C=C.insert(x.key,x))}return C})}getAllFromCollectionGroup(e,t,r,s){let u=ns();const l=fN(t,r),g=fN(t,Ls.max());return _g(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,g,!0)},(v,C,T)=>{const x=this.ts(et.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);u=u.insert(x.key,x),u.size===s&&T.done()}).next(()=>u)}newChangeBuffer(e){return new Sk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return hN(e).get("remoteDocumentGlobalKey").next(t=>(bt(!!t),t))}Zn(e,t){return hN(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function fk(n,e){let t;if(e.document)t=F1(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),s=pg(e.noDocument.readTime);t=qn.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ct();{const r=et.fromSegments(e.unknownDocument.path),s=pg(e.unknownDocument.version);t=qn.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new zn(r[0],r[1]);return vt.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(vt.min()))return r}return qn.newInvalidDocument(e)}}function dN(n){return new Ak(n)}class Sk extends lN{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new _u(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new er((u,l)=>qt(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const g=this.us.get(u);if(t.push(this.os.removeEntry(e,u,g.readTime)),l.isValidDocument()){const v=$1(this.os.serializer,l);s=s.add(u.path.popLast());const C=ub(v);r+=C-g.size,t.push(this.os.addEntry(e,u,v))}else if(r-=g.size,this.trackRemovals){const v=$1(this.os.serializer,l.convertToNoDocument(vt.min()));t.push(this.os.addEntry(e,u,v))}}),s.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),oe.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:s})=>(s.forEach((u,l)=>{this.us.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function hN(n){return ci(n,"remoteDocumentGlobal")}function _g(n){return ci(n,"remoteDocumentsV14")}function Vw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fN(n,e){const t=e.documentKey.path.toArray();return[n,rb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pN(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=qt(t[u],r[u]),s)return s;return s=qt(t.length,r.length),s||(s=qt(t[t.length-2],r[r.length-2]),s||qt(t[t.length-1],r[r.length-1]))}class Mk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gN{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&Qy(r.mutation,s,vs.empty(),zn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Yt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Yt()){const s=po();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let l=Zy();return u.forEach((g,v)=>{l=l.insert(g,v.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=po();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Yt()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,g)=>{t.set(l,g)})})}computeViews(e,t,r,s){let u=ns();const l=ug(),g=ug();return t.forEach((v,C)=>{const T=r.get(C.key);s.has(C.key)&&(void 0===T||T.mutation instanceof wu)?u=u.insert(C.key,C):void 0!==T?(l.set(C.key,T.mutation.getFieldMask()),Qy(T.mutation,C,T.mutation.getFieldMask(),zn.now())):l.set(C.key,vs.empty())}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((C,T)=>l.set(C,T)),t.forEach((C,T)=>{var x;return g.set(C,new Mk(T,null!==(x=l.get(C))&&void 0!==x?x:null))}),g))}recalculateAndSaveOverlays(e,t){const r=ug();let s=new On((l,g)=>l-g),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const g of l)g.keys().forEach(v=>{const C=t.get(v);if(null===C)return;let T=r.get(v)||vs.empty();T=g.applyToLocalView(C,T),r.set(v,T);const x=(s.get(g.batchId)||Yt()).add(v);s=s.insert(g.batchId,x)})}).next(()=>{const l=[],g=s.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),C=v.key,T=v.value,x=QC();T.forEach(H=>{if(!u.has(H)){const K=eb(t.get(H),r.get(H));null!==K&&x.set(H,K),u=u.add(H)}}),l.push(this.documentOverlayCache.saveOverlays(e,C,x))}return oe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):zh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):oe.resolve(po());let g=-1,v=u;return l.next(C=>oe.forEach(C,(T,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),u.get(T)?oe.resolve():this.remoteDocumentCache.getEntry(e,T).next(H=>{v=v.insert(T,H)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,v,C,Yt())).next(T=>({batchId:g,changes:ww(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let s=Zy();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=Zy();return this.indexManager.getCollectionParents(e,s).next(l=>oe.forEach(l,g=>{const v=(C=t,T=g.child(s),new Ma(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,T;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(C=>{C.forEach((T,x)=>{u=u.insert(T,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((g,v)=>{const C=v.getKey();null===u.get(C)&&(u=u.insert(C,qn.newInvalidDocument(C)))});let l=Zy();return u.forEach((g,v)=>{const C=s.get(g);void 0!==C&&Qy(C.mutation,v,vs.empty(),zn.now()),ag(t,v)&&(l=l.insert(g,v))}),l})}}class xk{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return oe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Qr(r.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:tM(r.bundledQuery),readTime:Qr(r.readTime)}),oe.resolve();var r}}class Rk{constructor(){this.overlays=new On(et.comparator),this.ls=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=po();return oe.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const s=po(),u=t.length+1,l=new et(t.child("")),g=this.overlays.getIteratorFrom(l);for(;g.hasNext();){const v=g.getNext().value,C=v.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&v.largestBatchId>r&&s.set(v.getKey(),v)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new On((C,T)=>C-T);const l=this.overlays.getIterator();for(;l.hasNext();){const C=l.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let T=u.get(C.largestBatchId);null===T&&(T=po(),u=u.insert(C.largestBatchId,T)),T.set(C.getKey(),C)}}const g=po(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((C,T)=>g.set(C,T)),!(g.size()>=s)););return oe.resolve(g)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new i(t,r));let u=this.ls.get(t);void 0===u&&(u=Yt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class uM{constructor(){this.fs=new er(Vi.ds),this.ws=new er(Vi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Vi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Vi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new et(new cn([])),r=new Vi(t,e),s=new Vi(t,e+1),u=[];return this.ws.forEachInRange([r,s],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new et(new cn([])),r=new Vi(t,e),s=new Vi(t,e+1);let u=Yt();return this.ws.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Vi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Vi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return et.comparator(e.key,t.key)||qt(e.As,t.As)}static _s(e,t){return qt(e.As,t.As)||et.comparator(e.key,t.key)}}class Nk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new er(Vi.ds)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const l=new xw(u,t,r,s);this.mutationQueue.push(l);for(const g of s)this.Rs=this.Rs.add(new Vi(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,t){return oe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vi(t,0),s=new Vi(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],l=>{const g=this.Ps(l.As);u.push(g)}),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new er(qt);return t.forEach(s=>{const u=new Vi(s,0),l=new Vi(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],g=>{r=r.add(g.As)})}),oe.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;et.isDocumentKey(u)||(u=u.child(""));const l=new Vi(new et(u),0);let g=new er(qt);return this.Rs.forEachWhile(v=>{const C=v.key.path;return!!r.isPrefixOf(C)&&(C.length===s&&(g=g.add(v.As)),!0)},l),oe.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){bt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return oe.forEach(t.mutations,s=>{const u=new Vi(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Vi(t,0),s=this.Rs.firstAfterOrEqual(r);return oe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return oe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Pk{constructor(e){this.Ds=e,this.docs=new On(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(t))}getEntries(e,t){let r=ns();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():qn.newInvalidDocument(s))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=ns();const l=t.path,g=new et(l.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:C,value:{document:T}}=v.getNext();if(!l.isPrefixOf(C.path))break;C.path.length>l.length+1||Ly(X0(T),r)<=0||(s.has(T.key)||ag(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,t,r,s){ct()}Cs(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ok(this)}getSize(e){return oe.resolve(this.size)}}class Ok extends lN{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class kk{constructor(e){this.persistence=e,this.xs=new _u(t=>rd(t),Ec),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new uM,this.targetCount=0,this.Ms=vg.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),oe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new vg(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Fn(t),oe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((l,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),oe.waitFor(u).next(()=>s)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),oe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.ks.containsKey(t))}}class cM{constructor(e,t){this.$s={},this.overlays={},this.Os=new Us(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new kk(this),this.indexManager=new Ek,this.remoteDocumentCache=new Pk(r=>this.referenceDelegate.Ls(r)),this.serializer=new H1(t),this.qs=new xk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Nk(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const s=new Fk(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return oe.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Fk extends AC{constructor(e){super(),this.currentSequenceNumber=e}}class db{constructor(e){this.persistence=e,this.Qs=new uM,this.js=null}static zs(e){return new db(e)}get Ws(){if(this.js)return this.js;throw ct()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ws,r=>{const s=et.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,vt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return oe.or([()=>oe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Lk{constructor(e){this.serializer=e}O(e,t,r,s){const u=new Uy("createOrUpgrade",t);var g;r<1&&s>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",NC,{unique:!0}),g.createObjectStore("documentMutations"),mN(e),function(g){g.createObjectStore("remoteDocuments")}(e));let l=oe.resolve();return r<3&&s>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),mN(e)),l=l.next(()=>function(g){const v=g.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",C)}(u))),r<4&&s>=4&&(0!==r&&(l=l.next(()=>function(g,v){return v.store("mutations").j().next(C=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",NC,{unique:!0});const T=v.store("mutations"),x=C.map(H=>T.put(H));return oe.waitFor(x)})}(e,u))),l=l.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(l=l.next(()=>this.Ys(u))),r<6&&s>=6&&(l=l.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&s>=7&&(l=l.next(()=>this.Zs(u))),r<8&&s>=8&&(l=l.next(()=>this.ti(e,u))),r<9&&s>=9&&(l=l.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(l=l.next(()=>this.ei(u))),r<11&&s>=11&&(l=l.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(l=l.next(()=>{!function(g){const v=g.createObjectStore("documentOverlays",{keyPath:SS});v.createIndex("collectionPathOverlayIndex",By,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",MS,{unique:!1})}(e)})),r<13&&s>=13&&(l=l.next(()=>function(g){const v=g.createObjectStore("remoteDocumentsV14",{keyPath:h1});v.createIndex("documentKeyIndex",f1),v.createIndex("collectionGroupIndex",p1)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(l=l.next(()=>this.si(e,u))),r<15&&s>=15&&(l=l.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:_1}).createIndex("sequenceNumberIndex",PC,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:iw}).createIndex("documentKeyIndex",OC,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,s)=>{t+=ub(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(s=>oe.forEach(s,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(g=>oe.forEach(g,v=>{bt(v.userId===u.userId);const C=gg(this.serializer,v);return rN(e,u.userId,C).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.X((l,g)=>{const v=new cn(l),C=[0,Ci(v)];u.push(t.get(C).next(T=>T?oe.resolve():t.put({targetId:0,path:Ci(v),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>oe.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:v1});const r=t.store("collectionParents"),s=new aM,u=l=>{if(s.add(l)){const g=l.lastSegment(),v=l.popLast();return r.put({collectionId:g,parent:Ci(v)})}};return t.store("remoteDocuments").X({Y:!0},(l,g)=>{const v=new cn(l);return u(v.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,g,v],C)=>{const T=Aa(g);return u(T.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,s)=>{const u=Ow(s),l=G1(this.serializer,u);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),s=[];return r.X((u,l)=>{const g=t.store("remoteDocumentsV14"),v=(C=l,C.document?new et(cn.fromString(C.document.name).popFirst(5)):C.noDocument?et.fromSegments(C.noDocument.path):C.unknownDocument?et.fromSegments(C.unknownDocument.path):ct()).path.toArray();var C;const T={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(g.put(T))}).next(()=>oe.waitFor(s))}si(e,t){const r=t.store("mutations"),s=dN(this.serializer),u=new cM(db.zs,this.serializer.fe);return r.j().next(l=>{const g=new Map;return l.forEach(v=>{var C;let T=null!==(C=g.get(v.userId))&&void 0!==C?C:Yt();gg(this.serializer,v).keys().forEach(x=>T=T.add(x)),g.set(v.userId,T)}),oe.forEach(g,(v,C)=>{const T=new ui(C),x=ib.de(this.serializer,T),H=u.getIndexManager(T),K=cb.de(T,this.serializer,H,u.referenceDelegate);return new gN(s,K,x,H).recalculateAndSaveOverlaysForDocumentKeys(new ow(t,Us.ct),v).next()})})}}function mN(n){n.createObjectStore("targetDocuments",{keyPath:m1}).createIndex("documentTargetsIndex",y1,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",g1,{unique:!0}),n.createObjectStore("targetGlobal")}const lM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dM{constructor(e,t,r,s,u,l,g,v,C,T,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=l,this.document=g,this.ri=C,this.oi=T,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=H=>Promise.resolve(),!dM.D())throw new Re(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tk(this,s),this.di=t+"main",this.serializer=new H1(v),this.wi=new Ta(this.di,this.ui,new Lk(this.serializer)),this.Bs=new Dk(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dN(this.serializer),this.qs=new pk,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===T&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(ce.FAILED_PRECONDITION,lM);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Us(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Ee.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ee.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>fb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(mc(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Bw(e).get("owner").next(t=>oe.resolve(this.Ri(t)))}Pi(e){return fb(e).delete(this.clientId)}bi(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=ci(r,"clientMetadata");return s.j().next(u=>{const l=e.Si(u,18e5),g=u.filter(v=>-1===l.indexOf(v));return oe.forEach(g,v=>s.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?oe.resolve(!0):Bw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Re(ce.FAILED_PRECONDITION,lM);return!1}}return!(!this.networkEnabled||!this.inForeground)||fb(e).j().next(r=>void 0===this.Si(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new ow(t,Us.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>fb(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return cb.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ik(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return ib.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=15===(l=this.ui)?NS:14===l?sw:13===l?RS:12===l?w1:11===l?xS:void ct();var l;let g;return this.wi.runTransaction(e,s,u,v=>(g=new ow(v,this.Os?this.Os.next():Us.ct),"readwrite-primary"===t?this.Ti(g).next(C=>!!C||this.Ei(g)).next(C=>{if(!C)throw hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Re(ce.FAILED_PRECONDITION,Jl);return r(g)}).next(C=>this.vi(g).next(()=>C)):this.Oi(g).next(()=>r(g)))).then(v=>(g.raiseOnCommittedEvent(),v))}Oi(e){return Bw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(ce.FAILED_PRECONDITION,lM)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bw(e).put("owner",t)}static D(){return Ta.D()}Ai(e){const t=Bw(e);return t.get("owner").next(r=>this.Ri(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(hr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Gt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return hr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){hr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bw(n){return ci(n,"owner")}function fb(n){return ci(n,"clientMetadata")}function hM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class fM{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=Yt(),s=Yt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new fM(e,t.fromCache,r,s)}}class yN{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(WC(t))return oe.resolve(null);let r=_s(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=sg(t,null,"F"),r=_s(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Yt(...u);return this.Ui.getDocuments(e,l).next(g=>this.indexManager.getMinOffset(e,r).next(v=>{const C=this.ji(t,g);return this.zi(t,C,l,v.readTime)?this.Ki(e,sg(t,null,"F")):this.Wi(e,C,t,v)}))})))}Gi(e,t,r,s){return WC(t)||s.isEqual(vt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,s)?this.Qi(e,t):($p()<=_a.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),yw(t)),this.Wi(e,l,t,bS(s,-1)))})}ji(e,t){let r=new er(_w(e));return t.forEach((s,u)=>{ag(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return $p()<=_a.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",yw(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ls.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class Uk{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new On(qt),this.Yi=new _u(u=>rd(u),Ec),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gN(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function vN(n,e,t,r){return new Uk(n,e,t,r)}function _N(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,Ee.Z)(function*(n,e){const t=Xe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],g=[];let v=Yt();for(const C of s){l.push(C.batchId);for(const T of C.mutations)v=v.add(T.key)}for(const C of u){g.push(C.batchId);for(const T of C.mutations)v=v.add(T.key)}return t.localDocuments.getDocuments(r,v).next(C=>({er:C,removedBatchIds:l,addedBatchIds:g}))})})}),pM.apply(this,arguments)}function wN(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function EN(n,e,t){let r=Yt(),s=Yt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=ns();return t.forEach((g,v)=>{const C=u.get(g);v.isFoundDocument()!==C.isFoundDocument()&&(s=s.add(g)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(g,v.readTime),l=l.insert(g,v)):!C.isValidDocument()||v.version.compareTo(C.version)>0||0===v.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(v),l=l.insert(g,v)):Ue("LocalStore","Ignoring outdated watch update for ",g,". Current version:",C.version," Watch version:",v.version)}),{nr:l,sr:s}})}function jk(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nv(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,oe.resolve(s)):t.Bs.allocateTargetId(r).next(l=>(s=new ud(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function rv(n,e,t){return gM.apply(this,arguments)}function gM(){return gM=(0,Ee.Z)(function*(n,e,t){const r=Xe(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!mc(l))throw l;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),gM.apply(this,arguments)}function pb(n,e,t){const r=Xe(n);let s=vt.min(),u=Yt();return r.persistence.runTransaction("Execute query","readonly",l=>function(g,v,C){const T=Xe(g),x=T.Yi.get(C);return void 0!==x?oe.resolve(T.Ji.get(x)):T.Bs.getTargetData(v,C)}(r,l,_s(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,g.targetId).next(v=>{u=v})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?s:vt.min(),t?u:Yt())).next(g=>(CN(r,vw(e),g),{documents:g,ir:u})))}function IN(n,e){const t=Xe(n),r=Xe(t.Bs),s=t.Ji.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(l=>l?l.target:null))}function DN(n,e){const t=Xe(n),r=t.Xi.get(e)||vt.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Zi.getAllFromCollectionGroup(s,e,bS(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(CN(t,e,s),s))}function CN(n,e,t){let r=n.Xi.get(e)||vt.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function mM(){return mM=(0,Ee.Z)(function*(n,e,t,r){const s=Xe(n);let u=Yt(),l=ns();for(const C of t){const T=e.rr(C.metadata.name);C.document&&(u=u.add(T));const x=e.ur(C);x.setReadTime(e.cr(C.metadata.readTime)),l=l.insert(T,x)}const g=s.Zi.newChangeBuffer({trackRemovals:!0}),v=yield nv(s,(C=r,_s(Dc(cn.fromString(`__bundle__/docs/${C}`)))));var C;return s.persistence.runTransaction("Apply bundle documents","readwrite",C=>EN(C,g,l).next(T=>(g.apply(C),T)).next(T=>s.Bs.removeMatchingKeysForTargetId(C,v.targetId).next(()=>s.Bs.addMatchingKeys(C,u,v.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(C,T.nr,T.sr)).next(()=>T.nr)))}),mM.apply(this,arguments)}function $k(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,Ee.Z)(function*(n,e,t=Yt()){const r=yield nv(n,_s(tM(e.bundledQuery))),s=Xe(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const l=Qr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return s.qs.saveNamedQuery(u,e);const g=r.withResumeToken(Yr.EMPTY_BYTE_STRING,l);return s.Ji=s.Ji.insert(g.targetId,g),s.Bs.updateTargetData(u,g).next(()=>s.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>s.qs.saveNamedQuery(u,e))})}),yM.apply(this,arguments)}function bN(n,e){return`firestore_clients_${n}_${e}`}function TN(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function vM(n,e){return`firestore_targets_${n}_${e}`}class gb{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static ar(e,t,r){const s=JSON.parse(r);let u,l="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(u=new Re(s.error.code,s.error.message))),l?new gb(e,t,s.state,u):(hr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Re(r.error.code,r.error.message))),u?new jw(e,r.state,s):(hr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=Ew();for(let l=0;s&&l<r.activeTargetIds.length;++l)s=ew(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return s?new mb(e,u):(hr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _M{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _M(t.clientId,t.onlineState):(hr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wM{constructor(){this.activeTargetIds=Ew()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EM{constructor(e,t,r,s,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new On(qt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=bN(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new wM),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.$i();for(const s of t){if(s===e.wr)continue;const u=e.getItem(bN(e.persistenceKey,s));if(u){const l=mb.ar(s,u);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const s=e.br(r);s&&e.Vr(s)}for(const s of e.yr)e.mr(s);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(vM(this.persistenceKey,e));if(r){const s=jw.ar(e,r);s&&(t=s.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(vM(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Cr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const s=t.Or(r.key);return t.Fr(s,null)}{const s=t.Br(r.key,r.newValue);if(s)return t.Fr(s.clientId,s)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const s=t.Lr(r.key,r.newValue);if(s)return t.qr(s)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const s=t.Ur(r.key,r.newValue);if(s)return t.Kr(s)}}else if(r.key===t.vr){if(null!==r.newValue){const s=t.br(r.newValue);if(s)return t.Vr(s)}}else if(r.key===t.Ir){const s=function(u){let l=Us.ct;if(null!=u)try{const g=JSON.parse(u);bt("number"==typeof g),l=g}catch(g){hr("SharedClientState","Failed to read sequence number from WebStorage",g)}return l}(r.newValue);s!==Us.ct&&t.sequenceNumberHandler(s)}else if(r.key===t.Rr){const s=t.Gr(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const s=new gb(this.currentUser,e,t,r),u=TN(this.persistenceKey,this.currentUser,e);this.setItem(u,s.hr())}Cr(e){const t=TN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const s=vM(this.persistenceKey,e),u=new jw(e,t,r);this.setItem(s,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return mb.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),s=Number(r[1]);return gb.ar(new ui(void 0!==r[2]?r[2]:null),s,t)}Ur(e,t){const r=this.Ar.exec(e),s=Number(r[1]);return jw.ar(s,t)}br(e){return _M.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),s=this.Sr(this.gr),u=this.Sr(r),l=[],g=[];return u.forEach(v=>{s.has(v)||l.push(v)}),s.forEach(v=>{u.has(v)||g.push(v)}),this.syncEngine.Wr(l,g).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Ew();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class AN{constructor(){this.Hr=new wM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new wM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gk{Yr(e){}shutdown(){}}class SN{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yb=null;function IM(){return null===yb?yb=268435456+Math.round(2147483648*Math.random()):yb++,"0x"+yb.toString(16)}const zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qk{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Es="WebChannelConnection";class Wk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const l=IM(),g=this.To(e,t);Ue("RestConnection",`Sending RPC '${e}' ${l}:`,g,r);const v={};return this.Eo(v,s,u),this.Ao(e,g,v,r).then(C=>(Ue("RestConnection",`Received RPC '${e}' ${l}: `,C),C),C=>{throw fo("RestConnection",`RPC '${e}' ${l} failed with error: `,C,"url: ",g,"request:",r),C})}vo(e,t,r,s,u,l){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Uh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${zk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=IM();return new Promise((l,g)=>{const v=new vC;v.setWithCredentials(!0),v.listenOnce(vS.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Fh.NO_ERROR:const T=v.getResponseJson();Ue(Es,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),l(T);break;case Fh.TIMEOUT:Ue(Es,`RPC '${e}' ${u} timed out`),g(new Re(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const x=v.getStatus();if(Ue(Es,`RPC '${e}' ${u} failed with status:`,x,"response text:",v.getResponseText()),x>0){let H=v.getResponseJson();Array.isArray(H)&&(H=H[0]);const K=H?.error;if(K&&K.status&&K.message){const ue=function(ye){const me=ye.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(me)>=0?me:ce.UNKNOWN}(K.status);g(new Re(ue,K.message))}else g(new Re(ce.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new Re(ce.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Ue(Es,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(s);Ue(Es,`RPC '${e}' ${u} sending request:`,s),v.send(t,"POST",C,r,15)})}Ro(e,t,r){const s=IM(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=yS(),g=mC(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(v.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(v.xmlHttpFactory=new yC({})),this.Eo(v.initMessageHeaders,t,r),v.encodeInitMessageHeaders=!0;const T=u.join("");Ue(Es,`Creating RPC '${e}' stream ${s}: ${T}`,v);const x=l.createWebChannel(T,v);let H=!1,K=!1;const ue=new qk({ro:me=>{K?Ue(Es,`Not sending because RPC '${e}' stream ${s} is closed:`,me):(H||(Ue(Es,`Opening RPC '${e}' stream ${s} transport.`),x.open(),H=!0),Ue(Es,`RPC '${e}' stream ${s} sending:`,me),x.send(me))},oo:()=>x.close()}),ye=(me,rt,_t)=>{me.listen(rt,Ge=>{try{_t(Ge)}catch(at){setTimeout(()=>{throw at},0)}})};return ye(x,Lh.EventType.OPEN,()=>{K||Ue(Es,`RPC '${e}' stream ${s} transport opened.`)}),ye(x,Lh.EventType.CLOSE,()=>{K||(K=!0,Ue(Es,`RPC '${e}' stream ${s} transport closed`),ue.wo())}),ye(x,Lh.EventType.ERROR,me=>{K||(K=!0,fo(Es,`RPC '${e}' stream ${s} transport errored:`,me),ue.wo(new Re(ce.UNAVAILABLE,"The operation could not be completed")))}),ye(x,Lh.EventType.MESSAGE,me=>{var rt;if(!K){const _t=me.data[0];bt(!!_t);const at=_t.error||(null===(rt=_t[0])||void 0===rt?void 0:rt.error);if(at){Ue(Es,`RPC '${e}' stream ${s} received error:`,at);const Nt=at.status;let Zt=function(Yo){const Ev=c[Yo];if(void 0!==Ev)return y(Ev)}(Nt),di=at.message;void 0===Zt&&(Zt=ce.INTERNAL,di="Unknown error status: "+Nt+" with message "+at.message),K=!0,ue.wo(new Re(Zt,di)),x.close()}else Ue(Es,`RPC '${e}' stream ${s} received:`,_t),ue._o(_t)}}),ye(g,_S.STAT_EVENT,me=>{me.stat===W0.PROXY?Ue(Es,`RPC '${e}' stream ${s} detected buffering proxy`):me.stat===W0.NOPROXY&&Ue(Es,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ue.fo()},0),ue}}function MN(){return typeof window<"u"?window:null}function vb(){return typeof document<"u"?document:null}function Hw(n){return new rk(n,!0)}class DM{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&Ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class xN{constructor(e,t,r,s,u,l,g,v){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new DM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ee.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ee.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Ee.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new Re(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,Ee.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zk extends xN{constructor(e,t,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function ok(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ct(),s=e.targetChange.targetIds||[],u=function(v,C){return v.useProto3Json?(bt(void 0===C||"string"==typeof C),Yr.fromBase64String(C||"")):(bt(void 0===C||C instanceof Uint8Array),Yr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,g=l&&function(v){const C=void 0===v.code?ce.UNKNOWN:y(v.code);return new Re(C,v.message||"")}(l);t=new Ht(r,s,u,g||null)}else if("documentChange"in e){const r=e.documentChange,s=Cc(n,r.document.name),u=Qr(r.document.updateTime),l=r.document.createTime?Qr(r.document.createTime):vt.min(),g=new Ui({mapValue:{fields:r.document.fields}}),v=qn.newFoundDocument(s,u,l,g);t=new yt(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,s=Cc(n,r.document),u=r.readTime?Qr(r.readTime):vt.min(),l=qn.newNoDocument(s,u);t=new yt([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=Cc(n,r.document);t=new yt([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return ct();{const r=e.filter,{count:s=0,unchangedNames:u}=r,l=new a(s,u);t=new be(r.targetId,l)}}var v;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return vt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?vt.min():u.readTime?Qr(u.readTime):vt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Nw(this.serializer),t.addTarget=function(s,u){let l;const g=u.target;if(l=Gy(g)?{documents:L1(s,g)}:{query:eM(s,g)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=R1(s,u.resumeToken);const v=YS(s,u.expectedCount);null!==v&&(l.expectedCount=v)}else if(u.snapshotVersion.compareTo(vt.min())>0){l.readTime=Jy(s,u.snapshotVersion.toTimestamp());const v=YS(s,u.expectedCount);null!==v&&(l.expectedCount=v)}return l}(this.serializer,e);const r=function uk(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Nw(this.serializer),t.removeTarget=e,this.Wo(t)}}class Kk extends xN{constructor(e,t,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function ak(n,e){return n&&n.length>0?(bt(void 0!==e),n.map(t=>function(r,s){let u=Qr(r.updateTime?r.updateTime:s);return u.isEqual(vt.min())&&(u=Qr(s)),new S1(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.cu(r,t)}return bt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Nw(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Pw(this.serializer,r))};this.Wo(t)}}class Yk extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Re(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(ce.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Re(ce.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class Jk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(hr(t),this.mu=!1):Ue("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Xk{constructor(e,t,r,s,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(g=>{r.enqueueAndForget((0,Ee.Z)(function*(){var v;Qh(l)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ee.Z)(function*(C){const T=Xe(C);T.vu.add(4),yield iv(T),T.bu.set("Unknown"),T.vu.delete(4),yield $w(T)}),function(C){return v.apply(this,arguments)})(l))}))}),this.bu=new Jk(r,s)}}function $w(n){return bM.apply(this,arguments)}function bM(){return bM=(0,Ee.Z)(function*(n){if(Qh(n))for(const e of n.Ru)yield e(!0)}),bM.apply(this,arguments)}function iv(n){return TM.apply(this,arguments)}function TM(){return TM=(0,Ee.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),TM.apply(this,arguments)}function _b(n,e){const t=Xe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),MM(t)?SM(t):ov(t).Ko()&&AM(t,e))}function Gw(n,e){const t=Xe(n),r=ov(t);t.Au.delete(e),r.Ko()&&RN(t,e),0===t.Au.size&&(r.Ko()?r.jo():Qh(t)&&t.bu.set("Unknown"))}function AM(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ov(n).su(e)}function RN(n,e){n.Vu.qt(e),ov(n).iu(e)}function SM(n){n.Vu=new ln({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),ov(n).start(),n.bu.gu()}function MM(n){return Qh(n)&&!ov(n).Uo()&&n.Au.size>0}function Qh(n){return 0===Xe(n).vu.size}function NN(n){n.Vu=void 0}function eF(n){return xM.apply(this,arguments)}function xM(){return xM=(0,Ee.Z)(function*(n){n.Au.forEach((e,t)=>{AM(n,e)})}),xM.apply(this,arguments)}function tF(n,e){return RM.apply(this,arguments)}function RM(){return RM=(0,Ee.Z)(function*(n,e){NN(n),MM(n)?(n.bu.Iu(e),SM(n)):n.bu.set("Unknown")}),RM.apply(this,arguments)}function nF(n,e,t){return NM.apply(this,arguments)}function NM(){return NM=(0,Ee.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof Ht&&2===e.state&&e.cause)try{yield(r=(0,Ee.Z)(function*(s,u){const l=u.cause;for(const g of u.targetIds)s.Au.has(g)&&(yield s.remoteSyncer.rejectListen(g,l),s.Au.delete(g),s.Vu.removeTarget(g))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wb(n,r)}else if(e instanceof yt?n.Vu.Ht(e):e instanceof be?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(vt.min()))try{const r=yield wN(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const l=s.Vu.ce(u);return l.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const C=s.Au.get(v);C&&s.Au.set(v,C.withResumeToken(g.resumeToken,u))}}),l.targetMismatches.forEach((g,v)=>{const C=s.Au.get(g);if(!C)return;s.Au.set(g,C.withResumeToken(Yr.EMPTY_BYTE_STRING,C.snapshotVersion)),RN(s,g);const T=new ud(C.target,g,v,C.sequenceNumber);AM(s,T)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield wb(n,r)}var r}),NM.apply(this,arguments)}function wb(n,e,t){return PM.apply(this,arguments)}function PM(){return PM=(0,Ee.Z)(function*(n,e,t){if(!mc(e))throw e;n.vu.add(1),yield iv(n),n.bu.set("Offline"),t||(t=()=>wN(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield $w(n)}))}),PM.apply(this,arguments)}function PN(n,e){return e().catch(t=>wb(n,t,e))}function sv(n){return OM.apply(this,arguments)}function OM(){return OM=(0,Ee.Z)(function*(n){const e=Xe(n),t=Jh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;rF(e);)try{const s=yield jk(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,iF(e,s)}catch(s){yield wb(e,s)}ON(e)&&kN(e)}),OM.apply(this,arguments)}function rF(n){return Qh(n)&&n.Eu.length<10}function iF(n,e){n.Eu.push(e);const t=Jh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function ON(n){return Qh(n)&&!Jh(n).Uo()&&n.Eu.length>0}function kN(n){Jh(n).start()}function sF(n){return kM.apply(this,arguments)}function kM(){return kM=(0,Ee.Z)(function*(n){Jh(n).hu()}),kM.apply(this,arguments)}function oF(n){return FM.apply(this,arguments)}function FM(){return FM=(0,Ee.Z)(function*(n){const e=Jh(n);for(const t of n.Eu)e.uu(t.mutations)}),FM.apply(this,arguments)}function aF(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=(0,Ee.Z)(function*(n,e,t){const r=n.Eu.shift(),s=nb.from(r,e,t);yield PN(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield sv(n)}),LM.apply(this,arguments)}function uF(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,Ee.Z)(function*(n,e){var t;e&&Jh(n).ou&&(yield(t=(0,Ee.Z)(function*(r,s){if(f(u=s.code)&&u!==ce.ABORTED){const l=r.Eu.shift();Jh(r).Qo(),yield PN(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield sv(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),ON(n)&&kN(n)}),UM.apply(this,arguments)}function FN(n,e){return VM.apply(this,arguments)}function VM(){return VM=(0,Ee.Z)(function*(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Qh(t);t.vu.add(3),yield iv(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield $w(t)}),VM.apply(this,arguments)}function BM(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,Ee.Z)(function*(n,e){const t=Xe(n);e?(t.vu.delete(2),yield $w(t)):e||(t.vu.add(2),yield iv(t),t.bu.set("Unknown"))}),jM.apply(this,arguments)}function ov(n){return n.Su||(n.Su=function(e,t,r){const s=Xe(e);return s.fu(),new Zk(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:eF.bind(null,n),ao:tF.bind(null,n),nu:nF.bind(null,n)}),n.Ru.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Su.Qo(),MM(n)?SM(n):n.bu.set("Unknown")):(yield n.Su.stop(),NN(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Jh(n){return n.Du||(n.Du=function(e,t,r){const s=Xe(e);return s.fu(),new Kk(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:sF.bind(null,n),ao:uF.bind(null,n),au:oF.bind(null,n),cu:aF.bind(null,n)}),n.Ru.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Du.Qo(),yield sv(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class HM{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,g=new HM(e,t,l,s,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function av(n,e){if(hr("AsyncQueue",`${e}: ${n}`),mc(n))return new Re(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class uv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=Zy(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new uv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new uv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class LN{constructor(){this.Cu=new On(et.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ct():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class cv{constructor(e,t,r,s,u,l,g,v,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,s,u){const l=[];return t.forEach(g=>{l.push({type:0,doc:g})}),new cv(e,t,uv.emptySet(t),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class cF{constructor(){this.Nu=void 0,this.listeners=[]}}class lF{constructor(){this.queries=new _u(e=>KC(e),og),this.onlineState="Unknown",this.ku=new Set}}function $M(n,e){return GM.apply(this,arguments)}function GM(){return GM=(0,Ee.Z)(function*(n,e){const t=Xe(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new cF),s)try{u.Nu=yield t.onListen(r)}catch(l){const g=av(l,`Initialization of query '${yw(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&WM(t)}),GM.apply(this,arguments)}function zM(n,e){return qM.apply(this,arguments)}function qM(){return qM=(0,Ee.Z)(function*(n,e){const t=Xe(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),qM.apply(this,arguments)}function dF(n,e){const t=Xe(n);let r=!1;for(const s of e){const l=t.queries.get(s.query);if(l){for(const g of l.listeners)g.$u(s)&&(r=!0);l.Nu=s}}r&&WM(t)}function hF(n,e,t){const r=Xe(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function WM(n){n.ku.forEach(e=>{e.next()})}class ZM{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new cv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=cv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class fF{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class UN{constructor(e){this.serializer=e}rr(e){return Cc(this.serializer,e)}ur(e){return e.metadata.exists?F1(this.serializer,e.document,!1):qn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Qr(e)}}class pF{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=VN(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=cn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new UN(this.serializer);for(const s of e)if(s.metadata.queries){const u=r.rr(s.metadata.name);for(const l of s.metadata.queries){const g=(t.get(l)||Yt()).add(u);t.set(l,g)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function Hk(n,e,t,r){return mM.apply(this,arguments)}(e.localStore,new UN(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const s of e.queries)yield $k(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function VN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class BN{constructor(e){this.key=e}}class jN{constructor(e){this.key=e}}class HN{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Yt(),this.mutatedKeys=Yt(),this.tc=_w(e),this.ec=new uv(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new LN,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=s,g=!1;const v="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,C="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((T,x)=>{const H=s.get(T),K=ag(this.query,x)?x:null,ue=!!H&&this.mutatedKeys.has(H.key),ye=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let me=!1;H&&K?H.data.isEqual(K.data)?ue!==ye&&(r.track({type:3,doc:K}),me=!0):this.rc(H,K)||(r.track({type:2,doc:K}),me=!0,(v&&this.tc(K,v)>0||C&&this.tc(K,C)<0)&&(g=!0)):!H&&K?(r.track({type:0,doc:K}),me=!0):H&&!K&&(r.track({type:1,doc:H}),me=!0,(v||C)&&(g=!0)),me&&(K?(l=l.add(K),u=ye?u.add(T):u.delete(T)):(l=l.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{ec:l,ic:r,zi:g,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((C,T)=>function(x,H){const K=ue=>{switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return K(x)-K(H)}(C.type,T.type)||this.tc(C.doc,T.doc)),this.oc(r);const l=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,v=g!==this.Xu;return this.Xu=g,0!==u.length||v?{snapshot:new cv(this.query,e.ec,s,u,e.mutatedKeys,0===g,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new LN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Yt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new jN(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new BN(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Yt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return cv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class gF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mF{constructor(e){this.key=e,this.fc=!1}}class yF{constructor(e,t,r,s,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new _u(g=>KC(g),og),this._c=new Map,this.mc=new Set,this.gc=new On(et.comparator),this.yc=new Map,this.Ic=new uM,this.Tc={},this.Ec=new Map,this.Ac=vg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function vF(n,e){return KM.apply(this,arguments)}function KM(){return KM=(0,Ee.Z)(function*(n,e){const t=vx(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const l=yield nv(t.localStore,_s(e)),g=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield YM(t,e,r,"current"===g,l.resumeToken),t.isPrimaryClient&&_b(t.remoteStore,l)}return s}),KM.apply(this,arguments)}function YM(n,e,t,r,s){return QM.apply(this,arguments)}function QM(){return QM=(0,Ee.Z)(function*(n,e,t,r,s){n.Rc=(x,H,K)=>{return(ue=(0,Ee.Z)(function*(ye,me,rt,_t){let Ge=me.view.sc(rt);Ge.zi&&(Ge=yield pb(ye.localStore,me.query,!1).then(({documents:Zt})=>me.view.sc(Zt,Ge)));const at=_t&&_t.targetChanges.get(me.targetId),Nt=me.view.applyChanges(Ge,ye.isPrimaryClient,at);return ax(ye,me.targetId,Nt.cc),Nt.snapshot}),function(ye,me,rt,_t){return ue.apply(this,arguments)})(n,x,H,K);var ue};const u=yield pb(n.localStore,e,!0),l=new HN(e,u.ir),g=l.sc(u.documents),v=Ye.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),C=l.applyChanges(g,n.isPrimaryClient,v);ax(n,t,C.cc);const T=new gF(e,t,l);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),QM.apply(this,arguments)}function _F(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,Ee.Z)(function*(n,e){const t=Xe(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!og(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield rv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Gw(t.remoteStore,r.targetId),lv(t,r.targetId)}).catch(pu))):(lv(t,r.targetId),yield rv(t.localStore,r.targetId,!0))}),JM.apply(this,arguments)}function XM(){return XM=(0,Ee.Z)(function*(n,e,t){const r=_x(n);try{const s=yield function(u,l){const g=Xe(u),v=zn.now(),C=l.reduce((H,K)=>H.add(K.key),Yt());let T,x;return g.persistence.runTransaction("Locally write mutations","readwrite",H=>{let K=ns(),ue=Yt();return g.Zi.getEntries(H,C).next(ye=>{K=ye,K.forEach((me,rt)=>{rt.isValidDocument()||(ue=ue.add(me))})}).next(()=>g.localDocuments.getOverlayedDocuments(H,K)).next(ye=>{T=ye;const me=[];for(const rt of l){const _t=x1(rt,T.get(rt.key).overlayedDocument);null!=_t&&me.push(new wu(rt.key,_t,$y(_t.value.mapValue),ir.exists(!0)))}return g.mutationQueue.addMutationBatch(H,v,me,l)}).next(ye=>{x=ye;const me=ye.applyToLocalDocumentSet(T,ue);return g.documentOverlayCache.saveOverlays(H,ye.batchId,me)})}).then(()=>({batchId:x.batchId,changes:ww(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,g){let v=u.Tc[u.currentUser.toKey()];v||(v=new On(qt)),v=v.insert(l,g),u.Tc[u.currentUser.toKey()]=v}(r,s.batchId,t),yield cd(r,s.changes),yield sv(r.remoteStore)}catch(s){const u=av(s,"Failed to persist write");t.reject(u)}}),XM.apply(this,arguments)}function $N(n,e){return ex.apply(this,arguments)}function ex(){return ex=(0,Ee.Z)(function*(n,e){const t=Xe(n);try{const r=yield function Bk(n,e){const t=Xe(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const g=[];e.targetChanges.forEach((T,x)=>{const H=s.get(x);if(!H)return;g.push(t.Bs.removeMatchingKeys(u,T.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(u,T.addedDocuments,x)));let K=H.withSequenceNumber(u.currentSequenceNumber);var ue,ye,me;null!==e.targetMismatches.get(x)?K=K.withResumeToken(Yr.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):T.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(T.resumeToken,r)),s=s.insert(x,K),ye=K,me=T,(0===(ue=H).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(u,K))});let v=ns(),C=Yt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),g.push(EN(u,l,e.documentUpdates).next(T=>{v=T.nr,C=T.sr})),!r.isEqual(vt.min())){const T=t.Bs.getLastRemoteSnapshotVersion(u).next(x=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(T)}return oe.waitFor(g).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,C)).next(()=>v)}).then(u=>(t.Ji=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const l=t.yc.get(u);l&&(bt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.fc=!0:s.modifiedDocuments.size>0?bt(l.fc):s.removedDocuments.size>0&&(bt(l.fc),l.fc=!1))}),yield cd(t,r,e)}catch(r){yield pu(r)}}),ex.apply(this,arguments)}function GN(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,l)=>{const g=l.view.Mu(e);g.snapshot&&s.push(g.snapshot)}),function(u,l){const g=Xe(u);g.onlineState=l;let v=!1;g.queries.forEach((C,T)=>{for(const x of T.listeners)x.Mu(l)&&(v=!0)}),v&&WM(g)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EF(n,e,t){return tx.apply(this,arguments)}function tx(){return tx=(0,Ee.Z)(function*(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let l=new On(et.comparator);l=l.insert(u,qn.newNoDocument(u,vt.min()));const g=Yt().add(u),v=new Fe(vt.min(),new Map,new On(qt),l,g);yield $N(r,v),r.gc=r.gc.remove(u),r.yc.delete(e),ux(r)}else yield rv(r.localStore,e,!1).then(()=>lv(r,e,t)).catch(pu)}),tx.apply(this,arguments)}function IF(n,e){return nx.apply(this,arguments)}function nx(){return nx=(0,Ee.Z)(function*(n,e){const t=Xe(n),r=e.batch.batchId;try{const s=yield function Vk(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,g,v,C){const T=v.batch,x=T.keys();let H=oe.resolve();return x.forEach(K=>{H=H.next(()=>C.getEntry(g,K)).next(ue=>{const ye=v.docVersions.get(K);bt(null!==ye),ue.version.compareTo(ye)<0&&(T.applyToRemoteDocument(ue,v),ue.isValidDocument()&&(ue.setReadTime(v.commitVersion),C.addEntry(ue)))})}),H.next(()=>l.mutationQueue.removeMutationBatch(g,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let g=Yt();for(let v=0;v<l.mutationResults.length;++v)l.mutationResults[v].transformResults.length>0&&(g=g.add(l.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);ox(t,r,null),sx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield cd(t,s)}catch(s){yield pu(s)}}),nx.apply(this,arguments)}function DF(n,e,t){return rx.apply(this,arguments)}function rx(){return rx=(0,Ee.Z)(function*(n,e,t){const r=Xe(n);try{const s=yield function(u,l){const g=Xe(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let C;return g.mutationQueue.lookupMutationBatch(v,l).next(T=>(bt(null!==T),C=T.keys(),g.mutationQueue.removeMutationBatch(v,T))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,C,l)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,C)).next(()=>g.localDocuments.getDocuments(v,C))})}(r.localStore,e);ox(r,e,t),sx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield cd(r,s)}catch(s){yield pu(s)}}),rx.apply(this,arguments)}function ix(){return ix=(0,Ee.Z)(function*(n,e){const t=Xe(n);Qh(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=Xe(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>l.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const s=t.Ec.get(r)||[];s.push(e),t.Ec.set(r,s)}catch(r){const s=av(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),ix.apply(this,arguments)}function sx(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function ox(n,e,t){const r=Xe(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function lv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||zN(n,r)})}function zN(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Gw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),ux(n))}function ax(n,e,t){for(const r of t)r instanceof BN?(n.Ic.addReference(r.key,e),bF(n,r)):r instanceof jN?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||zN(n,r.key)):ct()}function bF(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.mc.add(r),ux(n))}function ux(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new et(cn.fromString(e)),r=n.Ac.next();n.yc.set(r,new mF(t)),n.gc=n.gc.insert(t,r),_b(n.remoteStore,new ud(_s(Dc(t.path)),r,"TargetPurposeLimboResolution",Us.ct))}}function cd(n,e,t){return cx.apply(this,arguments)}function cx(){return cx=(0,Ee.Z)(function*(n,e,t){const r=Xe(n),s=[],u=[],l=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,v)=>{l.push(r.Rc(v,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,C?.fromCache?"not-current":"current"),C){s.push(C);const T=fM.Li(v.targetId,C);u.push(T)}}))}),yield Promise.all(l),r.dc.nu(s),yield(g=(0,Ee.Z)(function*(v,C){const T=Xe(v);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>oe.forEach(C,H=>oe.forEach(H.Fi,K=>T.persistence.referenceDelegate.addReference(x,H.targetId,K)).next(()=>oe.forEach(H.Bi,K=>T.persistence.referenceDelegate.removeReference(x,H.targetId,K)))))}catch(x){if(!mc(x))throw x;Ue("LocalStore","Failed to update sequence numbers: "+x)}for(const x of C){const H=x.targetId;if(!x.fromCache){const K=T.Ji.get(H),ye=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);T.Ji=T.Ji.insert(H,ye)}}}),function(v,C){return g.apply(this,arguments)})(r.localStore,u))}),cx.apply(this,arguments)}function TF(n,e){return lx.apply(this,arguments)}function lx(){return lx=(0,Ee.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield _N(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(l=>{l.forEach(g=>{g.reject(new Re(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cd(t,r.er)}var s}),lx.apply(this,arguments)}function AF(n,e){const t=Xe(n),r=t.yc.get(e);if(r&&r.fc)return Yt().add(r.key);{let s=Yt();const u=t._c.get(e);if(!u)return s;for(const l of u){const g=t.wc.get(l);s=s.unionWith(g.view.nc)}return s}}function SF(n,e){return dx.apply(this,arguments)}function dx(){return dx=(0,Ee.Z)(function*(n,e){const t=Xe(n),r=yield pb(t.localStore,e.query,!0),s=e.view.hc(r);return t.isPrimaryClient&&ax(t,e.targetId,s.cc),s}),dx.apply(this,arguments)}function MF(n,e){return hx.apply(this,arguments)}function hx(){return hx=(0,Ee.Z)(function*(n,e){const t=Xe(n);return DN(t.localStore,e).then(r=>cd(t,r))}),hx.apply(this,arguments)}function xF(n,e,t,r){return fx.apply(this,arguments)}function fx(){return fx=(0,Ee.Z)(function*(n,e,t,r){const s=Xe(n),u=yield function(l,g){const v=Xe(l),C=Xe(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",T=>C.Sn(T,g).next(x=>x?v.localDocuments.getDocuments(T,x):oe.resolve(null)))}(s.localStore,e);var g;null!==u?("pending"===t?yield sv(s.remoteStore):"acknowledged"===t||"rejected"===t?(ox(s,e,r||null),sx(s,e),g=e,Xe(Xe(s.localStore).mutationQueue).Cn(g)):ct(),yield cd(s,u)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),fx.apply(this,arguments)}function px(){return px=(0,Ee.Z)(function*(n,e){const t=Xe(n);if(vx(t),_x(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield qN(t,r.toArray());t.vc=!0,yield BM(t.remoteStore,!0);for(const u of s)_b(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let s=Promise.resolve();t._c.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):s=s.then(()=>(lv(t,l),rv(t.localStore,l,!0))),Gw(t.remoteStore,l)}),yield s,yield qN(t,r),function(u){const l=Xe(u);l.yc.forEach((g,v)=>{Gw(l.remoteStore,v)}),l.Ic.Ts(),l.yc=new Map,l.gc=new On(et.comparator)}(t),t.vc=!1,yield BM(t.remoteStore,!1)}}),px.apply(this,arguments)}function qN(n,e,t){return gx.apply(this,arguments)}function gx(){return gx=(0,Ee.Z)(function*(n,e,t){const r=Xe(n),s=[],u=[];for(const l of e){let g;const v=r._c.get(l);if(v&&0!==v.length){g=yield nv(r.localStore,_s(v[0]));for(const C of v){const T=r.wc.get(C),x=yield SF(r,T);x.snapshot&&u.push(x.snapshot)}}else{const C=yield IN(r.localStore,l);g=yield nv(r.localStore,C),yield YM(r,WN(C),l,!1,g.resumeToken)}s.push(g)}return r.dc.nu(u),s}),gx.apply(this,arguments)}function WN(n){return qy(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function NF(n){const e=Xe(n);return Xe(Xe(e.localStore).persistence).$i()}function PF(n,e,t,r){return mx.apply(this,arguments)}function mx(){return mx=(0,Ee.Z)(function*(n,e,t,r){const s=Xe(n);if(s.vc)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const u=s._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield DN(s.localStore,vw(u[0])),g=Fe.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Yr.EMPTY_BYTE_STRING);yield cd(s,l,g);break}case"rejected":yield rv(s.localStore,e,!0),lv(s,e,r);break;default:ct()}}),mx.apply(this,arguments)}function OF(n,e,t){return yx.apply(this,arguments)}function yx(){return yx=(0,Ee.Z)(function*(n,e,t){const r=vx(n);if(r.vc){for(const s of e){if(r._c.has(s)){Ue("SyncEngine","Adding an already active target "+s);continue}const u=yield IN(r.localStore,s),l=yield nv(r.localStore,u);yield YM(r,WN(u),l.targetId,!1,l.resumeToken),_b(r.remoteStore,l)}for(const s of t)r._c.has(s)&&(yield rv(r.localStore,s,!1).then(()=>{Gw(r.remoteStore,s),lv(r,s)}).catch(pu))}}),yx.apply(this,arguments)}function vx(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$N.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EF.bind(null,e),e.dc.nu=dF.bind(null,e.eventManager),e.dc.Pc=hF.bind(null,e.eventManager),e}function _x(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DF.bind(null,e),e}class zw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.serializer=Hw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return vN(this.persistence,new yN,e.initialUser,this.serializer)}createPersistence(e){return new cM(db.zs,this.serializer)}createSharedClientState(e){return new AN}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wx extends zw{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield _x(r.Vc.syncEngine),yield sv(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return vN(this.persistence,new yN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new uN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new AS(t,this.persistence);return new xC(e.asyncQueue,r)}createPersistence(e){const t=hM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new dM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,MN(),vb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new AN}}class ZN extends wx{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e);const s=r.Vc.syncEngine;r.sharedClientState instanceof EM&&(r.sharedClientState.syncEngine={jr:xF.bind(null,s),zr:PF.bind(null,s),Wr:OF.bind(null,s),$i:NF.bind(null,s),Qr:MF.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,Ee.Z)(function*(l){yield function RF(n,e){return px.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=MN();if(!EM.D(t))throw new Re(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=hM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new EM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class dv{initialize(e,t){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>GN(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=TF.bind(null,r.syncEngine),yield BM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lF}createDatastore(e){const t=Hw(e.databaseInfo.databaseId),r=new Wk(e.databaseInfo);return new Yk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=g=>GN(this.syncEngine,g,0),l=SN.D()?new SN:new Gk,new Xk(t,r,s,u,l);var t,r,s,u,l}createSyncEngine(e,t){return function(r,s,u,l,g,v,C){const T=new yF(r,s,u,l,g,v);return C&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const r=Xe(t);Ue("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield iv(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function KN(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class LF{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Vr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),s=Number(r);isNaN(s)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(s);return new fF(JSON.parse(u),t.length+s)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ee.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class UF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,Ee.Z)(function*(u,l){const g=Xe(u),v=Nw(g.serializer)+"/documents",C={documents:l.map(K=>Rw(g.serializer,K))},T=yield g.vo("BatchGetDocuments",v,C,l.length),x=new Map;T.forEach(K=>{const ue=function sk(n,e){return"found"in e?function(t,r){bt(!!r.found);const s=Cc(t,r.found.name),u=Qr(r.found.updateTime),l=r.found.createTime?Qr(r.found.createTime):vt.min(),g=new Ui({mapValue:{fields:r.found.fields}});return qn.newFoundDocument(s,u,l,g)}(n,e):"missing"in e?function(t,r){bt(!!r.missing),bt(!!r.readTime);const s=Cc(t,r.missing),u=Qr(r.readTime);return qn.newNoDocument(s,u)}(n,e):ct()}(g.serializer,K);x.set(ue.key.toString(),ue)});const H=[];return l.forEach(K=>{const ue=x.get(K.toString());bt(!!ue),H.push(ue)}),H}),function(u,l){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new dg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=et.fromPath(s);e.mutations.push(new tb(u,e.precondition(u)))}),yield(r=(0,Ee.Z)(function*(s,u){const l=Xe(s),g=Nw(l.serializer)+"/documents",v={writes:u.map(C=>Pw(l.serializer,C))};yield l.Io("Commit",g,v)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ct();t=vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(vt.min())?ir.exists(!1):ir.updateTime(t):ir.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vt.min()))throw new Re(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ir.updateTime(t)}return ir.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class VF{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new DM(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ee.Z)(function*(){const t=new UF(e.datastore),r=e.qc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Uc(u)}))}).catch(s=>{e.Uc(s)})}))}qc(e){try{const t=this.updateFunction(e);return!Vh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!f(t)}return!1}}class BF{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=ui.UNAUTHENTICATED,this.clientId=bC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Ee.Z)(function*(g){Ue("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ue("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=av(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function Ib(n,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,Ee.Z)(function*(u){r.isEqual(u)||(yield _N(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Ex.apply(this,arguments)}function Ix(n,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Cx(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>FN(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>FN(e.remoteStore,u)),n._onlineComponents=e}),Dx.apply(this,arguments)}function YN(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Cx(n){return bx.apply(this,arguments)}function bx(){return bx=(0,Ee.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ib(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!YN(t))throw t;fo("Error using user provided cache. Falling back to memory cache: "+t),yield Ib(n,new zw)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield Ib(n,new zw);return n._offlineComponents}),bx.apply(this,arguments)}function Db(n){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,Ee.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ix(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield Ix(n,new dv))),n._onlineComponents}),Tx.apply(this,arguments)}function QN(n){return Cx(n).then(e=>e.persistence)}function Cb(n){return Cx(n).then(e=>e.localStore)}function JN(n){return Db(n).then(e=>e.remoteStore)}function Ax(n){return Db(n).then(e=>e.syncEngine)}function hv(n){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,Ee.Z)(function*(n){const e=yield Db(n),t=e.eventManager;return t.onListen=vF.bind(null,e.syncEngine),t.onUnlisten=_F.bind(null,e.syncEngine),t}),Sx.apply(this,arguments)}function eP(n,e,t={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(s,u,l,g,v){const C=new Eb({next:x=>{u.enqueueAndForget(()=>zM(s,T));const H=x.docs.has(l);!H&&x.fromCache?v.reject(new Re(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&x.fromCache&&g&&"server"===g.source?v.reject(new Re(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),T=new ZM(Dc(l.path),C,{includeMetadataChanges:!0,Ku:!0});return $M(s,T)}(yield hv(n),n.asyncQueue,e,t,r)})),r.promise}function tP(n,e,t={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(s,u,l,g,v){const C=new Eb({next:x=>{u.enqueueAndForget(()=>zM(s,T)),x.fromCache&&"server"===g.source?v.reject(new Re(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),T=new ZM(l,C,{includeMetadataChanges:!0,Ku:!0});return $M(s,T)}(yield hv(n),n.asyncQueue,e,t,r)})),r.promise}function nP(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const rP=new Map;function Mx(n,e,t){if(!t)throw new Re(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iP(n,e,t,r){if(!0===e&&!0===r)throw new Re(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sP(n){if(!et.isDocumentKey(n))throw new Re(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oP(n){if(et.isDocumentKey(n))throw new Re(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ct()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bb(n);throw new Re(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function aP(n,e){if(e<=0)throw new Re(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class uP{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=nP(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Re(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Re(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Re(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qw{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ES;switch(t.type){case"firstParty":return new DC(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rP.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),rP.delete(e),t.terminate())}(this),Promise.resolve()}}class pr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class rs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class bc extends rs{constructor(e,t,r){super(e,t,Dc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new et(e))}withConverter(e){return new bc(this.firestore,e,this._path)}}function lP(n,e,...t){if(n=(0,Gt.m9)(n),Mx("collection","path",e),n instanceof qw){const r=cn.fromString(e,...t);return oP(r),new bc(n,null,r)}{if(!(n instanceof pr||n instanceof bc))throw new Re(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return oP(r),new bc(n.firestore,null,r)}}function Tb(n,e,...t){if(n=(0,Gt.m9)(n),1===arguments.length&&(e=bC.A()),Mx("doc","path",e),n instanceof qw){const r=cn.fromString(e,...t);return sP(r),new pr(n,null,new et(r))}{if(!(n instanceof pr||n instanceof bc))throw new Re(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return sP(r),new pr(n.firestore,n instanceof bc?n.converter:null,new et(r))}}function dP(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),(n instanceof pr||n instanceof bc)&&(e instanceof pr||e instanceof bc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function xx(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),n instanceof rs&&e instanceof rs&&n.firestore===e.firestore&&og(n._query,e._query)&&n.converter===e.converter}class YF{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new DM(this,"async_queue_retry"),this.Xc=()=>{const t=vb();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=vb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=vb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Vr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!mc(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,hr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=HM.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&ct()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Rx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class QF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class gr extends qw{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new YF,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hP(this),this._firestoreClient.terminate()}}function Jr(n){return n._firestoreClient||hP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hP(n){var e,t,r;const s=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new kC(n._databaseId,g,n._persistenceKey,(C=s).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,nP(C.experimentalLongPollingOptions),C.useFetchStreams));var g,C;n._firestoreClient=new BF(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function fP(n,e,t){const r=new Vr;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield Ib(n,t),yield Ix(n,e),r.resolve()}catch(s){const u=s;if(!YN(u))throw u;fo("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function pP(n){if(n._initialized||n._terminated)throw new Re(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tc(Yr.fromBase64String(e))}catch(t){throw new Re(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tc(Yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ld{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wg{constructor(e){this._methodName=e}}class Ab{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const uL=/^__.*__$/;class cL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new wu(e,this.data,this.fieldMask,t,this.fieldTransforms):new lg(e,this.data,t,this.fieldTransforms)}}class gP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new wu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class Sb{constructor(e,t,r,s,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Sb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Rb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(mP(this.ca)&&uL.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class lL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Hw(e)}ya(e,t,r,s=!1){return new Sb({ca:e,methodName:t,ga:r,path:fr.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(n){const e=n._freezeSettings(),t=Hw(n._databaseId);return new lL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Mb(n,e,t,r,s,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,s);kx("Data must be an object, but it was:",l,r);const g=_P(r,l);let v,C;if(u.merge)v=new vs(l.fieldMask),C=l.fieldTransforms;else if(u.mergeFields){const T=[];for(const x of u.mergeFields){const H=Kw(e,x,t);if(!l.contains(H))throw new Re(ce.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);EP(T,H)||T.push(H)}v=new vs(T),C=l.fieldTransforms.filter(x=>v.covers(x.field))}else v=null,C=l.fieldTransforms;return new cL(new Ui(g),v,C)}class Zw extends wg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zw}}function yP(n,e,t){return new Sb({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Nx extends wg{_toFieldTransform(e){return new cg(e.path,new id)}isEqual(e){return e instanceof Nx}}class dL extends wg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=yP(this,e,!0),r=this.pa.map(u=>Ig(u,t)),s=new sd(r);return new cg(e.path,s)}isEqual(e){return this===e}}class hL extends wg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=yP(this,e,!0),r=this.pa.map(u=>Ig(u,t)),s=new od(r);return new cg(e.path,s)}isEqual(e){return this===e}}class fL extends wg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new ad(e.serializer,Dw(e.serializer,this.Ia));return new cg(e.path,t)}isEqual(e){return this===e}}function Px(n,e,t,r){const s=n.ya(1,e,t);kx("Data must be an object, but it was:",s,r);const u=[],l=Ui.empty();vc(r,(v,C)=>{const T=xb(e,v,t);C=(0,Gt.m9)(C);const x=s.da(T);if(C instanceof Zw)u.push(T);else{const H=Ig(C,x);null!=H&&(u.push(T),l.set(T,H))}});const g=new vs(u);return new gP(l,g,s.fieldTransforms)}function Ox(n,e,t,r,s,u){const l=n.ya(1,e,t),g=[Kw(e,r,t)],v=[s];if(u.length%2!=0)throw new Re(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<u.length;H+=2)g.push(Kw(e,u[H])),v.push(u[H+1]);const C=[],T=Ui.empty();for(let H=g.length-1;H>=0;--H)if(!EP(C,g[H])){const K=g[H];let ue=v[H];ue=(0,Gt.m9)(ue);const ye=l.da(K);if(ue instanceof Zw)C.push(K);else{const me=Ig(ue,ye);null!=me&&(C.push(K),T.set(K,me))}}const x=new vs(C);return new gP(T,x,l.fieldTransforms)}function vP(n,e,t,r=!1){return Ig(t,n.ya(r?4:3,e))}function Ig(n,e){if(wP(n=(0,Gt.m9)(n)))return kx("Unsupported field value:",e,n),_P(n,e);if(n instanceof wg)return function(t,r){if(!mP(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const l of t){let g=Ig(l,r.wa(u));null==g&&(g={nullValue:"NULL_VALUE"}),s.push(g),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,Gt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Dw(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=zn.fromDate(t);return{timestampValue:Jy(r.serializer,s)}}if(t instanceof zn){const s=new zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jy(r.serializer,s)}}if(t instanceof Ab)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tc)return{bytesValue:R1(r.serializer,t._byteString)};if(t instanceof pr){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:QS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${bb(t)}`)}(n,e)}function _P(n,e){const t={};return aw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vc(n,(r,s)=>{const u=Ig(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function wP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zn||n instanceof Ab||n instanceof Tc||n instanceof pr||n instanceof wg)}function kx(n,e,t){if(!wP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=bb(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Kw(n,e,t){if((e=(0,Gt.m9)(e))instanceof ld)return e._internalPath;if("string"==typeof e)return xb(n,e);throw Rb("Field path arguments must be of type string or ",n,!1,void 0,t)}const pL=new RegExp("[~\\*/\\[\\]]");function xb(n,e,t){if(e.search(pL)>=0)throw Rb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ld(...e.split("."))._internalPath}catch{throw Rb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rb(n,e,t,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||l)&&(v+=" (found",u&&(v+=` in field ${r}`),l&&(v+=` in document ${s}`),v+=")"),new Re(ce.INVALID_ARGUMENT,g+n+v)}function EP(n,e){return n.some(t=>t.isEqual(e))}class Yw{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Nb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gL extends Yw{data(){return super.data()}}function Nb(n,e){return"string"==typeof e?xb(n,e):e instanceof ld?e._internalPath:e._delegate._internalPath}function IP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fx{}class Qw extends Fx{}function Xh(n,e,...t){let r=[];e instanceof Fx&&r.push(e),r=r.concat(t),function(s){const u=s.filter(g=>g instanceof fv).length,l=s.filter(g=>g instanceof Jw).length;if(u>1||u>0&&l>0)throw new Re(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Jw extends Qw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Jw(e,t,r)}_apply(e){const t=this._parse(e);return TP(e._query,t),new rs(e.firestore,e.converter,ZC(e._query,t))}_parse(e){const t=Eg(e.firestore);return function(s,u,l,g,v,C,T){let x;if(v.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){bP(T,C);const H=[];for(const K of T)H.push(CP(g,s,K));x={arrayValue:{values:H}}}else x=CP(g,s,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||bP(T,C),x=vP(l,"where",T,"in"===C||"not-in"===C);return un.create(v,C,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class fv extends Fx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:En.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const l=s.getFlattenedFilters();for(const g of l)TP(u,g),u=ZC(u,g)}(e._query,t),new rs(e.firestore,e.converter,ZC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Lx extends Qw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lx(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new nd(s,u);return function(g,v){if(null===ig(g)){const C=Gh(g);null!==C&&AP(0,C,v.field)}}(r,l),l}(e._query,this._field,this._direction);return new rs(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new Ma(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Pb extends Qw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Pb(e,t,r)}_apply(e){return new rs(e.firestore,e.converter,sg(e._query,this._limit,this._limitType))}}class Ob extends Qw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ob(e,t,r)}_apply(e){const t=DP(e,this.type,this._docOrFields,this._inclusive);return new rs(e.firestore,e.converter,(s=t,new Ma((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class kb extends Qw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new kb(e,t,r)}_apply(e){const t=DP(e,this.type,this._docOrFields,this._inclusive);return new rs(e.firestore,e.converter,(s=t,new Ma((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function DP(n,e,t,r){if(t[0]=(0,Gt.m9)(t[0]),t[0]instanceof Yw)return function(s,u,l,g,v){if(!g)throw new Re(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const C=[];for(const T of qh(s))if(T.field.isKeyField())C.push(td(u,g.key));else{const x=g.data.field(T.field);if(Yp(x))throw new Re(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const H=T.field.canonicalString();throw new Re(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}C.push(x)}return new vu(C,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Eg(n.firestore);return function(u,l,g,v,C,T){const x=u.explicitOrderBy;if(C.length>x.length)throw new Re(ce.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let K=0;K<C.length;K++){const ue=C[K];if(x[K].field.isKeyField()){if("string"!=typeof ue)throw new Re(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ue}`);if(!zh(u)&&-1!==ue.indexOf("/"))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ue}' contains a slash.`);const ye=u.path.child(cn.fromString(ue));if(!et.isDocumentKey(ye))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const me=new et(ye);H.push(td(l,me))}else{const ye=vP(g,v,ue);H.push(ye)}}return new vu(H,T)}(n._query,n.firestore._databaseId,s,e,t,r)}}function CP(n,e,t){if("string"==typeof(t=(0,Gt.m9)(t))){if(""===t)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zh(e)&&-1!==t.indexOf("/"))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!et.isDocumentKey(r))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return td(n,new et(r))}if(t instanceof pr)return td(n,t._key);throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bb(t)}.`)}function bP(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TP(n,e){if(e.isInequality()){const r=Gh(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=ig(n);null!==u&&AP(0,s,u)}const t=function(r,s){for(const u of r)for(const l of u.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function AP(n,e,t){if(!t.isEqual(e))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ux{convertValue(e,t="none"){switch(wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ct()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vc(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Ab(Er(e.latitude),Er(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jp(e));default:return null}}convertTimestamp(e){const t=_c(e);return new zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);bt(j1(r));const s=new gu(r.get(1),r.get(3)),u=new et(r.popFirst(5));return s.isEqual(t)||hr(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Fb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class CL extends Ux{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}class Dg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dd extends Yw{constructor(e,t,r,s,u,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Nb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Xw extends dd{data(e={}){return super.data(e)}}class ef{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Dg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Xw(this._firestore,this._userDataWriter,r.key,r,new Dg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Xw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Dg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const g=new Xw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Dg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,C=-1;return 0!==l.type&&(v=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),C=u.indexOf(l.doc.key)),{type:TL(l.type),doc:g,oldIndex:v,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function TL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function MP(n,e){return n instanceof dd&&e instanceof dd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ef&&e instanceof ef&&n._firestore===e._firestore&&xx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class tf extends Ux{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}function xP(n,e,t){n=dn(n,pr);const r=dn(n.firestore,gr),s=Fb(n.converter,e,t);return pv(r,[Mb(Eg(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,ir.none())])}function RP(n,e,t,...r){n=dn(n,pr);const s=dn(n.firestore,gr),u=Eg(s);let l;return l="string"==typeof(e=(0,Gt.m9)(e))||e instanceof ld?Ox(u,"updateDoc",n._key,e,t,r):Px(u,"updateDoc",n._key,e),pv(s,[l.toMutation(n._key,ir.exists(!0))])}function NP(n,...e){var t,r,s;n=(0,Gt.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Rx(e[l])||(u=e[l],l++);const g={includeMetadataChanges:u.includeMetadataChanges};if(Rx(e[l])){const x=e[l];e[l]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[l+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[l+2]=null===(s=x.complete)||void 0===s?void 0:s.bind(x)}let v,C,T;if(n instanceof pr)C=dn(n.firestore,gr),T=Dc(n._key.path),v={next:x=>{e[l]&&e[l](Vx(C,n,x))},error:e[l+1],complete:e[l+2]};else{const x=dn(n,rs);C=dn(x.firestore,gr),T=x._query;const H=new tf(C);v={next:K=>{e[l]&&e[l](new ef(C,H,x,K))},error:e[l+1],complete:e[l+2]},IP(n._query)}return function(x,H,K,ue){const ye=new Eb(ue),me=new ZM(H,ye,K);return x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return $M(yield hv(x),me)})),()=>{ye.Dc(),x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return zM(yield hv(x),me)}))}}(Jr(C),T,g,v)}function pv(n,e){return function(t,r){const s=new Vr;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function wF(n,e,t){return XM.apply(this,arguments)}(yield Ax(t),r,s)})),s.promise}(Jr(n),e)}function Vx(n,e,t){const r=t.docs.get(e._key),s=new tf(n);return new dd(n,s,e._key,r,new Dg(t.hasPendingWrites,t.fromCache),e.converter)}const GL={maxAttempts:5};class PP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Eg(e)}set(e,t,r){this._verifyNotCommitted();const s=nf(e,this._firestore),u=Fb(s.converter,t,r),l=Mb(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(l.toMutation(s._key,ir.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=nf(e,this._firestore);let l;return l="string"==typeof(t=(0,Gt.m9)(t))||t instanceof ld?Ox(this._dataReader,"WriteBatch.update",u._key,t,r,s):Px(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nf(e,this._firestore);return this._mutations=this._mutations.concat(new dg(t._key,ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nf(n,e){if((n=(0,Gt.m9)(n)).firestore!==e)throw new Re(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class zL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Eg(e)}get(e){const t=nf(e,this._firestore),r=new CL(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return ct();const u=s[0];if(u.isFoundDocument())return new Yw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Yw(this._firestore,r,t._key,null,t.converter);throw ct()})}set(e,t,r){const s=nf(e,this._firestore),u=Fb(s.converter,t,r),l=Mb(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,l),this}update(e,t,r,...s){const u=nf(e,this._firestore);let l;return l="string"==typeof(t=(0,Gt.m9)(t))||t instanceof ld?Ox(this._dataReader,"Transaction.update",u._key,t,r,s):Px(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=nf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nf(e,this._firestore),r=new tf(this._firestore);return super.get(e).then(s=>new dd(this._firestore,r,t._key,s._document,new Dg(!1,!1),t.converter))}}function Bx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function kP(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function FP(){if(!function ts(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Uh=va.SDK_VERSION,(0,va._registerComponent)(new uh.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const u=t.getProvider("app").getImmediate(),l=new gr(new IC(t.getProvider("auth-internal")),new es(t.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Re(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,v)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),(0,va.registerVersion)(Z0,"3.12.2",n),(0,va.registerVersion)(Z0,"3.12.2","esm2017")}();class eE{constructor(e){this._delegate=e}static fromBase64String(e){return FP(),new eE(Tc.fromBase64String(e))}static fromUint8Array(e){return kP(),new eE(Tc.fromUint8Array(e))}toBase64(){return FP(),this._delegate.toBase64()}toUint8Array(){return kP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jx(n){return function e2(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class t2{enableIndexedDbPersistence(e,t){return function XF(n,e){pP(n=dn(n,gr));const t=Jr(n);if(t._uninitializedComponentsProvider)throw new Re(ce.FAILED_PRECONDITION,"SDK cache is already specified.");fo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),s=new dv;return fP(t,s,new wx(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function eL(n){pP(n=dn(n,gr));const e=Jr(n);if(e._uninitializedComponentsProvider)throw new Re(ce.FAILED_PRECONDITION,"SDK cache is already specified.");fo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new dv;return fP(e,r,new ZN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function tL(n){if(n._initialized&&!n._terminated)throw new Re(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(r){if(!Ta.D())return Promise.resolve();const s=r+"main";yield Ta.delete(s)}),function(r){return t.apply(this,arguments)})(hM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class LP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof gu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&fo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function cP(n,e,t,r={}){var s;const u=(n=dn(n,qw))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let g,v;if("string"==typeof r.mockUserToken)g=r.mockUserToken,v=ui.MOCK_USER;else{g=(0,Gt.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Re(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ui(C)}n._authCredentials=new EC(new Y0(g,v))}}(this._delegate,e,t,r)}enableNetwork(){return function rL(n){return function jF(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield QN(n),t=yield JN(n);return e.setNetworkEnabled(!0),function(r){const s=Xe(r);return s.vu.delete(0),$w(s)}(t)}))}(Jr(n=dn(n,gr)))}(this._delegate)}disableNetwork(){return function iL(n){return function HF(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield QN(n),t=yield JN(n);return e.setNetworkEnabled(!1),(r=(0,Ee.Z)(function*(s){const u=Xe(s);u.vu.add(0),yield iv(u),u.bu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Jr(n=dn(n,gr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,iP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function nL(n){return function(e){const t=new Vr;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function CF(n,e){return ix.apply(this,arguments)}(yield Ax(e),t)})),t.promise}(Jr(n=dn(n,gr)))}(this._delegate)}onSnapshotsInSync(e){return function kL(n,e){return function zF(n,e){const t=new Eb(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield hv(n),s=t,Xe(r).ku.add(s),void s.next();var r,s})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield hv(n),s=t,void Xe(r).ku.delete(s);var r,s}))}}(Jr(n=dn(n,gr)),Rx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gv(this,lP(this._delegate,e))}catch(t){throw Vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new xa(this,Tb(this._delegate,e))}catch(t){throw Vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Bs(this,function KF(n,e){if(n=dn(n,qw),Mx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new rs(n,null,(t=e,new Ma(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function qL(n,e,t){n=dn(n,gr);const r=Object.assign(Object.assign({},GL),t);return function(s){if(s.maxAttempts<1)throw new Re(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,l){const g=new Vr;return s.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const v=yield function XN(n){return Db(n).then(e=>e.datastore)}(s);new VF(s.asyncQueue,v,l,u,g).run()})),g.promise}(Jr(n),s=>e(new zL(n,s)),r)}(this._delegate,t=>e(new UP(this,t)))}batch(){return Jr(this._delegate),new VP(new PP(this._delegate,e=>pv(this._delegate,e)))}loadBundle(e){return function sL(n,e){const t=Jr(n=dn(n,gr)),r=new QF;return function qF(n,e,t,r){const s=function(u,l){let g;return g="string"==typeof u?A().encode(u):u,v=function(v,C){if(v instanceof Uint8Array)return KN(v,C);if(v instanceof ArrayBuffer)return KN(new Uint8Array(v),C);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new LF(v,l);var v}(t,Hw(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function kF(n,e,t){const r=Xe(n);var s;(s=(0,Ee.Z)(function*(u,l,g){try{const v=yield l.getMetadata();if(yield function(H,K){const ue=Xe(H),ye=Qr(K.createTime);return ue.persistence.runTransaction("hasNewerBundle","readonly",me=>ue.qs.getBundleMetadata(me,K.id)).then(me=>!!me&&me.createTime.compareTo(ye)>=0)}(u.localStore,v))return yield l.close(),g._completeWith({taskState:"Success",documentsLoaded:(H=v).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);g._updateProgress(VN(v));const C=new pF(v,u.localStore,l.serializer);let T=yield l.bc();for(;T;){const H=yield C.zu(T);H&&g._updateProgress(H),T=yield l.bc()}const x=yield C.complete();return yield cd(u,x.Ju,void 0),yield function(H,K){const ue=Xe(H);return ue.persistence.runTransaction("Save bundle","readwrite",ye=>ue.qs.saveBundleMetadata(ye,K))}(u.localStore,v),g._completeWith(x.progress),Promise.resolve(x.Hu)}catch(v){return fo("SyncEngine",`Loading bundle failed with ${v}`),g._failWith(v),Promise.resolve(new Set)}var H}),function(u,l,g){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield Ax(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function oL(n,e){return function WF(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,r){const s=Xe(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.qs.getNamedQuery(u,r))}(yield Cb(n),e)}))}(Jr(n=dn(n,gr)),e).then(t=>t?new rs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Bs(this,t):null)}}class Lb extends Ux{constructor(e){super(),this.firestore=e}convertBytes(e){return new eE(new Tc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xa.forKey(t,this.firestore,null)}}class UP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Lb(e)}get(e){const t=bg(e);return this._delegate.get(t).then(r=>new tE(this._firestore,new dd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=bg(e);return r?(Bx("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=bg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=bg(e);return this._delegate.delete(t),this}}class VP{constructor(e){this._delegate=e}set(e,t,r){const s=bg(e);return r?(Bx("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=bg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=bg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Cg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Xw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new nE(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Cg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Cg(e,new Lb(e),t),s.set(t,u)),u}}Cg.INSTANCES=new WeakMap;class xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xa(t,new pr(t._delegate,r,new et(e)))}static forKey(e,t,r){return new xa(t,new pr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gv(this.firestore,lP(this._delegate,e))}catch(t){throw Vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Gt.m9)(e))instanceof pr&&dP(this._delegate,e)}set(e,t){t=Bx("DocumentReference.set",t);try{return t?xP(this._delegate,e,t):xP(this._delegate,e)}catch(r){throw Vs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?RP(this._delegate,e):RP(this._delegate,e,t,...r)}catch(s){throw Vs(s,"updateDoc()","DocumentReference.update()")}}delete(){return function PL(n){return pv(dn(n.firestore,gr),[new dg(n._key,ir.none())])}(this._delegate)}onSnapshot(...e){const t=BP(e),r=jP(e,s=>new tE(this.firestore,new dd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return NP(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function SL(n){n=dn(n,pr);const e=dn(n.firestore,gr),t=Jr(e),r=new tf(e);return function $F(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(s,u,l){try{const g=yield function(v,C){const T=Xe(v);return T.persistence.runTransaction("read document","readonly",x=>T.localDocuments.getDocument(x,C))}(s,u);g.isFoundDocument()?l.resolve(g):g.isNoDocument()?l.resolve(null):l.reject(new Re(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const v=av(g,`Failed to get document '${u} from cache`);l.reject(v)}}),function(s,u,l){return r.apply(this,arguments)})(yield Cb(n),e,t);var r})),t.promise}(t,n._key).then(s=>new dd(e,r,n._key,s,new Dg(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function ML(n){n=dn(n,pr);const e=dn(n.firestore,gr);return eP(Jr(e),n._key,{source:"server"}).then(t=>Vx(e,n,t))}(this._delegate):function AL(n){n=dn(n,pr);const e=dn(n.firestore,gr);return eP(Jr(e),n._key).then(t=>Vx(e,n,t))}(this._delegate),t.then(r=>new tE(this.firestore,new dd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new xa(this.firestore,this._delegate.withConverter(e?Cg.getInstance(this.firestore,e):null))}}function Vs(n,e,t){return n.message=n.message.replace(e,t),n}function BP(n){for(const e of n)if("object"==typeof e&&!jx(e))return e;return{}}function jP(n,e){var t,r;let s;return s=jx(n[0])?n[0]:jx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class tE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return MP(this._delegate,e._delegate)}}class nE extends tE{data(e){const t=this._delegate.data(e);return function wC(n,e){n||ct()}(void 0!==t),t}}class Bs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lb(e)}where(e,t,r){try{return new Bs(this.firestore,Xh(this._delegate,function mL(n,e,t){const r=e,s=Nb("where",n);return Jw._create(s,r,t)}(e,t,r)))}catch(s){throw Vs(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Bs(this.firestore,Xh(this._delegate,function yL(n,e="asc"){const t=e,r=Nb("orderBy",n);return Lx._create(r,t)}(e,t)))}catch(r){throw Vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Bs(this.firestore,Xh(this._delegate,function vL(n){return aP("limit",n),Pb._create("limit",n,"F")}(e)))}catch(t){throw Vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Bs(this.firestore,Xh(this._delegate,function _L(n){return aP("limitToLast",n),Pb._create("limitToLast",n,"L")}(e)))}catch(t){throw Vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Bs(this.firestore,Xh(this._delegate,function wL(...n){return Ob._create("startAt",n,!0)}(...e)))}catch(t){throw Vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Bs(this.firestore,Xh(this._delegate,function EL(...n){return Ob._create("startAfter",n,!1)}(...e)))}catch(t){throw Vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Bs(this.firestore,Xh(this._delegate,function IL(...n){return kb._create("endBefore",n,!1)}(...e)))}catch(t){throw Vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Bs(this.firestore,Xh(this._delegate,function DL(...n){return kb._create("endAt",n,!0)}(...e)))}catch(t){throw Vs(t,"endAt()","Query.endAt()")}}isEqual(e){return xx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function RL(n){n=dn(n,rs);const e=dn(n.firestore,gr),t=Jr(e),r=new tf(e);return function GF(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(s,u,l){try{const g=yield pb(s,u,!0),v=new HN(u,g.ir),C=v.sc(g.documents),T=v.applyChanges(C,!1);l.resolve(T.snapshot)}catch(g){const v=av(g,`Failed to execute query '${u} against cache`);l.reject(v)}}),function(s,u,l){return r.apply(this,arguments)})(yield Cb(n),e,t);var r})),t.promise}(t,n._query).then(s=>new ef(e,r,n,s))}(this._delegate):"server"===e?.source?function NL(n){n=dn(n,rs);const e=dn(n.firestore,gr),t=Jr(e),r=new tf(e);return tP(t,n._query,{source:"server"}).then(s=>new ef(e,r,n,s))}(this._delegate):function xL(n){n=dn(n,rs);const e=dn(n.firestore,gr),t=Jr(e),r=new tf(e);return IP(n._query),tP(t,n._query).then(s=>new ef(e,r,n,s))}(this._delegate),t.then(r=>new Hx(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=BP(e),r=jP(e,s=>new Hx(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return NP(this._delegate,t,r)}withConverter(e){return new Bs(this.firestore,this._delegate.withConverter(e?Cg.getInstance(this.firestore,e):null))}}class r2{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new nE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Hx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new nE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new r2(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new nE(this._firestore,r))})}isEqual(e){return MP(this._delegate,e._delegate)}}class gv extends Bs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xa(this.firestore,e):null}doc(e){try{return new xa(this.firestore,void 0===e?Tb(this._delegate):Tb(this._delegate,e))}catch(t){throw Vs(t,"doc()","CollectionReference.doc()")}}add(e){return function OL(n,e){const t=dn(n.firestore,gr),r=Tb(n),s=Fb(n.converter,e);return pv(t,[Mb(Eg(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new xa(this.firestore,t))}isEqual(e){return dP(this._delegate,e._delegate)}withConverter(e){return new gv(this.firestore,this._delegate.withConverter(e?Cg.getInstance(this.firestore,e):null))}}function bg(n){return dn(n,pr)}class $x{constructor(...e){this._delegate=new ld(...e)}static documentId(){return new $x(fr.keyField().canonicalString())}isEqual(e){return(e=(0,Gt.m9)(e))instanceof ld&&this._delegate._internalPath.isEqual(e._internalPath)}}class Tg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ZL(){return new Nx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Tg(e)}static delete(){const e=function WL(){return new Zw("deleteField")}();return e._methodName="FieldValue.delete",new Tg(e)}static arrayUnion(...e){const t=function KL(...n){return new dL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Tg(t)}static arrayRemove(...e){const t=function YL(...n){return new hL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Tg(t)}static increment(e){const t=function QL(n){return new fL("increment",n)}(e);return t._methodName="FieldValue.increment",new Tg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const i2={Firestore:LP,GeoPoint:Ab,Timestamp:zn,Blob:eE,Transaction:UP,WriteBatch:VP,DocumentReference:xa,DocumentSnapshot:tE,Query:Bs,QueryDocumentSnapshot:nE,QuerySnapshot:Hx,CollectionReference:gv,FieldPath:$x,FieldValue:Tg,setLogLevel:function n2(n){!function _C(n){ba.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function HP(n,e){return function a2(n,e=Ho.z){return new ri.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Gx(n,e){return HP(n,e).pipe((0,Pt.U)(t=>({payload:t,type:"query"})))}function Ub(n,e){return Gx(n,e).pipe(xs(void 0),t0(),(0,Pt.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,g)=>{const v=s.find(T=>T.doc.ref.isEqual(l.ref)),C=t?.payload.docs.find(T=>T.ref.isEqual(l.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(l.metadata)||!v&&C&&JSON.stringify(C.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:l}})}),u}))}function $P(n,e,t){return Ub(n,t).pipe(ps((r,s)=>function c2(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function l2(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return zx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),(0,LA.x)(),(0,Pt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function zx(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function GP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function o2(n){(function s2(n,e){n.INTERNAL.registerComponent(new uh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},i2)))})(n,(e,t)=>new LP(e,t,new t2)),n.registerVersion("@firebase/firestore-compat","0.3.11")}(ao.Z);class zP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Ub(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Pt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(xs(void 0),t0(),Ri(([r,s])=>s.length>0||!r),(0,Pt.U)(([r,s])=>s),lr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ps((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=GP(e);return $P(this.query,t,this.afs.schedulers.outsideAngular).pipe(lr.iC)}valueChanges(e={}){return Gx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),lr.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(lr.iC)}add(e){return this.ref.add(e)}doc(e){return new qP(this.ref.doc(e),this.afs)}}class qP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=WP(r,t);return new zP(s,u,this.afs)}snapshotChanges(){return function u2(n,e){return HP(n,e).pipe(xs(void 0),t0(),(0,Pt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(lr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,on.D)(this.ref.get(e)).pipe(lr.iC)}}class d2{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Ub(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ri(t=>t.length>0),lr.iC):Ub(this.query,this.afs.schedulers.outsideAngular).pipe(lr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ps((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=GP(e);return $P(this.query,t,this.afs.schedulers.outsideAngular).pipe(lr.iC)}valueChanges(e={}){return Gx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),lr.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(lr.iC)}}const h2=new d.OlP("angularfire2.enableFirestorePersistence"),f2=new d.OlP("angularfire2.firestore.persistenceSettings"),p2=new d.OlP("angularfire2.firestore.settings"),g2=new d.OlP("angularfire2.firestore.use-emulator");function WP(n,e=(t=>t)){return{query:e(n),ref:n}}let mv=(()=>{class n{constructor(t,r,s,u,l,g,v,C,T,x,H,K,ue,ye,me,rt,_t){this.schedulers=v;const Ge=(0,Ii.on)(t,g,r),at=T;x&&Nm(Ge,g,H,ue,ye,me,K,rt),[this.firestore,this.persistenceEnabled$]=(0,Ii.cc)(`${Ge.name}.firestore`,"AngularFirestore",Ge.name,()=>{const Nt=g.runOutsideAngular(()=>Ge.firestore());if(u&&Nt.settings(u),at&&Nt.useEmulator(...at),s&&!$i(l)){const Zt=()=>{try{return(0,on.D)(Nt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(di){return typeof console<"u"&&console.warn(di),(0,pt.of)(!1)}};return[Nt,g.runOutsideAngular(Zt)]}return[Nt,(0,pt.of)(!1)]},[u,at,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=WP(s,r),g=this.schedulers.ngZone.run(()=>u);return new zP(g,l,this)}collectionGroup(t,r){const s=r||(l=>l),u=this.firestore.collectionGroup(t);return new d2(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new qP(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ii.Dh),d.LFG(Ii.xv,8),d.LFG(h2,8),d.LFG(p2,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(lr.HU),d.LFG(f2,8),d.LFG(g2,8),d.LFG(I_,8),d.LFG(_I,8),d.LFG(__,8),d.LFG(wI,8),d.LFG(w_,8),d.LFG(E_,8),d.LFG(rp,8),d.LFG(Rm,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function m2(n,e){1&n&&(d.TgZ(0,"div",29),d._uU(1,"The Name are required"),d.qZA())}function y2(n,e){1&n&&(d.TgZ(0,"div",29),d._uU(1,"Bio is required "),d.qZA())}function v2(n,e){1&n&&(d.TgZ(0,"div",29),d._uU(1," email is required "),d.qZA())}function _2(n,e){1&n&&(d.TgZ(0,"div",29),d._uU(1," Password is required "),d.qZA())}function w2(n,e){1&n&&(d.TgZ(0,"div",29),d._uU(1," this input password should +8 caratere "),d.qZA())}function E2(n,e){1&n&&(d.TgZ(0,"div",29),d._uU(1," Password is not equal "),d.qZA())}function I2(n,e){1&n&&(d.TgZ(0,"div",29),d._uU(1," this input password should +8 caratere "),d.qZA())}let D2=(()=>{class n{constructor(t,r,s){this.authService=t,this.af=r,this.route=s}register(t){let r=t.value,s=r.textarea||"";this.authService.signup(r.email,r.pass).then(u=>{localStorage.setItem("userconnecet",u.user.uid),this.af.collection("users").doc(u.user.uid).set({fname:r.fname,email:r.email,pass:r.pass,textarea:s,uid:u.user.uid,img:"https://www.addsystems.com/wp-content/uploads/2017/01/Anonym-e1491994623630.jpg"}).then(()=>{this.route.navigate(["/"])})}).catch(u=>{alert(u.message)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(oc),d.Y36(mv),d.Y36(xr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-register"]],decls:59,vars:7,consts:[[1,"container"],[1,"position-absolute","top-50","start-50","translate-middle"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","searchInput"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person"],["d","M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"],["name","fname","ngModel","","required","","type","text","id","searchInput","placeholder","Enter your name",1,"form-control"],["fname","ngModel"],["class","alert alert-danger",4,"ngIf"],["name","textarea","ngModel","","required","","cols","60","rows","2","placeholder","Bio","name","bio",1,"uk-input"],["textarea","ngModel"],["for","exampleInputEmail1"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-envelope"],["d","M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"],["name","email","ngModel","","email","","required","","type","email","placeholder","Enter your email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control"],["email","ngModel"],["id","emailHelp",1,"form-text","text-muted"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-lock-fill"],["d","M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"],["name","pass","ngModel","","pass","","required","","minlength","8","type","password","id","exampleInputPassword1","placeholder","Password",1,"form-control"],["pass","ngModel"],["name","confirmPassword","ngModel","","confirmPassword","","required","","minlength","8","type","password","id","exampleInputPassword1","placeholder","Password",1,"form-control"],["confirmPassword","ngModel"],["type","submit",1,"btn","btn-success",2,"width","100%"],[1,"alert","alert-danger"]],template:function(t,r){if(1&t){const s=d.EpF();d.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3),d.NdJ("ngSubmit",function(){d.CHM(s);const l=d.MAs(3);return d.KtG(r.register(l))}),d.TgZ(4,"div",4)(5,"label",5),d._uU(6,"Name"),d.qZA(),d.TgZ(7,"div",6)(8,"div",7)(9,"div",8),d.O4$(),d.TgZ(10,"svg",9),d._UZ(11,"path",10),d.qZA()()(),d.kcU(),d._UZ(12,"input",11,12),d.qZA(),d.YNc(14,m2,2,0,"div",13),d.qZA(),d.TgZ(15,"div",4)(16,"div",6),d._UZ(17,"textarea",14,15),d.YNc(19,y2,2,0,"div",13),d.qZA()(),d.TgZ(20,"div",4)(21,"label",16),d._uU(22,"Email address"),d.qZA(),d.TgZ(23,"div",6)(24,"div",7)(25,"div",8),d.O4$(),d.TgZ(26,"svg",17),d._UZ(27,"path",18),d.qZA()()(),d.kcU(),d._UZ(28,"input",19,20),d.qZA(),d.YNc(30,v2,2,0,"div",13),d.TgZ(31,"small",21),d._uU(32,"We'll never share your email with anyone else."),d.qZA()(),d.TgZ(33,"div",4)(34,"label",16),d._uU(35,"Password"),d.qZA(),d.TgZ(36,"div",6)(37,"div",7)(38,"div",8),d.O4$(),d.TgZ(39,"svg",22),d._UZ(40,"path",23),d.qZA()()(),d.kcU(),d._UZ(41,"input",24,25),d.qZA(),d.YNc(43,_2,2,0,"div",13),d.YNc(44,w2,2,0,"div",13),d.qZA(),d.TgZ(45,"div",4)(46,"label",16),d._uU(47,"Confirm Password "),d.qZA(),d.TgZ(48,"div",6)(49,"div",7)(50,"div",8),d.O4$(),d.TgZ(51,"svg",22),d._UZ(52,"path",23),d.qZA()()(),d.kcU(),d._UZ(53,"input",26,27),d.qZA(),d.YNc(55,E2,2,0,"div",13),d.YNc(56,I2,2,0,"div",13),d.qZA(),d.TgZ(57,"button",28),d._uU(58,"Register"),d.qZA()()()()}if(2&t){const s=d.MAs(13),u=d.MAs(18),l=d.MAs(29),g=d.MAs(42),v=d.MAs(54);d.xp6(14),d.Q6J("ngIf",(null==s.errors?null:s.errors.required)&&s.touched),d.xp6(5),d.Q6J("ngIf",(null==u.errors?null:u.errors.required)&&u.touched),d.xp6(11),d.Q6J("ngIf",(null==l.errors?null:l.errors.required)&&l.touched),d.xp6(13),d.Q6J("ngIf",(null==g.errors?null:g.errors.required)&&g.touched),d.xp6(1),d.Q6J("ngIf",(null==g.errors?null:g.errors.minlength)&&g.touched),d.xp6(11),d.Q6J("ngIf",g.value!==v.value&&g.touched),d.xp6(1),d.Q6J("ngIf",(null==v.errors?null:v.errors.minlength)&&v.touched)}},dependencies:[bs,lc,ac,Nl,ap,kl,Ip,Km,Ia,cc],styles:["form[_ngcontent-%COMP%]{width:400px;margin-top:50px}"]}),n})();function C2(n,e){1&n&&(d.TgZ(0,"div",21),d._uU(1," email is required "),d.qZA())}function b2(n,e){1&n&&(d.TgZ(0,"div",21),d._uU(1," Password is required "),d.qZA())}function T2(n,e){1&n&&(d.TgZ(0,"div",21),d._uU(1," this input password should +8 caratere "),d.qZA())}function A2(n,e){if(1&n&&(d.TgZ(0,"div",21),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Oqu(t.massege_error)}}L(6878);let S2=(()=>{class n{constructor(t,r){this.AuthService=t,this.route=r}login(t){let r=t.value;this.AuthService.signin(r.email,r.pass).then(s=>{this.route.navigate(["/"]),localStorage.setItem("userconnecet",s.user.uid)}).catch(()=>{this.massege_error="Incorrect email or pass or both"})}doSomething(){this.route.navigate(["/register"])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(oc),d.Y36(xr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:36,vars:4,consts:[[1,"container"],[1,"position-absolute","top-50","start-50","translate-middle"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-envelope"],["d","M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"],["name","email","ngModel","","email","","required","","type","email","placeholder","Enter your email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control"],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],["id","emailHelp",1,"form-text","text-muted"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-lock-fill"],["d","M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"],["name","pass","ngModel","","pass","","required","","minlength","8","type","password","id","exampleInputPassword1","placeholder","Password",1,"form-control"],["pass","ngModel"],["type","submit",1,"btn","btn-success",2,"width","100%"],[1,"btn","btn-info",2,"width","100%",3,"click"],[1,"alert","alert-danger"]],template:function(t,r){if(1&t){const s=d.EpF();d.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3),d.NdJ("ngSubmit",function(){d.CHM(s);const l=d.MAs(3);return d.KtG(r.login(l))}),d.TgZ(4,"div",4)(5,"label",5),d._uU(6,"Email address"),d.qZA(),d.TgZ(7,"div",6)(8,"div",7)(9,"div",8),d.O4$(),d.TgZ(10,"svg",9),d._UZ(11,"path",10),d.qZA()()(),d.kcU(),d._UZ(12,"input",11,12),d.qZA(),d.YNc(14,C2,2,0,"div",13),d.TgZ(15,"small",14),d._uU(16,"We'll never share your email with anyone else."),d.qZA()(),d.TgZ(17,"div",4)(18,"label",5),d._uU(19,"Password"),d.qZA(),d.TgZ(20,"div",6)(21,"div",7)(22,"div",8),d.O4$(),d.TgZ(23,"svg",15),d._UZ(24,"path",16),d.qZA()()(),d.kcU(),d._UZ(25,"input",17,18),d.qZA(),d.YNc(27,b2,2,0,"div",13),d.YNc(28,T2,2,0,"div",13),d.qZA(),d.TgZ(29,"button",19),d._uU(30,"Login"),d.qZA(),d._UZ(31,"br")(32,"br"),d.YNc(33,A2,2,1,"div",13),d.TgZ(34,"button",20),d.NdJ("click",function(){return r.doSomething()}),d._uU(35,"You have not account"),d.qZA()()()()}if(2&t){const s=d.MAs(13),u=d.MAs(26);d.xp6(14),d.Q6J("ngIf",(null==s.errors?null:s.errors.required)&&s.touched),d.xp6(13),d.Q6J("ngIf",(null==u.errors?null:u.errors.required)&&u.touched),d.xp6(1),d.Q6J("ngIf",(null==u.errors?null:u.errors.minlength)&&u.touched),d.xp6(5),d.Q6J("ngIf",r.massege_error)}},dependencies:[bs,lc,ac,Nl,ap,kl,Ip,Km,Ia,cc],styles:["form[_ngcontent-%COMP%]{width:400px}"]}),n})(),M2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:64,vars:0,consts:[[1,"container"],[1,"jumbotron"],[1,"display-4"],[1,"lead"],[1,"my-4"],["routerLink","login","role","button",1,"btn","btn-primary","btn-lg"],["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#carouselExampleIndicators","data-slide-to","0",1,"active"],["data-target","#carouselExampleIndicators","data-slide-to","1"],["data-target","#carouselExampleIndicators","data-slide-to","2"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://wallpapercave.com/wp/wp7832339.png","alt","...",1,"d-block","w-100",2,"height","500px"],[1,"carousel-item"],["src","https://www.wallpapertip.com/wmimgs/227-2274701_product-wallpaper.jpg","alt","...",1,"d-block","w-100",2,"height","500px"],["src","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAsJCQcJCQcJCQkJCwkJCQkJCQsJCwsMCwsLDA0QDBEODQ4MEhkSJRodJR0ZHxwpKRYlNzU2GioyPi0pMBk7IRP/2wBDAQcICAsJCxULCxUsHRkdLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCz/wAARCAC8AUgDASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAAAQACAwQFBgcI/8QAVhAAAgEDAgIFCAQICAoJBQAAAQIDAAQRBSESMQYTQVFhFCJScYGRobEycpLRFRYjMzRCYsEHJEOClMLS8CVEVFWipLLT4eJFU2ODo7O0w+Nkc4ST8f/EABkBAQEBAQEBAAAAAAAAAAAAAAABAgMEBf/EACwRAAICAQIFAwMEAwAAAAAAAAABAhEDEiEEEzFBUQVSYRQVIkKRofAycbH/2gAMAwEAAhEDEQA/APTPwgd/yXuf/hRF+vbE32hTjYW/fJ7x91D8Hwek/txV2BHPciVAqqw84HJI7PVUVsW619zyFWvIYxykb3CooI+CWVTvwnGe+qQdMTxDc0wE95qScYIqIVh9TSHZPeaXE3eaFKoUPE3eaGW7zSpUAst3mllu80qGaAPEe80uI95oUNqAdxHvNAlt9zQoHtoA8Td5ocR7zQzQzUA7iPeaXEe80zNLNAS5PeaPEe81HmiDQEoY95p3E3eaipwNQF2I+Ym/ZT81HF+bWpK2jIs0s0qVUCzSzSoUBDITxczUfEe806U+dUeawaQSx23NDibvNCgaFCWbvNN4m7zRptQAJPeaYS3eadTDVA0k95qNie81IajagIyTkbnnSpYGRSqFs1VvFftQeBJpwugcbDu5mj5FaDlHj2t99HyWDbZhjuY1sxsHyhPA+o1FCeKWZsczmpRbxDln31FCvDLMvdtWkRiuM5T1GoBU9zzT21AKyyoNLNI02oUJNDNKlQCzQ4qVCgDmhmhRwezn2UAt6B7aeUcHBwD3MQD7iaBRt91+0v31AMzQJp3A3ev20++hwHvX7affQDc0aPA37P20++lwN+z9pPvqFoVEUurb9n7S/fTuBv2ftL99LFBFOoBG8PtL99OCnbl9pfvoKLkP5pKk3qKIqEUFlBH7Q++pOJPSX7QrdmNw0t6HEvpL7xS4l7194paG4aVDK+kvvFLNLBWm+lUeaM58/wBlRZrJtD80CTTc8qWaAOfGgTQoZoBZppo5ppoQBqM081GaFG9opUO0UqEOhNCjQrZkVVk/SJ/ZVmqy/pE/sqog25/U9tQVPc/qe2q9ZZpBoUqVQoqG1I02gHbUsU2nUAsVQ1qee20XpBc27tHPb6XeywyLsySLEcMp7x2VezWfrwzoHSQd+kah/wCSxoDwECSZmZnZmO7NIzMzE9pJ3zTxC23nD41d0TTpNUuJ7dJRE0cAm4jGZOIcYXGAw7++uhTodeMQDeBc9pts490ua6KDe6MOaXU5QQN6S/GniE+kvuNda3Q24RWZtRThVSxPkj8h6pM/Cq/4toM51NRtnBsbnOCcA48eyo4MKaOdELekPjUgiPpD3Gukj6LO+QuoLkY2a0lXnn0j4VOOiMvbqK+y2P8AvK5uDOiyROZWI+kPjUqRn0hXSL0Rk/ziP6Kf95Ug6JuP+kR/RT/vK4yxNnaOaKOcVD6Q9xqVUPpD3GuiXom/+cf9W/8AkqQdFWH/AEhn/wDG/wDkrzy4aTO8eIgc+qnbcfGpAp9IfGt8dGSNvLv9X/56cOjR/wAuP9H/AOeuD4Wfg7LiYLuYQU94+NOAPePjW6OjZ/y5v6OP7dIdG2PK9Y+q3/565PhMng6fVY/Jh4O+45Z7a6voNczHUby26xjC9kZurJJUOkqqGA5ciQazJ9C6iGeVrxsRxSPhoeEMVUnGeI8/VU3QJ865KO/TLj4SxGmLFLFljZMuSOTFKj0O5wHX1b1DmpLn84Pq1BmvtHyUPzQzTCeVLNQDs0M+FNyaWTVIONNNI0CaABzTD204mmGqBvaPXSodopVAdCaVI0q2ZFVZf0mf2VZqsn6TN6qqIC5/U9ZqtVi65J6zVass0GhSoVCgpUjQoA0M0DQqAfmqGtedovSAd+k6l/6aSrmaq6oM6VrY79K1L/00lVA8i6EjOqXg7DprfCWOvQbbZgoIwQScdVuR9VifhXnvQjh/C1wC3DnTZBnON+tiwK9EhEfFgsRtzaWJgD3YU5r0wWx5cn+RZZTgesZ94pCLcflJ9u+aX4704p5uAzAnYHbbxwahWGVSeO4kfBA4WSIYxucGMCqQajcbhCZx57KD1txkld8nIA+NWUiCBsFjxEsSzM5z62JpgUd7f39tPCL3n+/tqULHcLAHABPYDsD7cGo0lZmRerwWzz6zbHPfgA+NO4F7zRCDvao0aTRLg0jsCd9h2DNNCL+1R4B3msUbTGJIzMAyEcXIhXx7SVA7+351Ng1HwDvNDgXxrOk1ZJiqksMV6qdcsy9UW4QryxfSAznGM8qnKLjt+FMcRRo8kjhI0Uu7uRhVHMmpTvYtozruytrez1F4ut4mtZVPWTSOMc+THFY/QB89IVHfpt38HirUS/sNTh1RLfr1SGF0aSRVXi443bIUEkcu2uc6CGG46QwW78RSWwvMhWZDleBgQykN8a8ueElkjfU9WKaeOSR6pqlzb2SNcTkhFAUAfSd2zhFz7fdVK01Gxvlka3l3iUNMsgCsgPad+XjWH0ij1iAXFtIgk06SQSWsnXGVoeA+aSjuJsjJBwrA58dsLTI7xbiO3jkDS6hILbhi4iqW0REzysxHLPh+rvzrw5eJzQyfitvHezmkqPQVZXVWU5DAEHcZB9dOqsJWNwbeIAQ268MrHdi4ACovcB21YzX0cc1Nf62MhpZFDNRzTQW8ZmnkSKEFQ0khwi8XIs3IDvNdLSISUDTIpIpolmiYNC68aSbhWQnAcE9h7DTqJ2AU00SabVA3tFKl2ilQHQmhRNKtGRVVX9Kl9VWqrDa6k+qKqIC55J6zVWrV19FPrVUqMqEaFKhWSiPbQJpHtpuaFDQyaWaFAGoL/fTtXHfpuoD/AFaSpxUV4M2Wpjv0+/H+ryUB430HP+GW7zpsvaR/KwdoB+Xu516XCpLblsLud2xnuw6D515Z0IkP4aAO4NhcADccjG45eqvVYWHDgbDJ8efrr0wex5prcsNnA2OM898e2gFHnAknzjvyzsO6mssZKvjLqpVDk7A8/D4UVV2L8CNgEbBeWw7BWkjLHBV8aeFWowkvoN7qOGGxAH1mUfM1aZLRJwrSAX5VQvr+00+ETTvxFmCRxxFGlkPMkDPIDc7/ADoQ6lpdwE6q9tsvjCPIscm/YVkxvW+Tk06q2Mc6GrTas0gF/uaOB/c1h3evaTaEohN3KNitsy9Wng0p29wNZc/Se7dAtraw25zlnc9exHcoYBR7q74/T8+TdLb5OM+OwY3Te/wdeQu330ML31ws2u61Mwbyt4gAAEtgsSbeC/vNPGv65gDyle7i6iDi9p4a7v0nMu6/k5L1PE+zO3wMCsLpJcLHBaWinzpmNxKM/wAmnmpkeJyfZXPrquqiUTeWXDPxcRDuWQ+BQ+bj2VBcXM91NLcTtxSSHLHkBjYKo7AOQrph9OljyKU3dEnxsZwaitzb0FI5ItXUjdliGRz3jkFc/wDwfZTpXpYzkNa6gp8PyWf3Vu9HG31Qd62/x6wVz3QN8dLtGHeuoL/4Dn91fI4+NZ2fU4OV4T17VrGxvwkV3CsgUFo2BZJImO3FHIhDA+2uMljbStRC2d5I80Ds0a30Qjm4GwGAlXzXQjbJQevau9uvzi/VrPurW0vI+ruoIpo+YEg3UjtRh5wPiCK+blxa94umd0zMsby3ttIGoXD8TSyPJKileta5mc8MAGfpbj59m9618tkUTXbBJH85bWEFYoEI81Wz5zN3kn2DFcxM+i6JrAM5uJrWH8o6MQ8ltclQRKqj6YCnbO44id619D1i21azvL4B4o471rd3uTGiFyFKojZwTggYznJxXHBL8tHZf22U2Rk5HLYknuHaTmuR14XMkF8VdohHMqXkAYvbssqMqzR/9nMBg9zAVS6WdIPKlTRdGeaWZrp7e9McbL1kgwkcMWfOOG4uLYchzxR4Lm2zpd20VsJre3jniHWTNFZyRLJIyvxfSZkG3Yzsc77c+LyXHZ7eTnJmtpszXVrYxmJblk4XDXUvDaRz8CgokYyzcGMDsB7s10I4sAMQWAAYgEAntwCT86paZDbw269Ta+TocLGHwZnjHJnxsM9g/wD7V6unBYpQx6pO7NoFNo0017gA8x66VDO4pUB0RpUTQrRkVVv8ab6o+VWarH9KP1B8qqIxt2fNj+t+6qdXbz6CfWqjk1GVBJoZpUN+zJJ5Ac/ZWTQjTabFNBOjvDIkio7RScJBMci80kXmGHcajluraG5sbR5MXN6tw8EY3JSBeJ3buHYPH1UBNSpb4J7BjJ7BnvoUARzptwM2t+O+zvB/4D0RRk3huR321yPfE1AeE9Czw63H42d0P9AGvVIHwcZ2PzrxvQ9Ti0m/ivZIXlRIZYyiMqEl14c5YEV1idPrNSSdNuWHYBcRLvnvEZrvBpLc4TTb2PQs4VvVv6qzNTtBqBg4bw26xNIeKMg8fGF5gODtj41za/wgWjjA0mfcY868Tu5fmqYOmdgAQNCTBOcG4iG/sg91dseXRLVHqcsmLmLTJbGqOj4bJOozEj0VVs9+4kNA9GouZvJyTnIMcfzJNZy9N4FGE0VFGc7XYA/0YhR/Hnu0eP23b/7uvX9xze7+Eef6HF7f+miOjNsD+mT49Lqoh7MUR0atsb3Vxnbbhi39uKzPx6fs0iD23Un9il+PU3ZpNr7bib7qfcuI94+34faaw6N2m38ZufHaIY37PNp/4uWO/wDGbrG+D+S37tuD99Yv49XXZpVn7Z5zS/Hm97NMsB/3lwf61ZfqPEe819Bh9ht/i7Y/5Rd9nIxe3+To/i9Y7fl7vsz58Xf2fk6wvx51D/N2n+1rk/16aenGqdlhpo/pJ/8AcrD9Qzv9ZpcDh9hv/i/Yb/lrrw8+P4/k6B0GwA/OXOcn+UTGPYlc+em+r9llpo/mXB/92mnptrP+S6aP+7nI/wDNrm+Ozv8AWdFwmJfpOmsrezsbmWKCSVuuKRuZSSOsjHGUVgoXIzkiuP6EtwdMNDH/ANRfJ77eYUT0r1LrjOLTTRMSTxiGY4OMFgpl4cnlnFVuh8h/G7o85xlr6bONhl4ZfvryZZvI9Uup6ccNCpdD23UrpLeSFS9sHlDdXHNcRwPJwnfqzJgE+2sxNTlOoNZTWpjj6iSdpXPVtbqmP0gOeHByArA4PZ+zY6R2s97ZmGKws74ElmhupJInGBs1u6EYf+cP3VxWh3d0mq2mlzmfrFacWVnqSLKtm/V9YZ47kYBRQpJQjmFI5Er5dT1UXvRs9JdM0/U4WdGlXUre2kuIPJ0bilijUtiUEbLseFjjuyQdufl07WtNg0/Lnq414dOmthG1pC9xGZZrmMMMrNzIYgkfq88jpBfXMmpR2mn3+iW8U7CWVNQSS51S+5AzOheNRxD82MnbcDGw57WYNUfT9KuopZ0OhXN1aTwmZDExtWdeuiRjuyptIvMruM4NKVh7ozejkdsdY1W5u4GL6JE97GqCWWW4ulYoGkmIOwB4uzmD2V3NqtnqepS6oiExQW9tbW5kAy8oDOzsBkebkKNz2+zJ6KQFLbUrsRyajNqN3KiCFo0C2nCoVJppCI9t9hxbeurXRmK/hsRIYoDBeTy3SObhxMImPAg6sR8HIelv8K5PHcoxr8f7QV9zoyaFA0s+New0Gmnto58aaaAb2ilS7R66VQHSUKWaVaMiquf0r1oKsVXP6UPqVURjL36CfWqhmr95+bX6wrLnuLa1j664liij41TilkRBlttuIjPqFRsqJhvjA7cVkap0i0nSWu4pbiNb22hlm6lyAVItHuonIPNWIVPW2K57pD0tSGSG006+so+ueSCe7t7lbvqrdkKNIYMIgYEgoesBBHc2T57qJginiuI7pbq56w+UXEsglRyR5rJHMuRhTwsGLYI7MA1z1bm9LqzpLfpDBpUsmpWrXTlrqO4aCWJovK7O5ZnuIJWf9UMQ0D4ODxDk+KuXXSO5lktdcWJUvVgu9Ms0ZB1ayySysxAOx6pGXOeZHjXD3+qJdyWs6LFBJHCsJit1VbdFjOFCJxEYYbtsBns3yXWdzCJCglVxKoCwsjyKXJ5kLt39o51ynq7HJ2epdG7nWNXcanqDzXRTrIrQR8FtpVoWHCwiC7ySkbO3CQMkAnO1mLph0fN9q9jeTx2LafcC3Sa5kJju+YLxBUyBnv7CN+ys/R26QXaLd3upX+l2zhLO1WGx06KBI1YKEi6xXMascYJQZO2eWdnS4gmqdMIGeWXF5pHE90/Wyt/gyAsXZhz9nwFdIu0bRQ1LproNraSSaXd2OoXgkiVbdp3t06sk8b9Y6gbdgz29uMGVOmWgzX9xYKzCA2XHBqALyW9xNImDEiJGXHCTgkjsPLI4tLWViXTtQBRSFe05BVJxdw7g4qElT0m1FlVVJ6OWIyAAQDqF3xBT3HbNbRT5/dGRnjdSroxR1ccLKynBBB3oADvHvFfRj2Wnzv1k9naSyHnJNbwyOfWzqT8aIsNLHKwsR6rW3/sVbMnzwrgb5XbxG9TeUL3r9qvoQWtiOVpaD1W8A/q1IILYcoIB6ooh8lqplPnkXK96fao+Ug8uE+0mvogJGOUcY9SIPkKcMDkB7AKuoHzsJ2PJCfUjn5CnCSc8opD6opfur6IyabNc29rEZ7u7gtYA6Rma6mSGIO5wF4nIGTUsHz2PKzyt5z6oJv7NSCLUTjFndH1Wtwf6te8afq1lqaTPZ3Cv1MrxSxiaN5YwHZUaRYXYDjwWUE8vHYXgz+k32jTUwfPgttXPLT74+qzuT/UpwstbPLS9SPqsbo/1K+geJ/Sb7RpcTek3vNLYPn/8G9ISdtI1U+A0+6/sU8aT0mblo2rf0C5/sV75lu8+80C3ifealg8FGjdKjy0PV/6DN+8VvdEOj3SJOkGkXl1p11a2tncGeeW8jMIxwMoVA25JJ7q9YLeJ99NLDl37c++oyklxqmhm4htIr61kuZGkTqY5Q7kqNwQMiue1fo/YK34YslktrmxJvZ4bY4ivIIwTPF1Y5MyFwCMc8Hntcj6N6RFexX8a3AuIpWlXindk4mBByp9ZrRmKTW13CkrxTPBNFG4XPC7KVBz3d+1csam0+Yv2Nz0WtD/c5vpFoc+vabYXNlKkOpWzfhG0PCi9arqsiW/WkgqFHDw7423G+Rx+ni56SaD0ht55xJdWsj695TI5LC5RSkiBVGCGXOWzgYG3d32jfhm00yytLzT0660gMINvdwujRxhViUFsHONjnA83tzWDddH+kF7rWvXNvH+DrLUrYWJMUloxaB4lSViiH6TEeGx76sulmdO9WZa3+px6VpNjbS9Tay61dW0iQkpLLFGkUnVkruE3ywB3Ldw39EjjSGOKJFCrGiIoA2CqAAK4226N9KZJtFe40+2jSDVr+9uljvIMJFKlvHGFxz+gc/8AGu8FpdtxMyxooBYnrOI4AzyA/fWccWnuV1RAaFKlXcwCgaJppoUHaKVDbIpUBOOkmnyywxRRz4Y5MkmECgb5wMmqsnSwJLJGLFm4WIVklbzgDgHHBmrjXhXZ7q2QZ5fkV/fQTVLWNsm7gfvGOP8A2ATXHV5kdKXaJUPSXUH/ADWkyMDy86Yk+5K17OeW58mmli6qSSIF4zxeYccvO3p9pqdneS9TEZDIEMhzG6pgEA4ZgO+pW/Sk+rXXG73uzE/FUNvfza/WFc9fIj3ESSIjoYFIV1DDzXYcmyK6C9/Nj6wrDvB+UtW71kT4hvvqyRmJRbT9KmdXl0+xkdVVVaS2gchV5AFl5DsqzFpmjEjOmadzP+J23M8/1KQqxEdxWUkVtlqGw0xPoWNiv1bW3HySrqRxxr+TRE+oir/sgVDEeVWByxXajDM64VHaaN1V0cFHVxxKysMEMDtg1kWBKax0uxti60bHq/BcIxWtKcySH9o/CsLTYGXpB00kE9w5ln0j8nK4MSF7FJMqAOz6I7gMeNcu5pdC7rc0EWnTzThxAj2jzMmOJeC5iKpv2s3Co9fhUJ83pJer2/i3Yg+sahdZq7qXkbWNxHcoZLNQkdxGQD10crrCwcdo87I7sAjBFZZtWg6WXTeUT9X+LVkiW5K9SirdyQBV2zgcPEN+bE0BsoRUlQg45UePFLLRLRFQdb4UOuPcPfVslFkUaq9ee4fGqOoau9i0CrAkjSIz8LF+LY4HCE3PbUsGxXP9LdCn6QaZDbW0scd1a3QurfryywvxIYnVyoJGxyDg8vGoh0ivyM/g5FHe6XIHxxUya1qsiho7S1IPaDKd/Y1aolkHQ/QNV6PQalb3t1ZyxXFxHNAlor+ayoEZ2eRVbfAAXG3Dnt36isEaprBwDaWy+yT971oW95I0Ukl2Y4uF1UcIbckbALuxPcBmlMWXs0s1BG9xKwYp1MAzhZADPLnYF8HhUDu3PfjlU+FPf76hQE0xm8amCJ3H30upi9H4mpQKpaoi/LnzHzq95PB6HxNFYYVPEqDI5E5JHvoLHmsskrJIMn6bfOtM1n3CkSk95JHqO9aISITtvU8eM5zVVOypkJq0C/GRtVhz+SmP/Zv/ALJqrFU83F1EoUZZl4QO/JAqgyOwUqnFtMeZQHxb7hS8km9KP3n7qzTLZXzTSateRz98f2j91N8juDneP7R+6lCyr2ilVnyC6yPzfP0/+FKlFs5oLNvw26j2j7qcVvW5KqYA/WLfdTPwtbKSCtx/MSPPyq5p88epSPFF5QnCUVpJWULxMdlHAmcnf+5r4sMPDyemMrZ9GWTNFW47E+jx3Rae4N2cjNvwCFUK7huISBifWK6C3J6yPLFjg5LczT47CCIMsSogZuJuBcZY9pqK9M1lDcXUEEl3LBBJLDaxEI87qNo1ZsjJ9VfU4fHy1R4Ms9bslvCOrH1hWTcpxRhu2Ng/s5GsiPprY3o6mWJbC6Bw0GocaecNiBIcD3gU271fUoo8qLVQ6nhYoJFKnbKtkqfYa9axOatHDmKPU0QBU8QOdge7avNtW6QdLIhA1peFVidmkSCKGPjXGNyVz8apxdMNTmCibVbuJ+ILwiUqCx226sCuVNHROz2WJJCBhGO3YpqVm4VOewHPsrxPWNU1x7RDFfX7PHMsrYuZgSACOQb3VLpfTzXFCQzXkki44SZwsowOxw4J+NaUjLR6nxbnxJPvrEgv7Cz1zpc1xOI0J0UlurldE/wesZ6x1Uovduwqhb9NIVaNb60jVcbyWjD1hhHJ8fOqtYWuh65rPSaRxpV3YXxtJ7KyE8sNzG0SgOz24dee5Y4OTuCOVczfQ6me70O8t5YvwjB1MyxlmSWEnhV1l24j4Cs+bUNP/GKSfylDG3R20jZ1DSRxv+EJyFkeIMq8/wBYjurN1LoXosllcJY6VBa3LdV1c8FxJ1iAOOLAlYrgjY7f8ben9G9Ps9YMjWtpFZ/g+KGxtVRpA0sZV5bid3bhaU5OPNxjxFarYnc3ck4I3BGQRnBBpp4s4wc88AHOOVWmLKjsVIYGTgyfyfCm4Z3HIEd4pME6yNRnDFhljgseDiUR9h7c8qxRbKRLjdo5FXvIGB68UeCQ7hSfUQatqwPWHB2ZFUE4Kh1GDJk455yATTOCEmAFFywRnIUhmB808KDDjBxkkbA0oWU5FuAFCqVLtguQp4FxknB2z2Db5b8zrsd2lyJLR5lxDGjGOUjiYDJLEkknfff/AIdiY4T15IPDGBletYohUkNxOMgn9bGORHfmoXsbJxAzQFy7DP0w0pU7hV4uHBG4PFyHjVWxDzg3GuKcdZcH1yE/I0FuNSBLcJyfpHjIz6xXo40nTuOUCxgYqo4QyyGIb5GOI5JOfEbY9aXTNLaOMx2Fu4VypDRDrGYNgdYSMqO8Fcjlyrqskl0ObxpnH6P195e20NxDILZ1leWSJ5M8KKWAViCu5rt7a30i3y9tav1pGC88ruwHcpJOPYKlQyLb8CYUIHU7heEqQAqrjHf202PfBzxZOcmsyySl1NKCRJmdvoLbr/8AsO1Tx2tw/OeJfqxk/Nqagq3EcVyjCu5tv4HC3t0A45D4lmCgmgRZKeEMGcDi4RIMgcsneqF7cwx3fA4AVkiTrVdH4G3OJoXI83cbjPPwqEzWDFVE8DMM4QMW4TvnqmB4x8a2ZNgRpgHqcjvWQMfdt86cqWzZ4VXI5gggj1g71jRanDE8aJKXZ+HMR4BKvEe3B4T8D+7RWaSbJNvIhXHC8jLGd+7maFJJFjB2VR7qzr9cJHIAMA8LY8dxVyWOQhckZxvjkDVSa2Loyl8A1UKKsbAgb1YUNglVDNzAJwCe7NV1s2Qgm5IGd/yfEcZ8DUVpqdozyxTN1M8TspWXzQ6g4DIT393z7Kn5ISy6nqFscLo8z47TIxB9qIR8aozdK76HzW0SQZx+u7DHeQAG+Fb0N/BjzWUjwJrKvzHNdXEnnYbhx5xIGFHLes5JaFZqCUnRlP01vEyfwZCo7ONrhfmKjH8IBUnrbC1x+zdFT/pA/KrjW9u4Kspx7ajexs2znrASQchiOXwrl9Q/B25MfJA38I+mrs1iM+F2G93DEaA/hHsGxwaTeyZ5dUJSPtGID41I2n2pyA0oyeLIK/dUD6NYuMM7sM5PEsRz9paq4n4JyV5LMX8IFkzqJNLuUycBI7iGW4Y9wiTPxYUqFnbQ2EyTWvUpIoIUmCIgZ2zjFKukc8K/JHGWKV7MxGaU/RjkJ5bIx+QrT0e98idhMOrUyK5MmFUADfJO1aosLAf4rAd/1kDf7VWbaysDIvWWtuVBGxijx8s18rD6esU1NS6H0MnGOcdLidPkHBB2IyPbWLeX9zb3rxyITAQDFgYPDwjLA++tnIxty7MeFYGr2Ek03lEUhWYKArDfAA5FTtjvFfVd1sfOXyZGsdGdM6Q/xpLmcXSrwh+sZmVRuFZXyMVxN3ovS7QusNv1lzbbsUhUyI+PTt2yM+Irt4LiaKZI5Mw3OcKUz1cm/wCqT8j8ezeV7xgTK0LZOU4I2UhTyB845PjSLb3WzK12Z5hHaw3KRvLqNyJHRWkgsNCvpjE7DJTikQjblULdFdMlkEwsels8vEGDR6da2gJHb+WZa9X/AC+QAE4cb7MT7M7UiW7WUfZFdHb6kW2yPNR0auJBtofSKTbbyvWNPtl9oh4j8KfD0Kk4gy9GNJQ8+K/1nULjfvKwRgV6MXA5y+wMP3UOJT+s7eoOfkKiVA46Lohfgr/EuiluMjJWwvLqQDtw1zMB8K3rLRXspFbyqIoobMNvYafaxuzDGXMSGTbs8+tTY/ycp/m/2iKKDc5RlHZxFcn2KTVIQPAr7HNU5dNk61ZYJMOvCwDk4yp2Pz99apA3odufDFYqyldlu3AytuCOIqwL8SMVK5U9+9NMN2Qw62JWdFR5EULIeHcHiC+urNAsoPnHAzvjJOKAhaCd42iZ4erYMrKIhwkNknYD204RXICg3OSBgMUyx7N2Jz665fUOlt3ZXM1s1hbxhHYJJJJKwdMkK4JCrv66pHpZqU30Z4oVP/V26Efa86pYo7UQ3Gd7pvYgH9ammCTG91Pv3BR864tOkGrswK37Oc8m6ph9krVxekWqDaVIHA7SpQn7B/dTUWjpTag87q5+1GP6tN8nto2MjSyyH6TK7x+ccYywCgn31hrr8bfnYJF8YpA2PYwHzoPquhsjvNdtbqgLOZ1OFHLfgzRyFHQpPZsTwkKDzUcOx5ZAPKhGBG7KqfkwcoVG2DvvvzrCjtPL4+u0+6EkfZIgcD2dYo+VSx2HSOPbyiJwPTjwferfurnve6LsdKnCee1TpwLvkerI3rBih14Y4jbe+Sr0UWofykkQ+oGPzNbTM0WHtreV2d4bd3Y5LPHGzH1kjNPjt4Y8nqoj2YRFQj24FOjBQYJ376eXx21ugD+Ljc28v81A3yNAXNugIEVwueeYZADQMoH61VLm6URuOI8t+fLtrLKWutjcKFLEduBy9eaJiL5AfbsOKyobmNscEyEdnCyn5GtKCZttwaJhjXtLkAlGVvDOD8awtQsI7sMroY5lyA6jhdTXV9YCB2nuFVJokkcsQMnFHGwjibe6m02YQ6lEzQkgR3KZ83sAYE4/vsTWnNcW7SnqC8ysqEG3xJnIHZni+Fbk1ja3CNHKisrAqQwByD66x26NWyMRFc3ESAkqgWJwuewGRS2PDNc5wlJUbjKKdsg62RecN0PrQSfuWh16AEkuAASeKKQYx61qyOj6L/jt0T6oh8hR/AXdeXXvT7q4cifk7cyL6opC7hPKRcc84PLvom4i/wCtT2nFWG6P8Wf47c7/AP2/upn4tntvpz61jP7qcmY5kCISITs8R/nClUg6NJkZvJefPq46Vb5MzOuJrdUc1IkZBqz1Td3bThC3ca9uhI8uomgYkEHsxTpVU86ESFWzT5KnQlmZc6faTgiRMjY88EEciCO2klvEmRmQ9+ZHOT3nerjVERSjS3IurhB/Ng+sk/M0QsQ5In2RTiNzQxUKHixy29VAvRwKaRQDsmlk0qIFAI8qGBtRNDFQAxSo4obDtHvFARvBDICHjRgeYYAj41m3HR3QLjJextwx/WjXq2+1Hg1q8aDmw99DrIvSFSkLOZn6F6c+eouLqI4PCONZUHslBPxrPfodqsTA21/AwHZKssR98ZI+Fdt10Xf8KHXR+PuqUimJYaAIosXNvYyTZyXleecZ8FbhGPZWnFp4iGFliiHdaW0EXxKlvjVjrlHY1Dr/ANn3muinXQzpHxQrEHw8zl3Z3aZ2dix7ix5eAqUCq/Xt2KKXXydwrLlZaotURVPrpd9wKaZpPT+VSy0XTtQ586pGVjzk+NM61fT+JpqBeKqewe+mGO3PMJjtyapmaPvJ99Drk7mPsqWCc2Wk5ybe34u/hXPwqWNbGH6CIuPRWqfWjsU+2h1x7F+NLopqeVQgYGfdUZuUJ5H3VnmWQ42Hzpccvh7qamSi/wCUr2Ifbimm4JP0fjVHil7/AHClmT0mqamKLhmbuX400zSeHuqmQ3pN76aVPeTS2UuGZ/THwqM3HfKPYRVXg8KHDUtgn8oXI/KHn2E0qrhRkUqA6bAyaORXNHUb9v5Ujc8lUfuoeVXjc55fY2PlXTUc1E6cGopHXtYD1mud6yZj50kh9bGljPMn3mpqRdJttLCOci+8VE08A/lFrLCinBR40cjWkvG4g9LPsNN8ph8fdVThHjSwBUtsUWvKU3wp+FDykej7zVUnHKo2dxyNLYLvlLdij2ml5RL2cPurNMsvpH2UC8h/Xb31Cmn18vpY9gphmf0/iKzCCebP9o1BKoweftJoDWNxHkhpV255cbVGLiAn6YPq4jWdpqJxSbDmeYz861gi5PvqAAljPIMfUho8exPAwHiMU5QM1Lwgo+c7FaEK3WH0feaXWv3CpeBaHAtUEfWSfs+6hxSd491TcC0uBaAhzJ6RpeeebH31PwLR4F8aAg4SeZJpcA7qs8C+NAovjQFfgFHgFWOBfGm4FQEXAKPD4UWOOVVnmlAOGxgdgFClnh8KXCKo2VzPO2JGzuRsAOR8KlgZzdQqWYjrSME7Y32q0QtYFLapbgAMmO1f31CQMUoocoO2mlox200gb0zA8aUB5kj8fdUZlGNhv48qaQKYQKUBxm/ZHvqNp27AKBA8ajIFAHr5Mjce6lULc6VAf//Z","alt","...",1,"d-block","w-100",2,"height","500px"],["type","button","data-target","#carouselExampleIndicators","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["type","button","data-target","#carouselExampleIndicators","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[2,"padding","2px"],[1,"d-flex","justify-content-between"],[1,"contact-info"],[1,"list-unstyled"],[1,"follow-info"],["routerLink","#"],[1,"bi","bi-facebook"],[1,"bi","bi-twitter"],[1,"bi","bi-instagram"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),d._uU(3,"Welcome to Our Store"),d.qZA(),d.TgZ(4,"p",3),d._uU(5,"We offer the latest and greatest mobile devices at the best prices."),d.qZA(),d._UZ(6,"hr",4),d.TgZ(7,"p"),d._uU(8,"At our store, we are committed to providing our customers with the best mobile devices and accessories at the most affordable prices. We carry a wide range of products from the world's leading brands, including Apple, Samsung, and Google."),d.qZA(),d.TgZ(9,"p"),d._uU(10,"Whether you are looking for the latest iPhone, the most advanced Samsung Galaxy, or any other mobile device, you can find it at our store. We also offer a range of accessories, including cases, chargers, and screen protectors, to help you get the most out of your device."),d.qZA(),d.TgZ(11,"p"),d._uU(12,"Shop now and get the most advanced technology in your pocket."),d.qZA(),d.TgZ(13,"a",5),d._uU(14,"Shop Now"),d.qZA()(),d.TgZ(15,"div",6)(16,"ol",7),d._UZ(17,"li",8)(18,"li",9)(19,"li",10),d.qZA(),d.TgZ(20,"div",11)(21,"div",12),d._UZ(22,"img",13),d.qZA(),d.TgZ(23,"div",14),d._UZ(24,"img",15),d.qZA(),d.TgZ(25,"div",14),d._UZ(26,"img",16),d.qZA()(),d.TgZ(27,"button",17),d._UZ(28,"span",18),d.TgZ(29,"span",19),d._uU(30,"Previous"),d.qZA()(),d.TgZ(31,"button",20),d._UZ(32,"span",21),d.TgZ(33,"span",19),d._uU(34,"Next"),d.qZA()()(),d._UZ(35,"br"),d.TgZ(36,"footer",22)(37,"div",0)(38,"div",23)(39,"div",24)(40,"h4"),d._uU(41,"Contact Us"),d.qZA(),d.TgZ(42,"p"),d._uU(43,"For any inquiries, please contact us through our social media channels or through the contact form below."),d.qZA(),d.TgZ(44,"ul",25)(45,"li"),d._uU(46," Phone: (123) 456-7890"),d.qZA()()(),d.TgZ(47,"div",26)(48,"h4"),d._uU(49,"Follow Us"),d.qZA(),d.TgZ(50,"ul",25)(51,"li")(52,"a",27),d._UZ(53,"i",28),d._uU(54," Facebook "),d.qZA()(),d.TgZ(55,"li")(56,"a",27),d._UZ(57,"i",29),d._uU(58," Twitter "),d.qZA()(),d.TgZ(59,"li")(60,"a",27),d._UZ(61,"i",30),d._uU(62," Instagram "),d.qZA()()()()(),d._UZ(63,"hr"),d.qZA()()())},dependencies:[zf]}),n})();const ZP="firebasestorage.googleapis.com",KP="storageBucket";class Rr extends Gt.ZR{constructor(e,t,r=0){super(qx(e),`Firebase Storage: ${t} (${qx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Lt=(()=>((Lt=Lt||{}).UNKNOWN="unknown",Lt.OBJECT_NOT_FOUND="object-not-found",Lt.BUCKET_NOT_FOUND="bucket-not-found",Lt.PROJECT_NOT_FOUND="project-not-found",Lt.QUOTA_EXCEEDED="quota-exceeded",Lt.UNAUTHENTICATED="unauthenticated",Lt.UNAUTHORIZED="unauthorized",Lt.UNAUTHORIZED_APP="unauthorized-app",Lt.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Lt.INVALID_CHECKSUM="invalid-checksum",Lt.CANCELED="canceled",Lt.INVALID_EVENT_NAME="invalid-event-name",Lt.INVALID_URL="invalid-url",Lt.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Lt.NO_DEFAULT_BUCKET="no-default-bucket",Lt.CANNOT_SLICE_BLOB="cannot-slice-blob",Lt.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Lt.NO_DOWNLOAD_URL="no-download-url",Lt.INVALID_ARGUMENT="invalid-argument",Lt.INVALID_ARGUMENT_COUNT="invalid-argument-count",Lt.APP_DELETED="app-deleted",Lt.INVALID_ROOT_OPERATION="invalid-root-operation",Lt.INVALID_FORMAT="invalid-format",Lt.INTERNAL_ERROR="internal-error",Lt.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Lt))();function qx(n){return"storage/"+n}function Wx(){return new Rr(Lt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function YP(){return new Rr(Lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QP(){return new Rr(Lt.CANCELED,"User canceled the upload/download.")}function JP(){return new Rr(Lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yv(n){return new Rr(Lt.INVALID_ARGUMENT,n)}function XP(){return new Rr(Lt.APP_DELETED,"The Firebase app was deleted.")}function eO(n){return new Rr(Lt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rE(n,e){return new Rr(Lt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function iE(n){throw new Rr(Lt.INTERNAL_ERROR,"Internal error: "+n)}class Is{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Is.makeFromUrl(e,t)}catch{return new Is(e,"")}if(""===r.path)return r;throw function B2(n){return new Rr(Lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+s+"(/(.*))?$","i");function C(at){at.path_=decodeURIComponent(at.path)}const x=t.replace(/[.]/g,"\\."),Ge=[{regex:g,indices:{bucket:1,path:3},postModify:function u(at){"/"===at.path.charAt(at.path.length-1)&&(at.path_=at.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${t===ZP?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let at=0;at<Ge.length;at++){const Nt=Ge[at],Zt=Nt.regex.exec(e);if(Zt){let Yo=Zt[Nt.indices.path];Yo||(Yo=""),r=new Is(Zt[Nt.indices.bucket],Yo),Nt.postModify(r);break}}if(null==r)throw function V2(n){return new Rr(Lt.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class z2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Vb(n){return"string"==typeof n||n instanceof String}function tO(n){return Zx()&&n instanceof Blob}function Zx(){return typeof Blob<"u"&&!(0,Gt.UG)()}function Kx(n,e,t,r){if(r<e)throw yv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw yv(`Invalid value for '${n}'. Expected ${t} or less.`)}function hd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function nO(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var go=(()=>((go=go||{})[go.NO_ERROR=0]="NO_ERROR",go[go.NETWORK_ERROR=1]="NETWORK_ERROR",go[go.ABORT=2]="ABORT",go))();function rO(n,e){const t=n>=500&&n<600,s=-1!==[408,429].indexOf(n),u=-1!==e.indexOf(n);return t||s||u}class Q2{constructor(e,t,r,s,u,l,g,v,C,T,x,H=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=u,this.additionalRetryCodes_=l,this.callback_=g,this.errorCallback_=v,this.timeout_=C,this.progressCallback_=T,this.connectionFactory_=x,this.retry=H,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,ue)=>{this.resolve_=K,this.reject_=ue,this.start_()})}start_(){const t=(r,s)=>{const u=this.resolve_,l=this.reject_,g=s.connection;if(s.wasSuccessCode)try{const v=this.callback_(g,g.getResponse());!function Z2(n){return void 0!==n}(v)?u():u(v)}catch(v){l(v)}else if(null!==g){const v=Wx();v.serverResponse=g.getErrorText(),l(this.errorCallback_?this.errorCallback_(g,v):v)}else l(s.canceled?this.appDelete_?XP():QP():YP())};this.canceled_?t(0,new Bb(!1,null,!0)):this.backoffId_=function q2(n,e,t){let r=1,s=null,u=null,l=!1,g=0;function v(){return 2===g}let C=!1;function T(...me){C||(C=!0,e.apply(null,me))}function x(me){s=setTimeout(()=>{s=null,n(K,v())},me)}function H(){u&&clearTimeout(u)}function K(me,...rt){if(C)return void H();if(me)return H(),void T.call(null,me,...rt);if(v()||l)return H(),void T.call(null,me,...rt);let Ge;r<64&&(r*=2),1===g?(g=2,Ge=0):Ge=1e3*(r+Math.random()),x(Ge)}let ue=!1;function ye(me){ue||(ue=!0,H(),!C&&(null!==s?(me||(g=2),clearTimeout(s),x(0)):me||(g=1)))}return x(0),u=setTimeout(()=>{l=!0,ye(!0)},t),ye}((r,s)=>{if(s)return void r(!1,new Bb(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const l=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(l),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(l),this.pendingConnection_=null;const g=u.getErrorCode()===go.NO_ERROR,v=u.getStatus();if(!g||rO(v,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===go.ABORT;return void r(!1,new Bb(!1,null,T))}const C=-1!==this.successCodes_.indexOf(v);r(!0,new Bb(C,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function W2(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Bb{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function iU(...n){const e=function rU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Zx())return new Blob(n);throw new Rr(Lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ko={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Yx{constructor(e,t){this.data=e,this.contentType=t||null}}function Qx(n,e){switch(n){case Ko.RAW:return new Yx(iO(e));case Ko.BASE64:case Ko.BASE64URL:return new Yx(sO(n,e));case Ko.DATA_URL:return new Yx(function uU(n){const e=new oO(n);return e.base64?sO(Ko.BASE64,e.rest):function aU(n){let e;try{e=decodeURIComponent(n)}catch{throw rE(Ko.DATA_URL,"Malformed data URL.")}return iO(e)}(e.rest)}(e),function cU(n){return new oO(n).contentType}(e))}throw Wx()}function iO(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function sO(n,e){switch(n){case Ko.BASE64:{const s=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(s||u)throw rE(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ko.BASE64URL:{const s=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(s||u)throw rE(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function oU(n){if(typeof atob>"u")throw function G2(n){return new Rr(Lt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(s){throw s.message.includes("polyfill")?s:rE(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class oO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw rE(Ko.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function lU(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Ac{constructor(e,t){let r=0,s="";tO(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(tO(this.data_)){const s=function sU(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===s?null:new Ac(s)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ac(r,!0)}}static getBlob(...e){if(Zx()){const t=e.map(r=>r instanceof Ac?r.data_:r);return new Ac(iU.apply(null,t))}{const t=e.map(l=>Vb(l)?Qx(Ko.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let u=0;return t.forEach(l=>{for(let g=0;g<l.length;g++)s[u++]=l[g]}),new Ac(s,!0)}}uploadData(){return this.data_}}function Jx(n){let e;try{e=JSON.parse(n)}catch{return null}return function Y2(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function aO(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function fU(n,e){return e}class js{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||fU}}let jb=null;function sE(){if(jb)return jb;const n=[];n.push(new js("bucket")),n.push(new js("generation")),n.push(new js("metageneration")),n.push(new js("name","fullPath",!0));const t=new js("name");t.xform=function e(u,l){return function pU(n){return!Vb(n)||n.length<2?n:aO(n)}(l)},n.push(t);const s=new js("size");return s.xform=function r(u,l){return void 0!==l?Number(l):l},n.push(s),n.push(new js("timeCreated")),n.push(new js("updated")),n.push(new js("md5Hash",null,!0)),n.push(new js("cacheControl",null,!0)),n.push(new js("contentDisposition",null,!0)),n.push(new js("contentEncoding",null,!0)),n.push(new js("contentLanguage",null,!0)),n.push(new js("contentType",null,!0)),n.push(new js("metadata","customMetadata",!0)),jb=n,jb}function uO(n,e,t){const r=Jx(e);return null===r?null:function mU(n,e,t){const r={type:"file"},s=t.length;for(let u=0;u<s;u++){const l=t[u];r[l.local]=l.xform(r,e[l.server])}return function gU(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new Is(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function Xx(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const u=e[s];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const cO="prefixes",lO="items";class Sc{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Mc(n){if(!n)throw Wx()}function Hb(n,e){return function t(r,s){const u=uO(n,s,e);return Mc(null!==u),u}}function vv(n){return function e(t,r){let s;return s=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function L2(){return new Rr(Lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function F2(){return new Rr(Lt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function k2(n){return new Rr(Lt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function U2(n){return new Rr(Lt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}}function oE(n){const e=vv(n);return function t(r,s){let u=e(r,s);return 404===r.getStatus()&&(u=function O2(n){return new Rr(Lt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=s.serverResponse,u}}function dO(n,e,t){const s=hd(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,g=new Sc(s,"GET",Hb(n,t),l);return g.errorHandler=oE(e),g}function IU(n,e,t,r,s){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),s&&(u.maxResults=s);const g=hd(e.bucketOnlyServerUrl(),n.host,n._protocol),C=n.maxOperationRetryTime,T=new Sc(g,"GET",function wU(n,e){return function t(r,s){const u=function _U(n,e,t){const r=Jx(t);return null===r?null:function vU(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[cO])for(const s of t[cO]){const u=s.replace(/\/$/,""),l=n._makeStorageReference(new Is(e,u));r.prefixes.push(l)}if(t[lO])for(const s of t[lO]){const u=n._makeStorageReference(new Is(e,s.name));r.items.push(u)}return r}(n,e,r)}(n,e,s);return Mc(null!==u),u}}(n,e.bucket),C);return T.urlParams=u,T.errorHandler=vv(e),T}function fO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function TU(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class $b{constructor(e,t,r,s){this.current=e,this.total=t,this.finalized=!!r,this.metadata=s||null}}function eR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Mc(!1)}return Mc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const xU={STATE_CHANGED:"state_changed"},Hs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tR(n){switch(n){case"running":case"pausing":case"canceling":return Hs.RUNNING;case"paused":return Hs.PAUSED;case"success":return Hs.SUCCESS;case"canceled":return Hs.CANCELED;default:return Hs.ERROR}}class RU{constructor(e,t,r){if(function K2(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function _v(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let mO=null;class NU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=go.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=go.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=go.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw iE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const u in s)s.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,s[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw iE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class PU extends NU{initXhr(){this.xhr_.responseType="text"}}function Eu(){return mO?mO():new PU}class yO{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=sE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Lt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(rO(s.status,[])){if(!u)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();s=YP()}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Lt.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,u)=>{this._resolve=s,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function AU(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),l=fO(e,r,s),g={name:l.fullPath},v=hd(u,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},x=Xx(l,t),ue=new Sc(v,"POST",function K(ye){let me;eR(ye);try{me=ye.getResponseHeader("X-Goog-Upload-URL")}catch{Mc(!1)}return Mc(Vb(me)),me},n.maxUploadRetryTime);return ue.urlParams=g,ue.headers=T,ue.body=x,ue.errorHandler=vv(e),ue}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Eu,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const s=function SU(n,e,t,r){const v=new Sc(t,"POST",function u(C){const T=eR(C,["active","final"]);let x=null;try{x=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Mc(!1)}x||Mc(!1);const H=Number(x);return Mc(!isNaN(H)),new $b(H,r.size(),"final"===T)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=vv(e),v}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(s,Eu,t,r);this._request=u,u.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new $b(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,u)=>{let l;try{l=function MU(n,e,t,r,s,u,l,g){const v=new $b(0,0);if(l?(v.current=l.current,v.total=l.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw function H2(){return new Rr(Lt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const C=v.total-v.current;let T=C;s>0&&(T=Math.min(T,s));const x=v.current;let K="";K=0===T?"finalize":C===T?"upload, finalize":"upload";const ue={"X-Goog-Upload-Command":K,"X-Goog-Upload-Offset":`${v.current}`},ye=r.slice(x,x+T);if(null===ye)throw JP();const Ge=new Sc(t,"POST",function me(at,Nt){const Zt=eR(at,["active","final"]),di=v.current+T,Yo=r.size();let Ev;return Ev="final"===Zt?Hb(e,u)(at,Nt):null,new $b(di,Yo,"final"===Zt,Ev)},e.maxUploadRetryTime);return Ge.headers=ue,Ge.body=ye.uploadData(),Ge.progressCallback=g||null,Ge.errorHandler=vv(n),Ge}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const g=this._ref.storage._makeRequest(l,Eu,s,u,!1);this._request=g,g.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=dO(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Eu,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function pO(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},v=function g(){let Ge="";for(let at=0;at<2;at++)Ge+=Math.random().toString().slice(2);return Ge}();l["Content-Type"]="multipart/related; boundary="+v;const C=fO(e,r,s),T=Xx(C,t),K=Ac.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+v+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===K)throw JP();const ue={name:C.fullPath},ye=hd(u,n.host,n._protocol),rt=n.maxUploadRetryTime,_t=new Sc(ye,"POST",Hb(n,t),rt);return _t.urlParams=ue,_t.headers=l,_t.body=K.uploadData(),_t.errorHandler=vv(e),_t}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Eu,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=QP(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=tR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,s){const u=new RU(t||void 0,r||void 0,s||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(tR(this._state)){case Hs.SUCCESS:_v(this._resolve.bind(null,this.snapshot))();break;case Hs.CANCELED:case Hs.ERROR:_v(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(tR(this._state)){case Hs.RUNNING:case Hs.PAUSED:e.next&&_v(e.next.bind(e,this.snapshot))();break;case Hs.SUCCESS:e.complete&&_v(e.complete.bind(e))();break;default:e.error&&_v(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ag{constructor(e,t){this._service=e,this._location=t instanceof Is?t:Is.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ag(e,t)}get root(){const e=new Is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aO(this._location.path)}get storage(){return this._service}get parent(){const e=function dU(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Is(this._location.bucket,e);return new Ag(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw eO(e)}}function _O(n,e,t){return nR.apply(this,arguments)}function nR(){return nR=(0,Ee.Z)(function*(n,e,t){const s=yield wO(n,{pageToken:t});e.prefixes.push(...s.prefixes),e.items.push(...s.items),null!=s.nextPageToken&&(yield _O(n,e,s.nextPageToken))}),nR.apply(this,arguments)}function wO(n,e){null!=e&&"number"==typeof e.maxResults&&Kx("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=IU(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Eu)}function zU(n){n._throwIfRoot("getDownloadURL");const e=function DU(n,e,t){const s=hd(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,g=new Sc(s,"GET",function EU(n,e){return function t(r,s){const u=uO(n,s,e);return Mc(null!==u),function yU(n,e,t,r){const s=Jx(e);if(null===s||!Vb(s.downloadTokens))return null;const u=s.downloadTokens;if(0===u.length)return null;const l=encodeURIComponent;return u.split(",").map(C=>{const x=n.fullPath;return hd("/b/"+l(n.bucket)+"/o/"+l(x),t,r)+nO({alt:"media",token:C})})[0]}(u,s,n.host,n._protocol)}}(n,t),l);return g.errorHandler=oE(e),g}(n.storage,n._location,sE());return n.storage.makeRequestWithTokens(e,Eu).then(t=>{if(null===t)throw function $2(){return new Rr(Lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function EO(n,e){const t=function hU(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Is(n._location.bucket,t);return new Ag(n.storage,r)}function IO(n,e){if(n instanceof rR){const t=n;if(null==t._bucket)throw function j2(){return new Rr(Lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KP+"' property when initializing the app?")}();const r=new Ag(t,t._bucket);return null!=e?IO(r,e):r}return void 0!==e?EO(n,e):n}function KU(n,e){if(e&&function WU(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof rR)return function ZU(n,e){return new Ag(n,e)}(n,e);throw yv("To use ref(service, url), the first argument must be a Storage instance.")}return IO(n,e)}function DO(n,e){const t=e?.[KP];return null==t?null:Is.makeFromBucketSpec(t,n)}class rR{constructor(e,t,r,s,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=ZP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?Is.makeFromBucketSpec(s,this._host):DO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Is.makeFromBucketSpec(this._url,e):DO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Kx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Kx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ee.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ee.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ag(this,e)}_makeRequest(e,t,r,s,u=!0){if(this._deleted)return new z2(XP());{const l=function nU(n,e,t,r,s,u,l=!0){const g=nO(n.urlParams),v=n.url+g,C=Object.assign({},n.headers);return function eU(n,e){e&&(n["X-Firebase-GMPID"]=e)}(C,e),function J2(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(C,t),function X2(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(C,u),function tU(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(C,r),new Q2(v,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l)}(e,this._appId,r,s,t,this._firebaseVersion,u);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,Ee.Z)(function*(){const[s,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,s,u).getPromise()})()}}const CO="@firebase/storage";function AO(n,e){return KU(n=(0,Gt.m9)(n),e)}function sV(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new rR(t,r,s,e,va.SDK_VERSION)}!function oV(){(0,va._registerComponent)(new uh.wA("storage",sV,"PUBLIC").setMultipleInstances(!0)),(0,va.registerVersion)(CO,"0.11.2",""),(0,va.registerVersion)(CO,"0.11.2","esm2017")}();class Gb{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class MO{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Gb(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Gb(r,this,this._ref))},t)}on(e,t,r,s){let u;return t&&(u="function"==typeof t?l=>t(new Gb(l,this,this._ref)):{next:t.next?l=>t.next(new Gb(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,s||void 0)}}class xO{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new fd(e,this._service))}get items(){return this._delegate.items.map(e=>new fd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class fd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function iV(n,e){return EO(n,e)}(this._delegate,e);return new fd(t,this.storage)}get root(){return new fd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new fd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new MO(function QU(n,e,t){return function BU(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new yO(n,new Ac(e),t)}(n=(0,Gt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ko.RAW,r){this._throwIfRoot("putString");const s=Qx(t,e),u=Object.assign({},r);return null==u.contentType&&null!=s.contentType&&(u.contentType=s.contentType),new MO(new yO(this._delegate,new Ac(s.data,!0),u),this)}listAll(){return function tV(n){return function HU(n){const e={prefixes:[],items:[]};return _O(n,e).then(()=>e)}(n=(0,Gt.m9)(n))}(this._delegate).then(e=>new xO(e,this.storage))}list(e){return function eV(n,e){return wO(n=(0,Gt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new xO(t,this.storage))}getMetadata(){return function JU(n){return function $U(n){n._throwIfRoot("getMetadata");const e=dO(n.storage,n._location,sE());return n.storage.makeRequestWithTokens(e,Eu)}(n=(0,Gt.m9)(n))}(this._delegate)}updateMetadata(e){return function XU(n,e){return function GU(n,e){n._throwIfRoot("updateMetadata");const t=function CU(n,e,t,r){const u=hd(e.fullServerUrl(),n.host,n._protocol),g=Xx(t,r),C=n.maxOperationRetryTime,T=new Sc(u,"PATCH",Hb(n,r),C);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=g,T.errorHandler=oE(e),T}(n.storage,n._location,e,sE());return n.storage.makeRequestWithTokens(t,Eu)}(n=(0,Gt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function nV(n){return zU(n=(0,Gt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function rV(n){return function qU(n){n._throwIfRoot("deleteObject");const e=function bU(n,e){const r=hd(e.fullServerUrl(),n.host,n._protocol),g=new Sc(r,"DELETE",function l(v,C){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=oE(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Eu)}(n=(0,Gt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw eO(e)}}class RO{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(NO(e))throw yv("ref() expected a child path but got a URL, use refFromURL instead.");return new fd(AO(this._delegate,e),this)}refFromURL(e){if(!NO(e))throw yv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Is.makeFromUrl(e,this._delegate.host)}catch{throw yv("refFromUrl() expected a valid full URL but got an invalid one.")}return new fd(AO(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function SO(n,e,t,r={}){!function YU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken="string"==typeof s?s:(0,Gt.Sg)(s,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function NO(n){return/^[A-Za-z]+:\/\//.test(n)}function lV(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new RO(t,r)}function PO(n){const e=function hV(n){return new ri.y(e=>{const t=l=>e.next(l);t(n.snapshot);const u=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){u()}}).pipe(function x2(n,e=Ho.z){return(0,vi.e)((t,r)=>{let s=null,u=null,l=null;const g=()=>{if(s){s.unsubscribe(),s=null;const C=u;u=null,r.next(C)}};function v(){const C=l+n,T=e.now();if(T<C)return s=this.schedule(void 0,C-T),void r.add(s);g()}t.subscribe((0,mi.x)(r,C=>{u=C,l=e.now(),s||(s=e.schedule(v,n),r.add(s))},()=>{g(),r.complete()},void 0,()=>{u=s=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Pt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function zb(n){return{getDownloadURL:()=>(0,pt.of)(void 0).pipe(lr.fc,(0,$n.w)(()=>n.getDownloadURL()),lr.iC),getMetadata:()=>(0,pt.of)(void 0).pipe(lr.fc,(0,$n.w)(()=>n.getMetadata()),lr.iC),delete:()=>(0,on.D)(n.delete()),child:e=>zb(n.child(e)),updateMetadata:e=>(0,on.D)(n.updateMetadata(e)),put:(e,t)=>PO(n.put(e,t)),putString:(e,t,r)=>PO(n.putString(e,t,r)),list:e=>(0,on.D)(n.list(e)),listAll:()=>(0,on.D)(n.listAll())}}!function dV(n){const e={TaskState:Hs,TaskEvent:xU,StringFormat:Ko,Storage:RO,Reference:fd};n.INTERNAL.registerComponent(new uh.wA("storage-compat",lV,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(ao.Z);const fV=new d.OlP("angularfire2.storageBucket"),pV=new d.OlP("angularfire2.storage.maxUploadRetryTime"),gV=new d.OlP("angularfire2.storage.maxOperationRetryTime"),mV=new d.OlP("angularfire2.storage.use-emulator");let yV=(()=>{class n{constructor(t,r,s,u,l,g,v,C,T,x){const H=(0,Ii.on)(t,l,r);this.storage=(0,Ii.cc)(`${H.name}.storage.${s}`,"AngularFireStorage",H.name,()=>{const K=l.runOutsideAngular(()=>H.storage(s||void 0)),ue=T;return ue&&K.useEmulator(...ue),v&&K.setMaxUploadRetryTime(v),C&&K.setMaxOperationRetryTime(C),K},[v,C])}ref(t){return zb(this.storage.ref(t))}refFromURL(t){return zb(this.storage.refFromURL(t))}upload(t,r,s){return zb(this.storage.ref(t)).put(r,s)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ii.Dh),d.LFG(Ii.xv,8),d.LFG(fV,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(lr.HU),d.LFG(pV,8),d.LFG(gV,8),d.LFG(mV,8),d.LFG(Rm,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function vV(n,e){if(1&n&&(d.TgZ(0,"div",21),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Oqu(t.successupdate)}}function _V(n,e){1&n&&(d.TgZ(0,"div",25),d._uU(1,"Upload Successfully"),d.qZA())}function wV(n,e){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,_V,2,0,"div",22),d.TgZ(2,"div",23)(3,"div",24),d._uU(4),d.qZA()()()),2&n){const t=e.ngIf;d.xp6(1),d.Q6J("ngIf",100==t),d.xp6(2),d.Udp("width",t,"%"),d.uIk("aria-valuenow",t),d.xp6(1),d.hij(" ",t,"% ")}}let EV=(()=>{class n{constructor(t,r,s,u){this.AuthService=t,this.as=r,this.route=s,this.aft=u,this.successupdate="",this.dataprofile={fname:"",uid:"",img:"",textarea:"",email:"",pass:""},this.usersubs=this.AuthService.user.subscribe(l=>{this.uid=l.uid})}ngOnDestroy(){}ngOnInit(){let t=localStorage.getItem("userconnecet");t?this.as.collection("users").ref.doc(t).get().then(r=>{this.dataprofile.fname=r.data().fname,this.dataprofile.img=r.data().img,this.dataprofile.textarea=r.data().textarea,this.dataprofile.email=r.data().email,this.dataprofile.pass=r.data().pass,this.dataprofile.uid=localStorage.getItem("userconnecet")||""}):console.log("No user connected")}update(){this.as.collection("users").doc(this.dataprofile.uid).update({fname:this.dataprofile.fname,textarea:this.dataprofile.textarea}).then(()=>{this.successupdate="Update Done",window.location.reload()})}uploadImage(t){const r=Math.random().toString(36).substring(2);this.ref=this.aft.ref(r),this.task=this.ref.put(t.target.files[0]),this.persangtask=this.task.percentageChanges(),this.task.then(s=>{s.ref.getDownloadURL().then(u=>{this.as.collection("users").doc(this.dataprofile.uid).update({img:u}).then(()=>{this.dataprofile.img=u,window.location.reload()})})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(oc),d.Y36(mv),d.Y36(xr),d.Y36(yV))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-profile"]],decls:59,vars:11,consts:[[1,"container"],[1,"media","mt-10"],[1,"media-body"],[1,"label"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-danger","m-3"],["data-bs-toggle","modal","data-bs-target","#exampleModale",1,"btn","btn-danger","m-3"],["alt","...",1,"ml-3","m-5",2,"height","auto","width","170px",3,"src"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","text","name","fname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","textarea",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-info",3,"click"],["id","exampleModale","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","file","accept",".jpg,.png,.zip","name","file",3,"change"],[4,"ngIf"],[1,"alert","alert-danger"],["class","alert alert-success",4,"ngIf"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],[1,"alert","alert-success"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5")(4,"span",3),d._uU(5,"Name :"),d.qZA(),d._uU(6),d.qZA(),d._UZ(7,"br"),d.TgZ(8,"h5")(9,"span",3),d._uU(10,"Information :"),d.qZA(),d._uU(11),d.qZA(),d._UZ(12,"br"),d.TgZ(13,"h5")(14,"span",3),d._uU(15,"Email :"),d.qZA(),d._uU(16),d.qZA(),d._UZ(17,"br"),d.TgZ(18,"h5")(19,"span",3),d._uU(20,"Password :"),d.qZA(),d._uU(21),d.qZA(),d._UZ(22,"br"),d.TgZ(23,"button",4),d._uU(24,"Update Your Information"),d.qZA(),d.TgZ(25,"button",5),d._uU(26,"Update Image"),d.qZA()(),d._UZ(27,"img",6),d.qZA()(),d.TgZ(28,"div",7)(29,"div",8)(30,"div",9)(31,"div",10)(32,"h1",11),d._uU(33,"Modal title"),d.qZA(),d._UZ(34,"button",12),d.qZA(),d.TgZ(35,"div",13)(36,"form"),d._uU(37," Name:"),d.TgZ(38,"input",14),d.NdJ("ngModelChange",function(u){return r.dataprofile.fname=u}),d.qZA(),d._UZ(39,"br"),d._uU(40," Bio:"),d.TgZ(41,"input",15),d.NdJ("ngModelChange",function(u){return r.dataprofile.textarea=u}),d.qZA(),d._UZ(42,"br"),d.YNc(43,vV,2,1,"div",16),d._UZ(44,"br"),d.TgZ(45,"button",17),d.NdJ("click",function(){return r.update()}),d._uU(46,"Update Changes"),d.qZA()()()()()(),d.TgZ(47,"div",18)(48,"div",8)(49,"div",9)(50,"div",10)(51,"h1",11),d._uU(52,"Modal title"),d.qZA(),d._UZ(53,"button",12),d.qZA(),d.TgZ(54,"div",13)(55,"form")(56,"input",19),d.NdJ("change",function(u){return r.uploadImage(u)}),d.qZA(),d.YNc(57,wV,5,5,"div",20),d.ALo(58,"async"),d.qZA()()()()()),2&t&&(d.xp6(6),d.hij(" ",r.dataprofile.fname," "),d.xp6(5),d.hij(" ",r.dataprofile.textarea," "),d.xp6(5),d.hij(" ",r.dataprofile.email," "),d.xp6(5),d.hij(" ",r.dataprofile.pass," "),d.xp6(6),d.Q6J("src",r.dataprofile.img,d.LSH),d.xp6(11),d.Q6J("ngModel",r.dataprofile.fname),d.xp6(3),d.Q6J("ngModel",r.dataprofile.textarea),d.xp6(2),d.Q6J("ngIf",r.successupdate),d.xp6(14),d.Q6J("ngIf",d.lcZ(58,9,r.persangtask)))},dependencies:[bs,lc,ac,Nl,ap,Ia,cc,Nc],styles:[".media[_ngcontent-%COMP%]{background-color:#eee;margin:15px}.media-body[_ngcontent-%COMP%]{margin:10px}.label[_ngcontent-%COMP%]{color:#118891;font-weight:700;margin-right:5px}h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#000;font-family:Arial,sans-serif}"]}),n})();function IV(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",5)(1,"div",6),d._UZ(2,"img",7),d.TgZ(3,"div",8)(4,"h5",9),d._uU(5),d.qZA(),d.TgZ(6,"p",10),d._uU(7),d.qZA(),d.TgZ(8,"a",11),d.NdJ("click",function(){const u=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.details(u.id))}),d._uU(9,"Details"),d.qZA()()()()}if(2&n){const t=e.$implicit;d.xp6(2),d.Q6J("src",t.img,d.LSH),d.xp6(3),d.Oqu(t.title),d.xp6(2),d.Oqu(t.dis)}}let DV=(()=>{class n{constructor(t,r){this.fs=t,this.router=r}ngOnInit(){this.fs.collection("producats").snapshotChanges().subscribe(t=>{this.dataArray=t.map(r=>({id:r.payload.doc.id,title:r.payload.doc.data().title,dis:r.payload.doc.data().dis,img:r.payload.doc.data().img,uid:r.payload.doc.data().uid}))})}details(t){this.router.navigate(["/product/"+t])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(mv),d.Y36(xr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-products"]],decls:7,vars:1,consts:[[1,"container"],[2,"text-align","center"],[1,"body"],[1,"row"],["class","col col-12 co-md-6 col-lg-3 mx-4",4,"ngFor","ngForOf"],[1,"col","col-12","co-md-6","col-lg-3","mx-4"],[1,"card",2,"width","18rem"],["alt","...",1,"card-img-top",2,"height","15rem",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary","w-100",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"h4",1),d._uU(2,"All Producats "),d.qZA(),d.TgZ(3,"div",2)(4,"div",3)(5,"div",3),d.YNc(6,IV,10,3,"div",4),d.qZA()()()()),2&t&&(d.xp6(6),d.Q6J("ngForOf",r.dataArray))},dependencies:[Na]}),n})();function CV(n,e){if(1&n&&(d.TgZ(0,"div",25),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Oqu(t.successMessage)}}function bV(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",26)(1,"div",27),d._UZ(2,"img",28),d.TgZ(3,"div",29)(4,"h5",30),d._uU(5),d.qZA(),d.TgZ(6,"p",31),d._uU(7),d.qZA()(),d.TgZ(8,"div",32)(9,"button",33),d.NdJ("click",function(){const u=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.deleteitem(u.id))}),d._uU(10,"Delete"),d.qZA()()()()}if(2&n){const t=e.$implicit;d.xp6(2),d.s9C("src",t.img,d.LSH),d.s9C("alt",t.title),d.xp6(3),d.Oqu(t.title),d.xp6(2),d.Oqu(t.dis)}}function TV(n,e){if(1&n&&(d.TgZ(0,"div",25),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Oqu(t.successMessage)}}let AV=(()=>{class n{constructor(t,r){this.fs=t,this.AuthService=r,this.usersubs=this.AuthService.user.subscribe(s=>{this.uid=s.uid})}ngOnInit(){this.getproducats=this.fs.collection("producats").snapshotChanges().subscribe(t=>{this.dataArray=t.map(r=>({id:r.payload.doc.id,title:r.payload.doc.data().title,dis:r.payload.doc.data().dis,img:r.payload.doc.data().img,uid:r.payload.doc.data().uid}))})}addproducat(t){let r=t.value;this.fs.collection("producats").add({title:r.title,dis:r.dis,img:r.img,uid:this.uid}).then(()=>{this.successMessage="Added Done ",window.location.reload()})}deleteitem(t){this.fs.collection("producats").doc(t).delete().then(()=>{this.successMessage="Deleted successfully"}).catch(r=>{alert(r)})}ngOnDestroy(){this.getproducats.unsubscribe(),this.usersubs.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(mv),d.Y36(oc))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-myproducts"]],decls:41,vars:3,consts:[[1,"container"],[2,"text-align","center"],[1,"body"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary",2,"float","right"],[1,"row"],[1,"col-md-12"],["class","alert alert-success",4,"ngIf"],[1,"card-deck"],["class","col col-12 col-md-6 col-lg-3 mb-4",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"ngSubmit"],["fo","ngForm"],["type","text","placeholder","Title:","name","title","ngModel","",1,"form-control"],["title","ngModel"],["col","30","rows","10","placeholder","Description:","name","dis","ngModel","",1,"form-control"],["dis","ngModel"],["type","text","placeholder","Image:","name","img","ngModel","",1,"form-control"],["img","ngModel"],[1,"btn","btn-success"],[1,"alert","alert-success"],[1,"col","col-12","col-md-6","col-lg-3","mb-4"],[1,"card","h-100"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer"],["type","submit",1,"btn","btn-danger","w-100",3,"click"]],template:function(t,r){if(1&t){const s=d.EpF();d.TgZ(0,"div",0)(1,"h4",1),d._uU(2,"My Producats "),d.qZA(),d.TgZ(3,"div",2)(4,"button",3),d._uU(5,"Add Producats"),d.qZA(),d._UZ(6,"br")(7,"br"),d.TgZ(8,"div",4)(9,"div",5),d.YNc(10,CV,2,1,"div",6),d.TgZ(11,"div",7),d.YNc(12,bV,11,4,"div",8),d.qZA()()()()(),d.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"h1",13),d._uU(18,"Modal title"),d.qZA(),d._UZ(19,"button",14),d.qZA(),d.TgZ(20,"div",15)(21,"form",16,17),d.NdJ("ngSubmit",function(){d.CHM(s);const l=d.MAs(22);return d.KtG(r.addproducat(l))}),d.TgZ(23,"div",4)(24,"div"),d._UZ(25,"input",18,19),d.qZA(),d._UZ(27,"br")(28,"br"),d.TgZ(29,"div"),d._UZ(30,"textarea",20,21),d.qZA(),d._UZ(32,"br")(33,"br"),d.TgZ(34,"div"),d._UZ(35,"input",22,23),d.qZA()(),d.YNc(37,TV,2,1,"div",6),d._UZ(38,"br"),d.TgZ(39,"button",24),d._uU(40,"Add Product"),d.qZA()()()()()()}2&t&&(d.xp6(10),d.Q6J("ngIf",r.successMessage),d.xp6(2),d.Q6J("ngForOf",r.dataArray),d.xp6(25),d.Q6J("ngIf",r.successMessage))},dependencies:[Na,bs,lc,ac,Nl,ap,Ia,cc]}),n})(),qb=(()=>{class n{constructor(t,r){this.AuthService=t,this.route=r}canActivate(t,r){return new Promise(s=>{this.AuthService.user.subscribe(u=>{u?s(!0):(this.route.navigate(["/"]),s(!1))})})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oc),d.LFG(xr))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SV=(()=>{class n{constructor(t,r,s){this.parms=t,this.fs=r,this.as=s,this.dataProduct={title:"",img:"",dis:""},this.parms.params.subscribe(u=>this.keyparams=u.key)}ngOnInit(){this.fs.collection("producats").ref.doc(this.keyparams).get().then(t=>{this.dataProduct.title=t.data().title,this.dataProduct.img=t.data().img,this.dataProduct.dis=t.data().dis}).catch(t=>{alert(t)})}update(){this.as.collection("producats").doc(this.keyparams).update({title:this.dataProduct.title,dis:this.dataProduct.dis,img:this.dataProduct.img}).then(()=>{this.successupdate="Update Done"}).catch(t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rc),d.Y36(mv),d.Y36(mv))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-producatdetails"]],decls:31,vars:6,consts:[[1,"container"],[1,"card"],[1,"card-body"],["alt","","srcset","",2,"width","18rem","height","20rem",3,"src"],[1,"card-title"],[1,"card-text"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-danger","m-3"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","text","name","title",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","discr",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","img",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-info",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2),d._UZ(3,"img",3),d.TgZ(4,"div")(5,"h1",4),d._uU(6),d.qZA(),d.TgZ(7,"p",5),d._uU(8),d.qZA(),d.TgZ(9,"button",6),d._uU(10,"Update Information"),d.qZA()()()()(),d.TgZ(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"h1",11),d._uU(16,"Modal title"),d.qZA(),d._UZ(17,"button",12),d.qZA(),d.TgZ(18,"div",13)(19,"form"),d._uU(20," Tilte:"),d.TgZ(21,"input",14),d.NdJ("ngModelChange",function(u){return r.dataProduct.title=u}),d.qZA(),d._UZ(22,"br"),d._uU(23," Discription:"),d.TgZ(24,"input",15),d.NdJ("ngModelChange",function(u){return r.dataProduct.dis=u}),d.qZA(),d._UZ(25,"br"),d._uU(26," Image:"),d.TgZ(27,"input",16),d.NdJ("ngModelChange",function(u){return r.dataProduct.img=u}),d.qZA(),d._UZ(28,"br"),d.TgZ(29,"button",17),d.NdJ("click",function(){return r.update()}),d._uU(30,"Update Changes"),d.qZA()()()()()()),2&t&&(d.xp6(3),d.Q6J("src",r.dataProduct.img,d.LSH),d.xp6(3),d.Oqu(r.dataProduct.title),d.xp6(2),d.Oqu(r.dataProduct.dis),d.xp6(13),d.Q6J("ngModel",r.dataProduct.title),d.xp6(3),d.Q6J("ngModel",r.dataProduct.dis),d.xp6(3),d.Q6J("ngModel",r.dataProduct.img))},dependencies:[lc,ac,Nl,ap,Ia,cc],styles:[".card-body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:1rem}"]}),n})(),OO=(()=>{class n{constructor(t,r){this.AuthService=t,this.route=r}canActivate(t,r){return new Promise(s=>{this.AuthService.user.subscribe(u=>{u?(this.route.navigate(["/"]),s(!1)):s(!0)})})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oc),d.LFG(xr))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MV=[{path:"",component:M2},{path:"login",component:S2,canActivate:[OO]},{path:"register",component:D2,canActivate:[OO]},{path:"profile",component:EV,canActivate:[qb]},{path:"products",component:DV,canActivate:[qb]},{path:"myproducts",component:AV,canActivate:[qb]},{path:"product/:key",component:SV,canActivate:[qb]}];let xV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[qf.forRoot(MV),qf]}),n})();const RV_firebase={apiKey:"AIzaSyD7KlUTsfzV578_rUj9983531qEUVK_39A",authDomain:"mystore-a1e0b.firebaseapp.com",databaseURL:"https://mystore-a1e0b-default-rtdb.firebaseio.com",projectId:"mystore-a1e0b",storageBucket:"mystore-a1e0b.appspot.com",messagingSenderId:"496603815125",appId:"1:496603815125:web:639ce155fb49bea9e1965c",measurementId:"G-DJLRJEQ670"};class Wb{}class Zb{}class xc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),u=s.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof xc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new xc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof xc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(g=>-1===u.indexOf(g)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),s=e.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class NV{encodeKey(e){return kO(e)}encodeValue(e){return kO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const OV=/%(\d[a-f0-9])/gi,kV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kO(n){return encodeURIComponent(n).replace(OV,(e,t)=>kV[t]??e)}function Kb(n){return`${n}`}class rf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new NV,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function PV(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[l,g]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],v=t.get(l)||[];v.push(g),t.set(l,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(Kb):[Kb(r)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new rf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Kb(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(Kb(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class FV{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function FO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function LO(n){return typeof Blob<"u"&&n instanceof Blob}function UO(n){return typeof FormData<"u"&&n instanceof FormData}class aE{constructor(e,t,r,s){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function LV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,u=s):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new xc),this.context||(this.context=new FV),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+l}}else this.params=new rf,this.urlWithParams=t}serializeBody(){return null===this.body?null:FO(this.body)||LO(this.body)||UO(this.body)||function UV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||UO(this.body)?null:LO(this.body)?this.body.type||null:FO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,C=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((x,H)=>x.set(H,e.setHeaders[H]),v)),e.setParams&&(C=Object.keys(e.setParams).reduce((x,H)=>x.set(H,e.setParams[H]),C)),new aE(t,r,u,{params:C,headers:v,context:T,reportProgress:g,responseType:s,withCredentials:l})}}var li=(()=>((li=li||{})[li.Sent=0]="Sent",li[li.UploadProgress=1]="UploadProgress",li[li.ResponseHeader=2]="ResponseHeader",li[li.DownloadProgress=3]="DownloadProgress",li[li.Response=4]="Response",li[li.User=5]="User",li))();class iR{constructor(e,t=200,r="OK"){this.headers=e.headers||new xc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class sR extends iR{constructor(e={}){super(e),this.type=li.ResponseHeader}clone(e={}){return new sR({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wv extends iR{constructor(e={}){super(e),this.type=li.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new wv({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class VO extends iR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function oR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let VV=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let u;if(t instanceof aE)u=t;else{let v,C;v=s.headers instanceof xc?s.headers:new xc(s.headers),s.params&&(C=s.params instanceof rf?s.params:new rf({fromObject:s.params})),u=new aE(t,r,void 0!==s.body?s.body:null,{headers:v,context:s.context,params:C,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const l=(0,pt.of)(u).pipe(_i(v=>this.handler.handle(v)));if(t instanceof aE||"events"===s.observe)return l;const g=l.pipe(Ri(v=>v instanceof wv));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,Pt.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return g.pipe((0,Pt.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return g.pipe((0,Pt.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return g.pipe((0,Pt.U)(v=>v.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new rf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,oR(s,r))}post(t,r,s={}){return this.request("POST",t,oR(s,r))}put(t,r,s={}){return this.request("PUT",t,oR(s,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Wb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function HO(n,e){return e(n)}function jV(n,e){return(t,r)=>e.intercept(t,{handle:s=>n(s,r)})}const $V=new d.OlP(""),uE=new d.OlP(""),$O=new d.OlP("");function GV(){let n=null;return(e,t)=>{null===n&&(n=((0,d.f3M)($V,{optional:!0})??[]).reduceRight(jV,HO));const r=(0,d.f3M)(d.HDt),s=r.add();return n(e,t).pipe(Ro(()=>r.remove(s)))}}let GO=(()=>{class n extends Wb{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(t){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(uE),...this.injector.get($O,[])]));this.chain=s.reduceRight((u,l)=>function HV(n,e,t){return(r,s)=>t.runInContext(()=>e(r,u=>n(u,s)))}(u,l,this.injector),HO)}const r=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(Ro(()=>this.pendingTasks.remove(r)))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Zb),d.LFG(d.lqb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ZV=/^\)\]\}',?\n/;let qO=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new d.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,on.D)(r.\u0275loadImpl()):(0,pt.of)(null)).pipe((0,$n.w)(()=>new ri.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((ye,me)=>l.setRequestHeader(ye,me.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ye=t.detectContentTypeHeader();null!==ye&&l.setRequestHeader("Content-Type",ye)}if(t.responseType){const ye=t.responseType.toLowerCase();l.responseType="json"!==ye?ye:"text"}const g=t.serializeBody();let v=null;const C=()=>{if(null!==v)return v;const ye=l.statusText||"OK",me=new xc(l.getAllResponseHeaders()),rt=function KV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return v=new sR({headers:me,status:l.status,statusText:ye,url:rt}),v},T=()=>{let{headers:ye,status:me,statusText:rt,url:_t}=C(),Ge=null;204!==me&&(Ge=typeof l.response>"u"?l.responseText:l.response),0===me&&(me=Ge?200:0);let at=me>=200&&me<300;if("json"===t.responseType&&"string"==typeof Ge){const Nt=Ge;Ge=Ge.replace(ZV,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(Zt){Ge=Nt,at&&(at=!1,Ge={error:Zt,text:Ge})}}at?(u.next(new wv({body:Ge,headers:ye,status:me,statusText:rt,url:_t||void 0})),u.complete()):u.error(new VO({error:Ge,headers:ye,status:me,statusText:rt,url:_t||void 0}))},x=ye=>{const{url:me}=C(),rt=new VO({error:ye,status:l.status||0,statusText:l.statusText||"Unknown Error",url:me||void 0});u.error(rt)};let H=!1;const K=ye=>{H||(u.next(C()),H=!0);let me={type:li.DownloadProgress,loaded:ye.loaded};ye.lengthComputable&&(me.total=ye.total),"text"===t.responseType&&l.responseText&&(me.partialText=l.responseText),u.next(me)},ue=ye=>{let me={type:li.UploadProgress,loaded:ye.loaded};ye.lengthComputable&&(me.total=ye.total),u.next(me)};return l.addEventListener("load",T),l.addEventListener("error",x),l.addEventListener("timeout",x),l.addEventListener("abort",x),t.reportProgress&&(l.addEventListener("progress",K),null!==g&&l.upload&&l.upload.addEventListener("progress",ue)),l.send(g),u.next({type:li.Sent}),()=>{l.removeEventListener("error",x),l.removeEventListener("abort",x),l.removeEventListener("load",T),l.removeEventListener("timeout",x),t.reportProgress&&(l.removeEventListener("progress",K),null!==g&&l.upload&&l.upload.removeEventListener("progress",ue)),l.readyState!==l.DONE&&l.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Sr))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const aR=new d.OlP("XSRF_ENABLED"),WO=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ZO=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class KO{}let JV=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pe),d.LFG(d.Lbi),d.LFG(WO))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function XV(n,e){const t=n.url.toLowerCase();if(!(0,d.f3M)(aR)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,d.f3M)(KO).getToken(),s=(0,d.f3M)(ZO);return null!=r&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,r)})),e(n)}var Ir=(()=>((Ir=Ir||{})[Ir.Interceptors=0]="Interceptors",Ir[Ir.LegacyInterceptors=1]="LegacyInterceptors",Ir[Ir.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ir[Ir.NoXsrfProtection=3]="NoXsrfProtection",Ir[Ir.JsonpSupport=4]="JsonpSupport",Ir[Ir.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ir[Ir.Fetch=6]="Fetch",Ir))();function Sg(n,e){return{\u0275kind:n,\u0275providers:e}}function eB(...n){const e=[VV,qO,GO,{provide:Wb,useExisting:GO},{provide:Zb,useExisting:qO},{provide:uE,useValue:XV,multi:!0},{provide:aR,useValue:!0},{provide:KO,useClass:JV}];for(const t of n)e.push(...t.\u0275providers);return(0,d.MR2)(e)}const YO=new d.OlP("LEGACY_INTERCEPTOR_FN");let nB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[eB(Sg(Ir.LegacyInterceptors,[{provide:YO,useFactory:GV},{provide:uE,useExisting:YO,multi:!0}]))]}),n})(),uB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[fA]}),n.\u0275inj=d.cJS({imports:[rl,xV,qf,e0,nB,Ii.hO.initializeApp(RV_firebase)]}),n})();Hu().bootstrapModule(uB).catch(n=>console.error(n))},5619:(gt,Ce,L)=>{L.d(Ce,{X:()=>B});var d=L(8645);class B extends d.x{constructor(Q){super(),this._value=Q}get value(){return this.getValue()}_subscribe(Q){const ie=super._subscribe(Q);return!ie.closed&&Q.next(this._value),ie}getValue(){const{hasError:Q,thrownError:ie,_value:pe}=this;if(Q)throw ie;return this._throwIfClosed(),pe}next(Q){super.next(this._value=Q)}}},5592:(gt,Ce,L)=>{L.d(Ce,{y:()=>Se});var d=L(1887),B=L(7394),P=L(4850),Q=L(8407),ie=L(2653),pe=L(4674),ve=L(1441);let Se=(()=>{class ne{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const qe=new ne;return qe.source=this,qe.operator=Me,qe}subscribe(Me,qe,xe){const We=function z(ne){return ne&&ne instanceof d.Lv||function $(ne){return ne&&(0,pe.m)(ne.next)&&(0,pe.m)(ne.error)&&(0,pe.m)(ne.complete)}(ne)&&(0,B.Nn)(ne)}(Me)?Me:new d.Hp(Me,qe,xe);return(0,ve.x)(()=>{const{operator:Pe,source:Dt}=this;We.add(Pe?Pe.call(We,Dt):Dt?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Me){try{return this._subscribe(Me)}catch(qe){Me.error(qe)}}forEach(Me,qe){return new(qe=ge(qe))((xe,We)=>{const Pe=new d.Hp({next:Dt=>{try{Me(Dt)}catch(lt){We(lt),Pe.unsubscribe()}},error:We,complete:xe});this.subscribe(Pe)})}_subscribe(Me){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Me)}[P.L](){return this}pipe(...Me){return(0,Q.U)(Me)(this)}toPromise(Me){return new(Me=ge(Me))((qe,xe)=>{let We;this.subscribe(Pe=>We=Pe,Pe=>xe(Pe),()=>qe(We))})}}return ne.create=ke=>new ne(ke),ne})();function ge(ne){var ke;return null!==(ke=ne??ie.config.Promise)&&void 0!==ke?ke:Promise}},8645:(gt,Ce,L)=>{L.d(Ce,{x:()=>ve});var d=L(5592),B=L(7394);const Q=(0,L(2306).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=L(9039),pe=L(1441);let ve=(()=>{class ge extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ne=new Se(this,this);return ne.operator=z,ne}_throwIfClosed(){if(this.closed)throw new Q}next(z){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(z)}})}error(z){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ne}=this;for(;ne.length;)ne.shift().error(z)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ne,isStopped:ke,observers:Me}=this;return ne||ke?B.Lc:(this.currentObservers=null,Me.push(z),new B.w0(()=>{this.currentObservers=null,(0,ie.P)(Me,z)}))}_checkFinalizedStatuses(z){const{hasError:ne,thrownError:ke,isStopped:Me}=this;ne?z.error(ke):Me&&z.complete()}asObservable(){const z=new d.y;return z.source=this,z}}return ge.create=($,z)=>new Se($,z),ge})();class Se extends ve{constructor($,z){super(),this.destination=$,this.source=z}next($){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ne||ne.call(z,$)}error($){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ne||ne.call(z,$)}complete(){var $,z;null===(z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===z||z.call($)}_subscribe($){var z,ne;return null!==(ne=null===(z=this.source)||void 0===z?void 0:z.subscribe($))&&void 0!==ne?ne:B.Lc}}},1887:(gt,Ce,L)=>{L.d(Ce,{Hp:()=>xe,Lv:()=>ne});var d=L(4674),B=L(7394),P=L(2653),Q=L(3894);function ie(){}const pe=ge("C",void 0,void 0);function ge(te,De,se){return{kind:te,value:De,error:se}}var $=L(7599),z=L(1441);class ne extends B.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,B.Nn)(De)&&De.add(this)):this.destination=lt}static create(De,se,fe){return new xe(De,se,fe)}next(De){this.isStopped?Dt(function Se(te){return ge("N",te,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Dt(function ve(te){return ge("E",void 0,te)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Dt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Me(te,De){return ke.call(te,De)}class qe{constructor(De){this.partialObserver=De}next(De){const{partialObserver:se}=this;if(se.next)try{se.next(De)}catch(fe){We(fe)}}error(De){const{partialObserver:se}=this;if(se.error)try{se.error(De)}catch(fe){We(fe)}else We(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(se){We(se)}}}class xe extends ne{constructor(De,se,fe){let Ne;if(super(),(0,d.m)(De)||!De)Ne={next:De??void 0,error:se??void 0,complete:fe??void 0};else{let ee;this&&P.config.useDeprecatedNextContext?(ee=Object.create(De),ee.unsubscribe=()=>this.unsubscribe(),Ne={next:De.next&&Me(De.next,ee),error:De.error&&Me(De.error,ee),complete:De.complete&&Me(De.complete,ee)}):Ne=De}this.destination=new qe(Ne)}}function We(te){P.config.useDeprecatedSynchronousErrorHandling?(0,z.O)(te):(0,Q.h)(te)}function Dt(te,De){const{onStoppedNotification:se}=P.config;se&&$.z.setTimeout(()=>se(te,De))}const lt={closed:!0,next:ie,error:function Pe(te){throw te},complete:ie}},7394:(gt,Ce,L)=>{L.d(Ce,{Lc:()=>pe,w0:()=>ie,Nn:()=>ve});var d=L(4674);const P=(0,L(2306).d)(ge=>function(z){ge(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ne,ke)=>`${ke+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var Q=L(9039);class ie{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Me of z)Me.remove(this);else z.remove(this);const{initialTeardown:ne}=this;if((0,d.m)(ne))try{ne()}catch(Me){$=Me instanceof P?Me.errors:[Me]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Me of ke)try{Se(Me)}catch(qe){$=$??[],qe instanceof P?$=[...$,...qe.errors]:$.push(qe)}}if($)throw new P($)}}add($){var z;if($&&$!==this)if(this.closed)Se($);else{if($ instanceof ie){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push($)}}_hasParent($){const{_parentage:z}=this;return z===$||Array.isArray(z)&&z.includes($)}_addParent($){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push($),z):z?[z,$]:$}_removeParent($){const{_parentage:z}=this;z===$?this._parentage=null:Array.isArray(z)&&(0,Q.P)(z,$)}remove($){const{_finalizers:z}=this;z&&(0,Q.P)(z,$),$ instanceof ie&&$._removeParent(this)}}ie.EMPTY=(()=>{const ge=new ie;return ge.closed=!0,ge})();const pe=ie.EMPTY;function ve(ge){return ge instanceof ie||ge&&"closed"in ge&&(0,d.m)(ge.remove)&&(0,d.m)(ge.add)&&(0,d.m)(ge.unsubscribe)}function Se(ge){(0,d.m)(ge)?ge():ge.unsubscribe()}},2653:(gt,Ce,L)=>{L.d(Ce,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(gt,Ce,L)=>{L.d(Ce,{E:()=>B});const B=new(L(5592).y)(ie=>ie.complete())},2459:(gt,Ce,L)=>{L.d(Ce,{D:()=>De});var d=L(4829),B=L(3093),P=L(5137),pe=L(5592),Se=L(4971),ge=L(4674),$=L(7103);function ne(se,fe){if(!se)throw new Error("Iterable cannot be null");return new pe.y(Ne=>{(0,$.f)(Ne,fe,()=>{const ee=se[Symbol.asyncIterator]();(0,$.f)(Ne,fe,()=>{ee.next().then(tt=>{tt.done?Ne.complete():Ne.next(tt.value)})},0,!0)})})}var ke=L(8382),Me=L(4026),qe=L(4266),xe=L(3664),We=L(5726),Pe=L(9853),Dt=L(541);function De(se,fe){return fe?function te(se,fe){if(null!=se){if((0,ke.c)(se))return function Q(se,fe){return(0,d.Xf)(se).pipe((0,P.R)(fe),(0,B.Q)(fe))}(se,fe);if((0,qe.z)(se))return function ve(se,fe){return new pe.y(Ne=>{let ee=0;return fe.schedule(function(){ee===se.length?Ne.complete():(Ne.next(se[ee++]),Ne.closed||this.schedule())})})}(se,fe);if((0,Me.t)(se))return function ie(se,fe){return(0,d.Xf)(se).pipe((0,P.R)(fe),(0,B.Q)(fe))}(se,fe);if((0,We.D)(se))return ne(se,fe);if((0,xe.T)(se))return function z(se,fe){return new pe.y(Ne=>{let ee;return(0,$.f)(Ne,fe,()=>{ee=se[Se.h](),(0,$.f)(Ne,fe,()=>{let tt,je;try{({value:tt,done:je}=ee.next())}catch(Xt){return void Ne.error(Xt)}je?Ne.complete():Ne.next(tt)},0,!0)}),()=>(0,ge.m)(ee?.return)&&ee.return()})}(se,fe);if((0,Dt.L)(se))return function lt(se,fe){return ne((0,Dt.Q)(se),fe)}(se,fe)}throw(0,Pe.z)(se)}(se,fe):(0,d.Xf)(se)}},4829:(gt,Ce,L)=>{L.d(Ce,{Xf:()=>ke});var d=L(7582),B=L(4266),P=L(4026),Q=L(5592),ie=L(8382),pe=L(5726),ve=L(9853),Se=L(3664),ge=L(541),$=L(4674),z=L(3894),ne=L(4850);function ke(te){if(te instanceof Q.y)return te;if(null!=te){if((0,ie.c)(te))return function Me(te){return new Q.y(De=>{const se=te[ne.L]();if((0,$.m)(se.subscribe))return se.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,B.z)(te))return function qe(te){return new Q.y(De=>{for(let se=0;se<te.length&&!De.closed;se++)De.next(te[se]);De.complete()})}(te);if((0,P.t)(te))return function xe(te){return new Q.y(De=>{te.then(se=>{De.closed||(De.next(se),De.complete())},se=>De.error(se)).then(null,z.h)})}(te);if((0,pe.D)(te))return Pe(te);if((0,Se.T)(te))return function We(te){return new Q.y(De=>{for(const se of te)if(De.next(se),De.closed)return;De.complete()})}(te);if((0,ge.L)(te))return function Dt(te){return Pe((0,ge.Q)(te))}(te)}throw(0,ve.z)(te)}function Pe(te){return new Q.y(De=>{(function lt(te,De){var se,fe,Ne,ee;return(0,d.mG)(this,void 0,void 0,function*(){try{for(se=(0,d.KL)(te);!(fe=yield se.next()).done;)if(De.next(fe.value),De.closed)return}catch(tt){Ne={error:tt}}finally{try{fe&&!fe.done&&(ee=se.return)&&(yield ee.call(se))}finally{if(Ne)throw Ne.error}}De.complete()})})(te,De).catch(se=>De.error(se))})}},3019:(gt,Ce,L)=>{L.d(Ce,{T:()=>pe});var d=L(7537),B=L(4829),P=L(6232),Q=L(4564),ie=L(2459);function pe(...ve){const Se=(0,Q.yG)(ve),ge=(0,Q._6)(ve,1/0),$=ve;return $.length?1===$.length?(0,B.Xf)($[0]):(0,d.J)(ge)((0,ie.D)($,Se)):P.E}},2096:(gt,Ce,L)=>{L.d(Ce,{of:()=>P});var d=L(4564),B=L(2459);function P(...Q){const ie=(0,d.yG)(Q);return(0,B.D)(Q,ie)}},8251:(gt,Ce,L)=>{L.d(Ce,{x:()=>B});var d=L(1887);function B(Q,ie,pe,ve,Se){return new P(Q,ie,pe,ve,Se)}class P extends d.Lv{constructor(ie,pe,ve,Se,ge,$){super(ie),this.onFinalize=ge,this.shouldUnsubscribe=$,this._next=pe?function(z){try{pe(z)}catch(ne){ie.error(ne)}}:super._next,this._error=Se?function(z){try{Se(z)}catch(ne){ie.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(z){ie.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},3997:(gt,Ce,L)=>{L.d(Ce,{x:()=>Q});var d=L(2737),B=L(9360),P=L(8251);function Q(pe,ve=d.y){return pe=pe??ie,(0,B.e)((Se,ge)=>{let $,z=!0;Se.subscribe((0,P.x)(ge,ne=>{const ke=ve(ne);(z||!pe($,ke))&&(z=!1,$=ke,ge.next(ne))}))})}function ie(pe,ve){return pe===ve}},7398:(gt,Ce,L)=>{L.d(Ce,{U:()=>P});var d=L(9360),B=L(8251);function P(Q,ie){return(0,d.e)((pe,ve)=>{let Se=0;pe.subscribe((0,B.x)(ve,ge=>{ve.next(Q.call(ie,ge,Se++))}))})}},7537:(gt,Ce,L)=>{L.d(Ce,{J:()=>P});var d=L(1631),B=L(2737);function P(Q=1/0){return(0,d.z)(B.y,Q)}},1631:(gt,Ce,L)=>{L.d(Ce,{z:()=>Se});var d=L(7398),B=L(4829),P=L(9360),Q=L(7103),ie=L(8251),ve=L(4674);function Se(ge,$,z=1/0){return(0,ve.m)($)?Se((ne,ke)=>(0,d.U)((Me,qe)=>$(ne,Me,ke,qe))((0,B.Xf)(ge(ne,ke))),z):("number"==typeof $&&(z=$),(0,P.e)((ne,ke)=>function pe(ge,$,z,ne,ke,Me,qe,xe){const We=[];let Pe=0,Dt=0,lt=!1;const te=()=>{lt&&!We.length&&!Pe&&$.complete()},De=fe=>Pe<ne?se(fe):We.push(fe),se=fe=>{Me&&$.next(fe),Pe++;let Ne=!1;(0,B.Xf)(z(fe,Dt++)).subscribe((0,ie.x)($,ee=>{ke?.(ee),Me?De(ee):$.next(ee)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Pe--;We.length&&Pe<ne;){const ee=We.shift();qe?(0,Q.f)($,qe,()=>se(ee)):se(ee)}te()}catch(ee){$.error(ee)}}))};return ge.subscribe((0,ie.x)($,De,()=>{lt=!0,te()})),()=>{xe?.()}}(ne,ke,ge,z)))}},3093:(gt,Ce,L)=>{L.d(Ce,{Q:()=>Q});var d=L(7103),B=L(9360),P=L(8251);function Q(ie,pe=0){return(0,B.e)((ve,Se)=>{ve.subscribe((0,P.x)(Se,ge=>(0,d.f)(Se,ie,()=>Se.next(ge),pe),()=>(0,d.f)(Se,ie,()=>Se.complete(),pe),ge=>(0,d.f)(Se,ie,()=>Se.error(ge),pe)))})}},3020:(gt,Ce,L)=>{L.d(Ce,{B:()=>ie});var d=L(4829),B=L(8645),P=L(1887),Q=L(9360);function ie(ve={}){const{connector:Se=(()=>new B.x),resetOnError:ge=!0,resetOnComplete:$=!0,resetOnRefCountZero:z=!0}=ve;return ne=>{let ke,Me,qe,xe=0,We=!1,Pe=!1;const Dt=()=>{Me?.unsubscribe(),Me=void 0},lt=()=>{Dt(),ke=qe=void 0,We=Pe=!1},te=()=>{const De=ke;lt(),De?.unsubscribe()};return(0,Q.e)((De,se)=>{xe++,!Pe&&!We&&Dt();const fe=qe=qe??Se();se.add(()=>{xe--,0===xe&&!Pe&&!We&&(Me=pe(te,z))}),fe.subscribe(se),!ke&&xe>0&&(ke=new P.Hp({next:Ne=>fe.next(Ne),error:Ne=>{Pe=!0,Dt(),Me=pe(lt,ge,Ne),fe.error(Ne)},complete:()=>{We=!0,Dt(),Me=pe(lt,$),fe.complete()}}),(0,d.Xf)(De).subscribe(ke))})(ne)}}function pe(ve,Se,...ge){if(!0===Se)return void ve();if(!1===Se)return;const $=new P.Hp({next:()=>{$.unsubscribe(),ve()}});return(0,d.Xf)(Se(...ge)).subscribe($)}},5137:(gt,Ce,L)=>{L.d(Ce,{R:()=>B});var d=L(9360);function B(P,Q=0){return(0,d.e)((ie,pe)=>{pe.add(P.schedule(()=>ie.subscribe(pe),Q))})}},4664:(gt,Ce,L)=>{L.d(Ce,{w:()=>Q});var d=L(4829),B=L(9360),P=L(8251);function Q(ie,pe){return(0,B.e)((ve,Se)=>{let ge=null,$=0,z=!1;const ne=()=>z&&!ge&&Se.complete();ve.subscribe((0,P.x)(Se,ke=>{ge?.unsubscribe();let Me=0;const qe=$++;(0,d.Xf)(ie(ke,qe)).subscribe(ge=(0,P.x)(Se,xe=>Se.next(pe?pe(ke,xe,qe,Me++):xe),()=>{ge=null,ne()}))},()=>{z=!0,ne()}))})}},9397:(gt,Ce,L)=>{L.d(Ce,{b:()=>ie});var d=L(4674),B=L(9360),P=L(8251),Q=L(2737);function ie(pe,ve,Se){const ge=(0,d.m)(pe)||ve||Se?{next:pe,error:ve,complete:Se}:pe;return ge?(0,B.e)(($,z)=>{var ne;null===(ne=ge.subscribe)||void 0===ne||ne.call(ge);let ke=!0;$.subscribe((0,P.x)(z,Me=>{var qe;null===(qe=ge.next)||void 0===qe||qe.call(ge,Me),z.next(Me)},()=>{var Me;ke=!1,null===(Me=ge.complete)||void 0===Me||Me.call(ge),z.complete()},Me=>{var qe;ke=!1,null===(qe=ge.error)||void 0===qe||qe.call(ge,Me),z.error(Me)},()=>{var Me,qe;ke&&(null===(Me=ge.unsubscribe)||void 0===Me||Me.call(ge)),null===(qe=ge.finalize)||void 0===qe||qe.call(ge)}))}):Q.y}},1954:(gt,Ce,L)=>{L.d(Ce,{o:()=>ie});var d=L(7394);class B extends d.w0{constructor(ve,Se){super()}schedule(ve,Se=0){return this}}const P={setInterval(pe,ve,...Se){const{delegate:ge}=P;return ge?.setInterval?ge.setInterval(pe,ve,...Se):setInterval(pe,ve,...Se)},clearInterval(pe){const{delegate:ve}=P;return(ve?.clearInterval||clearInterval)(pe)},delegate:void 0};var Q=L(9039);class ie extends B{constructor(ve,Se){super(ve,Se),this.scheduler=ve,this.work=Se,this.pending=!1}schedule(ve,Se=0){var ge;if(this.closed)return this;this.state=ve;const $=this.id,z=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(z,$,Se)),this.pending=!0,this.delay=Se,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(z,this.id,Se),this}requestAsyncId(ve,Se,ge=0){return P.setInterval(ve.flush.bind(ve,this),ge)}recycleAsyncId(ve,Se,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return Se;null!=Se&&P.clearInterval(Se)}execute(ve,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ve,Se);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Se){let $,ge=!1;try{this.work(ve)}catch(z){ge=!0,$=z||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Se}=this,{actions:ge}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.P)(ge,this),null!=ve&&(this.id=this.recycleAsyncId(Se,ve,null)),this.delay=null,super.unsubscribe()}}}},2631:(gt,Ce,L)=>{L.d(Ce,{v:()=>P});var d=L(4552);class B{constructor(ie,pe=B.now){this.schedulerActionCtor=ie,this.now=pe}schedule(ie,pe=0,ve){return new this.schedulerActionCtor(this,ie).schedule(ve,pe)}}B.now=d.l.now;class P extends B{constructor(ie,pe=B.now){super(ie,pe),this.actions=[],this._active=!1}flush(ie){const{actions:pe}=this;if(this._active)return void pe.push(ie);let ve;this._active=!0;do{if(ve=ie.execute(ie.state,ie.delay))break}while(ie=pe.shift());if(this._active=!1,ve){for(;ie=pe.shift();)ie.unsubscribe();throw ve}}}},6321:(gt,Ce,L)=>{L.d(Ce,{z:()=>P});var d=L(1954);const P=new(L(2631).v)(d.o)},4552:(gt,Ce,L)=>{L.d(Ce,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(gt,Ce,L)=>{L.d(Ce,{z:()=>d});const d={setTimeout(B,P,...Q){const{delegate:ie}=d;return ie?.setTimeout?ie.setTimeout(B,P,...Q):setTimeout(B,P,...Q)},clearTimeout(B){const{delegate:P}=d;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},4971:(gt,Ce,L)=>{L.d(Ce,{h:()=>B});const B=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(gt,Ce,L)=>{L.d(Ce,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(gt,Ce,L)=>{L.d(Ce,{_6:()=>pe,jO:()=>Q,yG:()=>ie});var d=L(4674);function P(ve){return ve[ve.length-1]}function Q(ve){return(0,d.m)(P(ve))?ve.pop():void 0}function ie(ve){return function B(ve){return ve&&(0,d.m)(ve.schedule)}(P(ve))?ve.pop():void 0}function pe(ve,Se){return"number"==typeof P(ve)?ve.pop():Se}},9039:(gt,Ce,L)=>{function d(B,P){if(B){const Q=B.indexOf(P);0<=Q&&B.splice(Q,1)}}L.d(Ce,{P:()=>d})},2306:(gt,Ce,L)=>{function d(B){const Q=B(ie=>{Error.call(ie),ie.stack=(new Error).stack});return Q.prototype=Object.create(Error.prototype),Q.prototype.constructor=Q,Q}L.d(Ce,{d:()=>d})},1441:(gt,Ce,L)=>{L.d(Ce,{O:()=>Q,x:()=>P});var d=L(2653);let B=null;function P(ie){if(d.config.useDeprecatedSynchronousErrorHandling){const pe=!B;if(pe&&(B={errorThrown:!1,error:null}),ie(),pe){const{errorThrown:ve,error:Se}=B;if(B=null,ve)throw Se}}else ie()}function Q(ie){d.config.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ie)}},7103:(gt,Ce,L)=>{function d(B,P,Q,ie=0,pe=!1){const ve=P.schedule(function(){Q(),pe?B.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(B.add(ve),!pe)return ve}L.d(Ce,{f:()=>d})},2737:(gt,Ce,L)=>{function d(B){return B}L.d(Ce,{y:()=>d})},4266:(gt,Ce,L)=>{L.d(Ce,{z:()=>d});const d=B=>B&&"number"==typeof B.length&&"function"!=typeof B},5726:(gt,Ce,L)=>{L.d(Ce,{D:()=>B});var d=L(4674);function B(P){return Symbol.asyncIterator&&(0,d.m)(P?.[Symbol.asyncIterator])}},4674:(gt,Ce,L)=>{function d(B){return"function"==typeof B}L.d(Ce,{m:()=>d})},8382:(gt,Ce,L)=>{L.d(Ce,{c:()=>P});var d=L(4850),B=L(4674);function P(Q){return(0,B.m)(Q[d.L])}},3664:(gt,Ce,L)=>{L.d(Ce,{T:()=>P});var d=L(4971),B=L(4674);function P(Q){return(0,B.m)(Q?.[d.h])}},4026:(gt,Ce,L)=>{L.d(Ce,{t:()=>B});var d=L(4674);function B(P){return(0,d.m)(P?.then)}},541:(gt,Ce,L)=>{L.d(Ce,{L:()=>Q,Q:()=>P});var d=L(7582),B=L(4674);function P(ie){return(0,d.FC)(this,arguments,function*(){const ve=ie.getReader();try{for(;;){const{value:Se,done:ge}=yield(0,d.qq)(ve.read());if(ge)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Se)}}finally{ve.releaseLock()}})}function Q(ie){return(0,B.m)(ie?.getReader)}},9360:(gt,Ce,L)=>{L.d(Ce,{A:()=>B,e:()=>P});var d=L(4674);function B(Q){return(0,d.m)(Q?.lift)}function P(Q){return ie=>{if(B(ie))return ie.lift(function(pe){try{return Q(pe,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(gt,Ce,L)=>{L.d(Ce,{U:()=>P,z:()=>B});var d=L(2737);function B(...Q){return P(Q)}function P(Q){return 0===Q.length?d.y:1===Q.length?Q[0]:function(pe){return Q.reduce((ve,Se)=>Se(ve),pe)}}},3894:(gt,Ce,L)=>{L.d(Ce,{h:()=>P});var d=L(2653),B=L(7599);function P(Q){B.z.setTimeout(()=>{const{onUnhandledError:ie}=d.config;if(!ie)throw Q;ie(Q)})}},9853:(gt,Ce,L)=>{function d(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ce,{z:()=>d})},5879:(gt,Ce,L)=>{L.d(Ce,{$8M:()=>fs,$WT:()=>Ts,$Z:()=>dI,AFp:()=>FT,ALo:()=>H0,AaK:()=>ne,CHM:()=>tl,CRH:()=>Y0,EJc:()=>MS,EpF:()=>tD,F4k:()=>nD,FYo:()=>oi,FiY:()=>Ns,GfV:()=>Qf,Gpc:()=>qe,HDt:()=>sw,JOm:()=>ma,KtG:()=>Bu,LFG:()=>Tn,LSH:()=>xr,Lbi:()=>qE,Lck:()=>Dy,MAs:()=>CA,MMx:()=>dr,MR2:()=>UE,NdJ:()=>_p,O4$:()=>sl,Ojb:()=>UT,OlP:()=>mn,Oqu:()=>Ll,P3R:()=>xT,PXZ:()=>UC,Q6J:()=>G_,QGY:()=>qm,Qsj:()=>Em,R0b:()=>ts,RDi:()=>th,Rgc:()=>Kl,SBq:()=>Yf,Sil:()=>ow,Suo:()=>Vr,TTD:()=>ku,TgZ:()=>vp,Udp:()=>e0,VuI:()=>eb,X6Q:()=>$C,XFs:()=>Ze,Xpm:()=>Qo,Xq5:()=>Nl,Xts:()=>fm,Y36:()=>fh,YKP:()=>xh,YNc:()=>DA,Yjl:()=>uf,Yz7:()=>en,Z0I:()=>Fn,ZZ4:()=>Wy,_Bn:()=>JD,_UZ:()=>lc,_c5:()=>Yt,_uU:()=>Qm,aQg:()=>po,c2e:()=>OC,cJS:()=>ar,cg1:()=>Mp,dDg:()=>wc,dqk:()=>Wt,eFA:()=>VC,eJc:()=>zn,ekj:()=>yD,eoX:()=>Zo,f3M:()=>Jt,g9A:()=>LT,h0i:()=>hu,hGG:()=>jS,hij:()=>Ul,iGM:()=>ce,ifc:()=>Et,ip1:()=>PC,jDz:()=>nC,kL8:()=>Kr,kcU:()=>ol,lG2:()=>Cu,lcZ:()=>$0,lqb:()=>Tl,lri:()=>mu,n5z:()=>wr,oAB:()=>Oa,oxw:()=>sD,q4F:()=>Jf,qFp:()=>xw,qLn:()=>lh,qOj:()=>km,qZA:()=>Ia,rWj:()=>Xp,rg0:()=>Pg,s9C:()=>K_,sBO:()=>LS,s_b:()=>Fh,soG:()=>By,tb:()=>Bh,tp0:()=>Wr,uIk:()=>jI,vHH:()=>te,vpe:()=>lo,wAp:()=>St,xp6:()=>Tm,z2F:()=>Hh,zSh:()=>HE,zs3:()=>sc});var d=L(8645),B=L(7394),P=L(5619),Q=L(5592),ie=L(3019),pe=L(2096),ve=L(3020),Se=L(4664),ge=L(3997);function $(i){for(let o in i)if(i[o]===$)return o;throw Error("Could not find renamed property on target object.")}function z(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function ne(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ne).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ke(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Me=$({__forward_ref__:$});function qe(i){return i.__forward_ref__=qe,i.toString=function(){return ne(this())},i}function xe(i){return We(i)?i():i}function We(i){return"function"==typeof i&&i.hasOwnProperty(Me)&&i.__forward_ref__===qe}function Pe(i){return i&&!!i.\u0275providers}const lt="https://g.co/ng/security#xss";class te extends Error{constructor(o,a){super(function De(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function se(i){return"string"==typeof i?i:null==i?"":String(i)}function je(i,o){throw new te(-201,!1)}function nt(i,o){null==i&&function mt(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function en(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function ar(i){return{providers:i.providers||[],imports:i.imports||[]}}function tr(i){return Ti(i,Dr)||Ti(i,jr)}function Fn(i){return null!==tr(i)}function Ti(i,o){return i.hasOwnProperty(o)?i[o]:null}function Bi(i){return i&&(i.hasOwnProperty(Ln)||i.hasOwnProperty(is))?i[Ln]:null}const Dr=$({\u0275prov:$}),Ln=$({\u0275inj:$}),jr=$({ngInjectableDef:$}),is=$({ngInjectorDef:$});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let dt;function Qt(i){const o=dt;return dt=i,o}function nr(i,o,a){const c=tr(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Ze.Optional?null:void 0!==o?o:void je(ne(i))}const Wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Nr={},Ft="__NG_DI_FLAG__",Rn="ngTempTokenPath",Cs=/\n/gm,Un="__source";let _n;function bn(i){const o=_n;return _n=i,o}function rr(i,o=Ze.Default){if(void 0===_n)throw new te(-203,!1);return null===_n?nr(i,void 0,o):_n.get(i,o&Ze.Optional?null:void 0,o)}function Tn(i,o=Ze.Default){return(function Ct(){return dt}()||rr)(xe(i),o)}function Jt(i,o=Ze.Default){return Tn(i,G(o))}function G(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function j(i){const o=[];for(let a=0;a<i.length;a++){const c=xe(i[a]);if(Array.isArray(c)){if(0===c.length)throw new te(900,!1);let h,f=Ze.Default;for(let y=0;y<c.length;y++){const w=c[y],D=F(w);"number"==typeof D?-1===D?h=w.token:f|=D:h=w}o.push(Tn(h,f))}else o.push(Tn(c))}return o}function k(i,o){return i[Ft]=o,i.prototype[Ft]=o,i}function F(i){return i[Ft]}function _e(i){return{toString:i}.toString()}var ze=(()=>((ze=ze||{})[ze.OnPush=0]="OnPush",ze[ze.Default=1]="Default",ze))(),Et=(()=>{return(i=Et||(Et={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Et;var i})();const wt={},ht=[],Mt=$({\u0275cmp:$}),gn=$({\u0275dir:$}),Ut=$({\u0275pipe:$}),mr=$({\u0275mod:$}),br=$({\u0275fac:$}),he=$({__NG_ELEMENT_ID__:$}),re=$({__NG_ENV_ID__:$});function Le(i,o,a){let c=i.length;for(;;){const h=i.indexOf(o,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const f=o.length;if(h+f===c||i.charCodeAt(h+f)<=32)return h}a=h+1}}function ft(i,o,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const f=a[c++],y=a[c++],w=a[c++];i.setAttribute(o,y,w,f)}else{const f=h,y=a[++c];$t(f)?i.setProperty(o,f,y):i.setAttribute(o,f,y),c++}}return c}function xt(i){return 3===i||4===i||6===i}function $t(i){return 64===i.charCodeAt(0)}function nn(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||yr(i,a,h,null,-1===a||2===a?o[++c]:null)}}return i}function yr(i,o,a,c,h){let f=0,y=i.length;if(-1===o)y=-1;else for(;f<i.length;){const w=i[f++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=f-1;break}}}for(;f<i.length;){const w=i[f];if("number"==typeof w)break;if(w===a){if(null===c)return void(null!==h&&(i[f+1]=h));if(c===i[f+1])return void(i[f+2]=h)}f++,null!==c&&f++,null!==h&&f++}-1!==y&&(i.splice(y,0,o),f=y+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==h&&i.splice(f++,0,h)}const Vn="ng-template";function $s(i,o,a){let c=0,h=!0;for(;c<i.length;){let f=i[c++];if("string"==typeof f&&h){const y=i[c++];if(a&&"class"===f&&-1!==Le(y.toLowerCase(),o,0))return!0}else{if(1===f){for(;c<i.length&&"string"==typeof(f=i[c++]);)if(f.toLowerCase()===o)return!0;return!1}"number"==typeof f&&(h=!1)}}return!1}function yo(i){return 4===i.type&&i.value!==Vn}function Ra(i,o,a){return o===(4!==i.type||a?i.value:Vn)}function pd(i,o,a){let c=4;const h=i.attrs||[],f=function Na(i){for(let o=0;o<i.length;o++)if(xt(i[o]))return o;return i.length}(h);let y=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!y)if(4&c){if(c=2|1&c,""!==D&&!Ra(i,D,a)||""===D&&1===o.length){if(ei(c))return!1;y=!0}}else{const A=8&c?D:o[++w];if(8&c&&null!==i.attrs){if(!$s(i.attrs,A,a)){if(ei(c))return!1;y=!0}continue}const V=Gs(8&c?"class":D,h,yo(i),a);if(-1===V){if(ei(c))return!1;y=!0;continue}if(""!==A){let W;W=V>f?"":h[V+1].toLowerCase();const X=8&c?W:null;if(X&&-1!==Le(X,A,0)||2&c&&A!==W){if(ei(c))return!1;y=!0}}}}else{if(!y&&!ei(c)&&!ei(D))return!1;if(y&&ei(D))continue;y=!1,c=D|1&c}}return ei(c)||y}function ei(i){return 0==(1&i)}function Gs(i,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let f=!1;for(;h<o.length;){const y=o[h];if(y===i)return h;if(3===y||6===y)f=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=f?1:2}return-1}return function Kn(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function vo(i,o,a=!1){for(let c=0;c<o.length;c++)if(pd(i,o[c],a))return!0;return!1}function bs(i,o){return i?":not("+o.trim()+")":o}function xg(i){let o=i[0],a=1,c=2,h="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const w=i[++a];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!ei(y)&&(o+=bs(f,h),h=""),c=y,f=f||!ei(c);a++}return""!==h&&(o+=bs(f,h)),o}function Qo(i){return _e(()=>{const o=Nc(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===ze.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Et.Emulated,styles:i.styles||ht,_:null,schemas:i.schemas||null,tView:null,id:""};ka(a);const c=i.dependencies;return a.directiveDefs=Jo(c,!1),a.pipeDefs=Jo(c,!0),a.id=function yd(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of a)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function af(i){return Vt(i)||vr(i)}function Pa(i){return null!==i}function Oa(i){return _e(()=>({type:i.type,bootstrap:i.bootstrap||ht,declarations:i.declarations||ht,imports:i.imports||ht,exports:i.exports||ht,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Du(i,o){if(null==i)return wt;const a={};for(const c in i)if(i.hasOwnProperty(c)){let h=i[c],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),a[h]=c,o&&(o[h]=f)}return a}function Cu(i){return _e(()=>{const o=Nc(i);return ka(o),o})}function uf(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Vt(i){return i[Mt]||null}function vr(i){return i[gn]||null}function fn(i){return i[Ut]||null}function Ts(i){const o=Vt(i)||vr(i)||fn(i);return null!==o&&o.standalone}function $r(i,o){const a=i[mr]||null;if(!a&&!0===o)throw new Error(`Type ${ne(i)} does not have '\u0275mod' property.`);return a}function Nc(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||wt,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||ht,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Du(i.inputs,o),outputs:Du(i.outputs)}}function ka(i){i.features?.forEach(o=>o(i))}function Jo(i,o){if(!i)return null;const a=o?fn:af;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(Pa)}const Yn=0,it=1,kt=2,Nn=3,Gr=4,bu=5,Tr=6,As=7,yn=8,Hi=9,_o=10,Tt=11,La=12,Tu=13,zs=14,An=15,Au=16,wo=17,os=18,Xo=19,Su=20,Ar=21,zr=22,Pc=23,$i=24,sn=25,as=1,Eo=2,hi=7,ea=9,Sr=11;function Pr(i){return Array.isArray(i)&&"object"==typeof i[as]}function Or(i){return Array.isArray(i)&&!0===i[as]}function Oc(i){return 0!=(4&i.flags)}function Gi(i){return i.componentOffset>-1}function qs(i){return 1==(1&i.flags)}function wn(i){return!!i.template}function na(i){return 0!=(512&i[kt])}function Ws(i,o){return i.hasOwnProperty(br)?i[br]:null}let Ba=Wt.WeakRef??class Va{constructor(o){this.ref=o}deref(){return this.ref}},Ru=0,Ai=null,Nu=!1;function jn(i){const o=Ai;return Ai=i,o}class fi{constructor(){this.id=Ru++,this.ref=function ff(i){return new Ba(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,a]of this.producers){const c=a.producerNode.deref();if(void 0!==c&&a.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(o),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=Nu;Nu=!0;try{for(const[a,c]of this.consumers){const h=c.consumerNode.deref();void 0!==h&&h.trackingVersion===c.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),h?.producers.delete(this.id))}}finally{Nu=o}}producerAccessed(){if(Nu)throw new Error("");if(null===Ai)return;let o=Ai.producers.get(this.id);void 0===o?(o={consumerNode:Ai.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ai.trackingVersion},Ai.producers.set(this.id,o),this.consumers.set(Ai.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=Ai.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ai?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let Cd=null;function Pg(i){const o=jn(null);try{return i()}finally{jn(o)}}const ja=()=>{};class mf extends fi{constructor(o,a,c){super(),this.watch=o,this.schedule=a,this.dirty=!1,this.cleanupFn=ja,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=jn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ja,this.watch(this.registerOnCleanup)}finally{jn(o)}}cleanup(){this.cleanupFn()}}class Ha{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ku(){return ra}function ra(i){return i.type.prototype.ngOnChanges&&(i.setInput=Wc),qc}function qc(){const i=Zc(this),o=i?.current;if(o){const a=i.previous;if(a===wt)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Wc(i,o,a,c){const h=this.declaredInputs[a],f=Zc(i)||function Td(i,o){return i[yf]=o}(i,{previous:wt,current:null}),y=f.current||(f.current={}),w=f.previous,D=w[h];y[h]=new Ha(D&&D.currentValue,o,w===wt),i[c]=o}ku.ngInherit=!0;const yf="__ngSimpleChanges__";function Zc(i){return i[yf]||null}const zi=function(i,o,a){},Qc="svg";function vn(i){for(;Array.isArray(i);)i=i[Yn];return i}function ia(i,o){return vn(o[i])}function kr(i,o){return vn(o[i.index])}function Ad(i,o){return i.data[o]}function Ys(i,o){return i[o]}function Si(i,o){const a=o[i];return Pr(a)?a:a[Yn]}function cs(i,o){return null==o?null:i[o]}function xd(i){i[wo]=0}function Jc(i){1024&i[kt]||(i[kt]|=1024,oa(i,1))}function Lu(i){1024&i[kt]&&(i[kt]&=-1025,oa(i,-1))}function oa(i,o){let a=i[Nn];if(null===a)return;a[bu]+=o;let c=a;for(a=a[Nn];null!==a&&(1===o&&1===c[bu]||-1===o&&0===c[bu]);)a[bu]+=o,c=a,a=a[Nn]}const At={lFrame:il(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $a(){return At.bindingsEnabled}function Ae(){return At.lFrame.lView}function tn(){return At.lFrame.tView}function tl(i){return At.lFrame.contextLView=i,i[yn]}function Bu(i){return At.lFrame.contextLView=null,i}function ur(){let i=If();for(;null!==i&&64===i.type;)i=i.parent;return i}function If(){return At.lFrame.currentTNode}function qr(i,o){const a=At.lFrame;a.currentTNode=i,a.isParent=o}function Df(){return At.lFrame.isParent}function Sn(){return At.lFrame.bindingIndex++}function za(i,o){const a=At.lFrame;a.bindingIndex=a.bindingRootIndex=i,kd(o)}function kd(i){At.lFrame.currentDirectiveIndex=i}function Gu(){return At.lFrame.currentQueryIndex}function Qs(i){At.lFrame.currentQueryIndex=i}function Js(i){const o=i[it];return 2===o.type?o.declTNode:1===o.type?i[Tr]:null}function aa(i,o,a){if(a&Ze.SkipSelf){let h=o,f=i;for(;!(h=h.parent,null!==h||a&Ze.Host||(h=Js(f),null===h||(f=f[zs],10&h.type))););if(null===h)return!1;o=h,i=f}const c=At.lFrame=qu();return c.currentTNode=o,c.lView=i,!0}function zu(i){const o=qu(),a=i[it];At.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function qu(){const i=At.lFrame,o=null===i?null:i.child;return null===o?il(i):o}function il(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function kg(){const i=At.lFrame;return At.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Fd=kg;function Ld(){const i=kg();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ni(){return At.lFrame.selectedIndex}function Xs(i){At.lFrame.selectedIndex=i}function In(){const i=At.lFrame;return Ad(i.tView,i.selectedIndex)}function sl(){At.lFrame.currentNamespace=Qc}function ol(){!function Vd(){At.lFrame.currentNamespace=null}()}let al=!0;function Wa(){return al}function To(i){al=i}function Wu(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:R}=f;y&&(i.contentHooks??=[]).push(-a,y),w&&((i.contentHooks??=[]).push(a,w),(i.contentCheckHooks??=[]).push(a,w)),D&&(i.viewHooks??=[]).push(-a,D),A&&((i.viewHooks??=[]).push(a,A),(i.viewCheckHooks??=[]).push(a,A)),null!=R&&(i.destroyHooks??=[]).push(a,R)}}function Za(i,o,a){ri(i,o,3,a)}function ul(i,o,a,c){(3&i[kt])===a&&ri(i,o,a,c)}function Zu(i,o){let a=i[kt];(3&a)===o&&(a&=8191,a+=1,i[kt]=a)}function ri(i,o,a,c){const f=c??-1,y=o.length-1;let w=0;for(let D=void 0!==c?65535&i[wo]:0;D<y;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=c&&w>=c)break}else o[D]<0&&(i[wo]+=65536),(w<f||-1==f)&&(cl(i,a,o,D),i[wo]=(4294901760&i[wo])+D+2),D++}function eo(i,o){zi(4,i,o);const a=jn(null);try{o.call(i)}finally{jn(a),zi(5,i,o)}}function cl(i,o,a,c){const h=a[c]<0,f=a[c+1],w=i[h?-a[c]:a[c]];h?i[kt]>>13<i[wo]>>16&&(3&i[kt])===o&&(i[kt]+=8192,eo(w,f)):eo(w,f)}const on=-1;class pt{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Pt(i){return i!==on}function gi(i){return 32767&i}function ca(i,o){let a=function Hd(i){return i>>16}(i),c=o;for(;a>0;)c=c[zs],a--;return c}let xi=!0;function So(i){const o=xi;return xi=i,o}const Zi=255,to=5;let Ug=0;const yi={};function no(i,o){const a=$d(i,o);if(-1!==a)return a;const c=o[it];c.firstCreatePass&&(i.injectorIndex=o.length,Ss(c.data,i),Ss(o,null),Ss(c.blueprint,null));const h=Ki(i,o),f=i.injectorIndex;if(Pt(h)){const y=gi(h),w=ca(h,o),D=w[it].data;for(let A=0;A<8;A++)o[f+A]=w[y+A]|D[y+A]}return o[f+8]=h,f}function Ss(i,o){i.push(0,0,0,0,0,0,0,0,o)}function $d(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Ki(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){if(c=dl(h),null===c)return on;if(a++,h=h[zs],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return on}function Yu(i,o,a){!function Tf(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(he)&&(c=a[he]),null==c&&(c=a[he]=Ug++);const h=c&Zi;o.data[i+(h>>to)]|=1<<h}(i,o,a)}function la(i,o,a){if(a&Ze.Optional||void 0!==i)return i;je()}function Mo(i,o,a,c){if(a&Ze.Optional&&void 0===c&&(c=null),!(a&(Ze.Self|Ze.Host))){const h=i[Hi],f=Qt(void 0);try{return h?h.get(o,c,a&Ze.Optional):nr(o,c,a&Ze.Optional)}finally{Qt(f)}}return la(c,0,a)}function hs(i,o,a,c=Ze.Default,h){if(null!==i){if(2048&o[kt]&&!(c&Ze.Self)){const y=function zd(i,o,a,c,h){let f=i,y=o;for(;null!==f&&null!==y&&2048&y[kt]&&!(512&y[kt]);){const w=Gd(f,y,a,c|Ze.Self,yi);if(w!==yi)return w;let D=f.parent;if(!D){const A=y[Su];if(A){const R=A.get(a,yi,c);if(R!==yi)return R}D=dl(y),y=y[zs]}f=D}return h}(i,o,a,c,yi);if(y!==yi)return y}const f=Gd(i,o,a,c,yi);if(f!==yi)return f}return Mo(o,a,c,h)}function Gd(i,o,a,c,h){const f=function io(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(he)?i[he]:void 0;return"number"==typeof o?o>=0?o&Zi:Ri:o}(a);if("function"==typeof f){if(!aa(o,i,c))return c&Ze.Host?la(h,0,c):Mo(o,a,c,h);try{const y=f(c);if(null!=y||c&Ze.Optional)return y;je()}finally{Fd()}}else if("number"==typeof f){let y=null,w=$d(i,o),D=on,A=c&Ze.Host?o[An][Tr]:null;for((-1===w||c&Ze.SkipSelf)&&(D=-1===w?Ki(i,o):o[w+8],D!==on&&Ms(c,!1)?(y=o[it],w=gi(D),o=ca(D,o)):w=-1);-1!==w;){const R=o[it];if($n(f,w,R.data)){const V=vi(w,o,a,y,c,A);if(V!==yi)return V}D=o[w+8],D!==on&&Ms(c,o[it].data[w+8]===A)&&$n(f,w,o)?(y=R,w=gi(D),o=ca(D,o)):w=-1}}return h}function vi(i,o,a,c,h,f){const y=o[it],w=y.data[i+8],R=xo(w,y,a,null==c?Gi(w)&&xi:c!=y&&0!=(3&w.type),h&Ze.Host&&f===w);return null!==R?ro(o,y,R,w):yi}function xo(i,o,a,c,h){const f=i.providerIndexes,y=o.data,w=1048575&f,D=i.directiveStart,R=f>>20,W=h?w+R:i.directiveEnd;for(let X=c?w:w+R;X<W;X++){const Ie=y[X];if(X<D&&a===Ie||X>=D&&Ie.type===a)return X}if(h){const X=y[D];if(X&&wn(X)&&X.type===a)return D}return null}function ro(i,o,a,c){let h=i[a];const f=o.data;if(function pi(i){return i instanceof pt}(h)){const y=h;y.resolving&&function Ne(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new te(-200,`Circular dependency in DI detected for ${i}${a}`)}(function fe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():se(i)}(f[a]));const w=So(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?Qt(y.injectImpl):null;aa(i,c,Ze.Default);try{h=i[a]=y.factory(void 0,f,i,c),o.firstCreatePass&&a>=c.directiveStart&&function jd(i,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:f}=o.type.prototype;if(c){const y=ra(o);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}h&&(a.preOrderHooks??=[]).push(0-i,h),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],o)}finally{null!==D&&Qt(D),So(w),y.resolving=!1,Fd()}}return h}function $n(i,o,a){return!!(a[o+(i>>to)]&1<<i)}function Ms(i,o){return!(i&Ze.Self||i&Ze.Host&&o)}class xs{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return hs(this._tNode,this._lView,o,G(c),a)}}function Ri(){return new xs(ur(),Ae())}function wr(i){return _e(()=>{const o=i.prototype.constructor,a=o[br]||da(o),c=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==c;){const f=h[br]||da(h);if(f&&f!==a)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function da(i){return We(i)?()=>{const o=da(xe(i));return o&&o()}:Ws(i)}function dl(i){const o=i[it],a=o.type;return 2===a?o.declTNode:1===a?i[Tr]:null}function fs(i){return function Af(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const f=a[h];if(xt(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(f===o)return a[h+1];h+=2}}}return null}(ur(),i)}const Pn="__parameters__";function gs(i,o,a){return _e(()=>{const c=function ps(i){return function(...a){if(i){const c=i(...a);for(const h in c)this[h]=c[h]}}}(o);function h(...f){if(this instanceof h)return c.apply(this,f),this;const y=new h(...f);return w.annotation=y,w;function w(D,A,R){const V=D.hasOwnProperty(Pn)?D[Pn]:Object.defineProperty(D,Pn,{value:[]})[Pn];for(;V.length<=R;)V.push(null);return(V[R]=V[R]||[]).push(y),D}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function Ji(i,o){i.forEach(a=>Array.isArray(a)?Ji(a,o):o(a))}function pl(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function gl(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function b(i,o,a){let c=U(i,o);return c>=0?i[1|c]=a:(c=~c,function Qa(i,o,a,c){let h=i.length;if(h==o)i.push(a,c);else if(1===h)i.push(c,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function S(i,o){const a=U(i,o);if(a>=0)return i[1|a]}function U(i,o){return function Y(i,o,a){let c=0,h=i.length>>a;for(;h!==c;){const f=c+(h-c>>1),y=i[f<<a];if(o===y)return f<<a;y>o?h=f:c=f+1}return~(h<<a)}(i,o,1)}const Ns=k(gs("Optional"),8),Wr=k(gs("SkipSelf"),4);function Gg(i){return 128==(128&i.flags)}var ma=(()=>((ma=ma||{})[ma.Important=1]="Important",ma[ma.DashCase=2]="DashCase",ma))();const Mv=new Map;let lE=0;const qg="__ngContext__";function Ei(i,o){Pr(o)?(i[qg]=o[Xo],function eT(i){Mv.set(i[Xo],i)}(o)):i[qg]=o}let Ov;function Qd(i,o){return Ov(i,o)}function kf(i){const o=i[Nn];return Or(o)?o[Nn]:o}function gE(i){return kv(i[La])}function Kg(i){return kv(i[Gr])}function kv(i){for(;null!==i&&!Or(i);)i=i[Gr];return i}function El(i,o,a,c,h){if(null!=c){let f,y=!1;Or(c)?f=c:Pr(c)&&(y=!0,c=c[Yn]);const w=vn(c);0===i&&null!==a?null==h?Uv(o,a,w):Il(o,a,w,h||null,!0):1===i&&null!==a?Il(o,a,w,h||null,!0):2===i?function em(i,o,a){const c=eu(i,o);c&&function sT(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,w,y):3===i&&o.destroyNode(w),null!=f&&function aT(i,o,a,c,h){const f=a[hi];f!==vn(a)&&El(o,i,c,f,h);for(let w=Sr;w<a.length;w++){const D=a[w];Xd(D[it],D,i,o,c,f)}}(o,i,f,a,h)}}function Qg(i,o,a){return i.createElement(o,a)}function mE(i,o){const a=i[ea],c=a.indexOf(o);Lu(o),a.splice(c,1)}function Lv(i,o){if(i.length<=Sr)return;const a=Sr+o,c=i[a];if(c){const h=c[Au];null!==h&&h!==i&&mE(h,c),o>0&&(i[a-1][Gr]=c[Gr]);const f=gl(i,Sr+o);!function cR(i,o){Xd(i,o,o[Tt],2,null,null),o[Yn]=null,o[Tr]=null}(c[it],c);const y=f[os];null!==y&&y.detachView(f[it]),c[Nn]=null,c[Gr]=null,c[kt]&=-129}return c}function Jg(i,o){if(!(256&o[kt])){const a=o[Tt];o[Pc]?.destroy(),o[$i]?.destroy(),a.destroyNode&&Xd(i,o,a,3,null,null),function hR(i){let o=i[La];if(!o)return Os(i[it],i);for(;o;){let a=null;if(Pr(o))a=o[La];else{const c=o[Sr];c&&(a=c)}if(!a){for(;o&&!o[Gr]&&o!==i;)Pr(o)&&Os(o[it],o),o=o[Nn];null===o&&(o=i),Pr(o)&&Os(o[it],o),a=o&&o[Gr]}o=a}}(o)}}function Os(i,o){if(!(256&o[kt])){o[kt]&=-129,o[kt]|=256,function Uf(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof pt)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const w=h[f[y]],D=f[y+1];zi(4,w,D);try{D.call(w)}finally{zi(5,w,D)}}else{zi(4,h,f);try{f.call(h)}finally{zi(5,h,f)}}}}}(i,o),function iT(i,o){const a=i.cleanup,c=o[As];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?c[y]():c[-y].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(o[As]=null);const h=o[Ar];if(null!==h){o[Ar]=null;for(let f=0;f<h.length;f++)(0,h[f])()}}(i,o),1===o[it].type&&o[Tt].destroy();const a=o[Au];if(null!==a&&Or(o[Nn])){a!==o[Nn]&&mE(a,o);const c=o[os];null!==c&&c.detachView(i)}!function dE(i){Mv.delete(i[Xo])}(o)}}function yE(i,o,a){return function vE(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[Yn];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:f}=i.data[c.directiveStart+h];if(f===Et.None||f===Et.Emulated)return null}return kr(c,a)}}(i,o.parent,a)}function Il(i,o,a,c,h){i.insertBefore(o,a,c,h)}function Uv(i,o,a){i.appendChild(o,a)}function Vf(i,o,a,c,h){null!==c?Il(i,o,a,c,h):Uv(i,o,a)}function eu(i,o){return i.parentNode(o)}let Dl,im,sm,Jd=function wE(i,o,a){return 40&i.type?kr(i,a):null};function Xg(i,o,a,c){const h=yE(i,c,o),f=o[Tt],w=function _E(i,o,a){return Jd(i,o,a)}(c.parent||o[Tr],c,o);if(null!=h)if(Array.isArray(a))for(let D=0;D<a.length;D++)Vf(f,h,a[D],w,!1);else Vf(f,h,a,w,!1);void 0!==Dl&&Dl(f,c,o,a,h)}function jf(i,o){if(null!==o){const a=o.type;if(3&a)return kr(o,i);if(4&a)return Vv(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return jf(i,c);{const h=i[o.index];return Or(h)?Vv(-1,h):vn(h)}}if(32&a)return Qd(o,i)()||vn(i[o.index]);{const c=IE(i,o);return null!==c?Array.isArray(c)?c[0]:jf(kf(i[An]),c):jf(i,o.next)}}return null}function IE(i,o){return null!==o?i[An][Tr].projection[o.projection]:null}function Vv(i,o){const a=Sr+i+1;if(a<o.length){const c=o[a],h=c[it].firstChild;if(null!==h)return jf(c,h)}return o[hi]}function Bv(i,o,a,c,h,f,y){for(;null!=a;){const w=c[a.index],D=a.type;if(y&&0===o&&(w&&Ei(vn(w),c),a.flags|=2),32!=(32&a.flags))if(8&D)Bv(i,o,a.child,c,h,f,!1),El(o,i,h,w,f);else if(32&D){const A=Qd(a,c);let R;for(;R=A();)El(o,i,h,R,f);El(o,i,h,w,f)}else 16&D?Cl(i,o,c,a,h,f):El(o,i,h,w,f);a=y?a.projectionNext:a.next}}function Xd(i,o,a,c,h,f){Bv(a,c,i.firstChild,o,h,f,!1)}function Cl(i,o,a,c,h,f){const y=a[An],D=y[Tr].projection[c.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)El(o,i,h,D[A],f);else{let A=D;const R=y[Nn];Gg(c)&&(A.flags|=128),Bv(i,o,A,R,h,f,!0)}}function DE(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function CE(i,o,a){const{mergedAttrs:c,classes:h,styles:f}=a;null!==c&&ft(i,o,c),null!==h&&DE(i,o,h),null!==f&&function cT(i,o,a){i.setAttribute(o,"style",a)}(i,o,f)}function th(i){im=i}function AE(i){return function Hv(){if(void 0===sm&&(sm=null,Wt.trustedTypes))try{sm=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return sm}()?.createScriptURL(i)||i}class am{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function Lo(i){return i instanceof am?i.changingThisBreaksApplicationSecurity:i}function Hf(i,o){const a=function gT(i){return i instanceof am&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${lt})`)}return a===o}const _T=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Lr=(()=>((Lr=Lr||{})[Lr.NONE=0]="NONE",Lr[Lr.HTML=1]="HTML",Lr[Lr.STYLE=2]="STYLE",Lr[Lr.SCRIPT=3]="SCRIPT",Lr[Lr.URL=4]="URL",Lr[Lr.RESOURCE_URL=5]="RESOURCE_URL",Lr))();function xr(i){const o=bl();return o?o.sanitize(Lr.URL,i)||"":Hf(i,"URL")?Lo(i):function $v(i){return(i=String(i)).match(_T)?i:"unsafe:"+i}(se(i))}function kE(i){const o=bl();if(o)return AE(o.sanitize(Lr.RESOURCE_URL,i)||"");if(Hf(i,"ResourceURL"))return AE(Lo(i));throw new te(904,!1)}function xT(i,o,a){return function FE(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?kE:xr}(o,a)(i)}function bl(){const i=Ae();return i&&i[_o].sanitizer}class mn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=en({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fm=new mn("ENVIRONMENT_INITIALIZER"),zv=new mn("INJECTOR",-1),ya=new mn("INJECTOR_DEF_TYPES");class LE{get(o,a=Nr){if(a===Nr){const c=new Error(`NullInjectorError: No provider for ${ne(o)}!`);throw c.name="NullInjectorError",c}return a}}function UE(i){return{\u0275providers:i}}function IR(...i){return{\u0275providers:RT(0,i),\u0275fromNgModule:!0}}function RT(i,...o){const a=[],c=new Set;let h;return Ji(o,f=>{const y=f;pm(y,a,[],c)&&(h||=[],h.push(y))}),void 0!==h&&qv(h,a),a}function qv(i,o){for(let a=0;a<i.length;a++){const{providers:h}=i[a];Wv(h,f=>{o.push(f)})}}function pm(i,o,a,c){if(!(i=xe(i)))return!1;let h=null,f=Bi(i);const y=!f&&Vt(i);if(f||y){if(y&&!y.standalone)return!1;h=i}else{const D=i.ngModule;if(f=Bi(D),!f)return!1;h=D}const w=c.has(h);if(y){if(w)return!1;if(c.add(h),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of D)pm(A,o,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let A;c.add(h);try{Ji(f.imports,R=>{pm(R,o,a,c)&&(A||=[],A.push(R))})}finally{}void 0!==A&&qv(A,o)}if(!w){const A=Ws(h)||(()=>new h);o.push({provide:h,useFactory:A,deps:ht},{provide:ya,useValue:h,multi:!0},{provide:fm,useValue:()=>Tn(h),multi:!0})}const D=f.providers;null==D||w||Wv(D,R=>{o.push(R)})}}return h!==i&&void 0!==i.providers}function Wv(i,o){for(let a of i)Pe(a)&&(a=a.\u0275providers),Array.isArray(a)?Wv(a,o):o(a)}const NT=$({provide:String,useValue:$});function BE(i){return null!==i&&"object"==typeof i&&NT in i}function ih(i){return"function"==typeof i}const HE=new mn("Set Injector scope."),gm={},CR={};let mm;function ym(){return void 0===mm&&(mm=new LE),mm}class Tl{}class qf extends Tl{get destroyed(){return this._destroyed}constructor(o,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zE(o,y=>this.processProvider(y)),this.records.set(zv,sh(void 0,this)),h.has("environment")&&this.records.set(Tl,sh(void 0,this));const f=this.records.get(HE);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(ya.multi,ht,Ze.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=bn(this),c=Qt(void 0);try{return o()}finally{bn(a),Qt(c)}}get(o,a=Nr,c=Ze.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(re))return o[re](this);c=G(c);const h=bn(this),f=Qt(void 0);try{if(!(c&Ze.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function bR(i){return"function"==typeof i||"object"==typeof i&&i instanceof mn}(o)&&tr(o);w=D&&this.injectableDefInScope(D)?sh(Kv(o),gm):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(c&Ze.Self?ym():this.parent).get(o,a=c&Ze.Optional&&a===Nr?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Rn]=y[Rn]||[]).unshift(ne(o)),h)throw y;return function N(i,o,a,c){const h=i[Rn];throw o[Un]&&h.unshift(o[Un]),i.message=function J(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=ne(o);if(Array.isArray(o))h=o.map(ne).join(" -> ");else if("object"==typeof o){let f=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];f.push(y+":"+("string"==typeof w?JSON.stringify(w):ne(w)))}h=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${i.replace(Cs,"\n  ")}`}("\n"+i.message,h,a,c),i.ngTokenPath=h,i[Rn]=null,i}(y,o,"R3InjectorError",this.source)}throw y}finally{Qt(f),bn(h)}}resolveInjectorInitializers(){const o=bn(this),a=Qt(void 0);try{const c=this.get(fm.multi,ht,Ze.Self);for(const h of c)h()}finally{bn(o),Qt(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(ne(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(o){let a=ih(o=xe(o))?o:xe(o&&o.provide);const c=function OT(i){return BE(i)?sh(void 0,i.useValue):sh($E(i),gm)}(o);if(ih(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=sh(void 0,gm,!0),h.factory=()=>j(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===gm&&(a.value=CR,a.value=a.factory()),"object"==typeof a.value&&a.value&&function kT(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=xe(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Kv(i){const o=tr(i),a=null!==o?o.factory:Ws(i);if(null!==a)return a;if(i instanceof mn)throw new te(204,!1);if(i instanceof Function)return function PT(i){const o=i.length;if(o>0)throw function Po(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new te(204,!1);const a=function mo(i){return i&&(i[Dr]||i[jr])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new te(204,!1)}function $E(i,o,a){let c;if(ih(i)){const h=xe(i);return Ws(h)||Kv(h)}if(BE(i))c=()=>xe(i.useValue);else if(function jE(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...j(i.deps||[]));else if(function Zv(i){return!(!i||!i.useExisting)}(i))c=()=>Tn(xe(i.useExisting));else{const h=xe(i&&(i.useClass||i.provide));if(!function GE(i){return!!i.deps}(i))return Ws(h)||Kv(h);c=()=>new h(...j(i.deps))}return c}function sh(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function zE(i,o){for(const a of i)Array.isArray(a)?zE(a,o):a&&Pe(a)?zE(a.\u0275providers,o):o(a)}const FT=new mn("AppId",{providedIn:"root",factory:()=>TR}),TR="ng",LT=new mn("Platform Initializer"),qE=new mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),UT=new mn("CSP nonce",{providedIn:"root",factory:()=>function nh(){if(void 0!==im)return im;if(typeof document<"u")return document;throw new te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let HT=(i,o)=>null;function $T(i,o){return HT(i,o)}class zT{}class Zf{}class qT{resolveComponentFactory(o){throw function n_(i){const o=Error(`No component factory found for ${ne(i)}.`);return o.ngComponent=i,o}(o)}}let Kf=(()=>{class i{}return i.NULL=new qT,i})();function WT(){return ch(ur(),Ae())}function ch(i,o){return new Yf(kr(i,o))}let Yf=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=WT,i})();function ZT(i){return i instanceof Yf?i.nativeElement:i}class oi{}let Em=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function r_(){const i=Ae(),a=Si(ur().index,i);return(Pr(a)?a:i)[Tt]}(),i})(),i_=(()=>{class i{}return i.\u0275prov=en({token:i,providedIn:"root",factory:()=>null}),i})();class Qf{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Jf=new Qf("16.1.1"),Xf={};function ep(i){for(;i;){i[kt]|=64;const o=kf(i);if(na(i)&&!o)return i;i=o}return null}function s_(i){return i.ngOriginalError}class lh{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&s_(o);for(;a&&s_(a);)a=s_(a);return a||null}}const tp=new mn("",{providedIn:"root",factory:()=>!1});function Uo(i){return i instanceof Function?i():i}class bm extends fi{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){ep(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,a,c){const h=jn(this);this.trackingVersion++;try{o(a,c)}finally{jn(h)}}destroy(){this.trackingVersion++}}let dh=null;function iI(){return dh??=new bm,dh}function sI(i,o){return i[o]??iI()}function oI(i,o){const a=iI();a.hasReadASignal&&(i[o]=dh,a.lView=i,dh=new bm)}const jt={};function Tm(i){u_(tn(),Ae(),ni()+i,!1)}function u_(i,o,a,c){if(!c)if(3==(3&o[kt])){const f=i.preOrderCheckHooks;null!==f&&Za(o,f,a)}else{const f=i.preOrderHooks;null!==f&&ul(o,f,0,a)}Xs(a)}function cI(i,o=null,a=null,c){const h=lI(i,o,a,c);return h.resolveInjectorInitializers(),h}function lI(i,o=null,a=null,c,h=new Set){const f=[a||ht,IR(i)];return c=c||("object"==typeof i?void 0:ne(i)),new qf(f,o||ym(),c||null,h)}let sc=(()=>{class i{static create(a,c){if(Array.isArray(a))return cI({name:""},c,a,"");{const h=a.name??"";return cI({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=Nr,i.NULL=new LE,i.\u0275prov=en({token:i,providedIn:"any",factory:()=>Tn(zv)}),i.__NG_ELEMENT_ID__=-1,i})();function fh(i,o=Ze.Default){const a=Ae();return null===a?Tn(i,o):hs(ur(),a,xe(i),o)}function dI(){throw new Error("invalid")}function Ml(i,o,a,c,h,f,y,w,D,A,R){const V=o.blueprint.slice();return V[Yn]=h,V[kt]=140|c,(null!==A||i&&2048&i[kt])&&(V[kt]|=2048),xd(V),V[Nn]=V[zs]=i,V[yn]=a,V[_o]=y||i&&i[_o],V[Tt]=w||i&&i[Tt],V[Hi]=D||i&&i[Hi]||null,V[Tr]=f,V[Xo]=function uR(){return lE++}(),V[zr]=R,V[Su]=A,V[An]=2==o.type?i[An]:V,V}function xl(i,o,a,c,h){let f=i.data[o];if(null===f)f=function Sm(i,o,a,c,h){const f=If(),y=Df(),D=i.data[o]=function UR(i,o,a,c,h,f){let y=o?o.injectorIndex:-1,w=0;return function qi(){return null!==At.skipHydrationRootTNode}()&&(w|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,o,c,h);return null===i.firstChild&&(i.firstChild=D),null!==f&&(y?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D,D.prev=f)),D}(i,o,a,c,h),function cr(){return At.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=h;const y=function ju(){const i=At.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return qr(f,!0),f}function Rl(i,o,a,c){if(0===a)return-1;const h=o.length;for(let f=0;f<a;f++)o.push(c),i.blueprint.push(c),i.data.push(null);return h}function hI(i,o,a,c,h){const f=sI(o,Pc),y=ni(),w=2&c;try{if(Xs(-1),w&&o.length>sn&&u_(i,o,sn,!1),zi(w?2:0,h),w)f.runInContext(a,c,h);else{const A=jn(null);try{a(c,h)}finally{jn(A)}}}finally{w&&null===o[Pc]&&oI(o,Pc),Xs(y),zi(w?3:1,h)}}function h_(i,o,a){if(Oc(o)){const c=jn(null);try{const f=o.directiveEnd;for(let y=o.directiveStart;y<f;y++){const w=i.data[y];w.contentQueries&&w.contentQueries(1,a[y],y)}}finally{jn(c)}}}function f_(i,o,a){$a()&&(function cA(i,o,a,c){const h=a.directiveStart,f=a.directiveEnd;Gi(a)&&function qR(i,o,a){const c=kr(o,i),h=p_(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const w=rp(i,Ml(i,h,null,y,c,o,null,i[_o].rendererFactory.createRenderer(c,a),null,null,null));i[o.index]=w}(o,a,i.data[h+a.componentOffset]),i.firstCreatePass||no(a,o),Ei(c,o);const y=a.initialInputs;for(let w=h;w<f;w++){const D=i.data[w],A=ro(o,i,w,a);Ei(A,o),null!==y&&_I(0,w-h,A,D,0,y),wn(D)&&(Si(a.index,o)[yn]=ro(o,i,w,a))}}(i,o,a,kr(a,o)),64==(64&a.flags)&&vI(i,o,a))}function Mm(i,o,a=kr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],w=-1===y?a(o,i):i[y];i[h++]=w}}}function p_(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=xm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function xm(i,o,a,c,h,f,y,w,D,A,R){const V=sn+c,W=V+h,X=function fI(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:jt);return a}(V,W),Ie="function"==typeof A?A():A;return X[it]={type:i,blueprint:X,template:a,queries:null,viewQuery:w,declTNode:o,data:X.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:Ie,incompleteFirstPass:!1,ssrId:R}}let gI=i=>null;function sA(i,o,a,c){for(let h in i)if(i.hasOwnProperty(h)){a=null===a?{}:a;const f=i[h];null===c?mI(a,o,h,f):c.hasOwnProperty(h)&&mI(a,o,c[h],f)}return a}function mI(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function ms(i,o,a,c,h,f,y,w){const D=kr(o,a);let R,A=o.inputs;!w&&null!=A&&(R=A[c])?(D_(i,a,R,c,h),Gi(o)&&function m_(i,o){const a=Si(o,i);16&a[kt]||(a[kt]|=64)}(a,o.index)):3&o.type&&(c=function oA(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),h=null!=y?y(h,o.value||"",c):h,f.setProperty(D,c,h))}function np(i,o,a,c){if($a()){const h=null===c?null:{"":-1},f=function jR(i,o){const a=i.directiveRegistry;let c=null,h=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(vo(o,y.selectors,!1))if(c||(c=[]),wn(y))if(null!==y.findHostDirectiveDefs){const w=[];h=h||new Map,y.findHostDirectiveDefs(y,w,h),c.unshift(...w,y),y_(i,o,w.length)}else c.unshift(y),y_(i,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,c,h),c.push(y)}return null===c?null:[c,h]}(i,a);let y,w;null===f?y=w=null:[y,w]=f,null!==y&&aA(i,o,a,y,h,w),h&&function HR(i,o,a){if(o){const c=i.localNames=[];for(let h=0;h<o.length;h+=2){const f=a[o[h+1]];if(null==f)throw new te(-301,!1);c.push(o[h],f)}}}(a,c,h)}a.mergedAttrs=nn(a.mergedAttrs,a.attrs)}function aA(i,o,a,c,h,f){for(let A=0;A<c.length;A++)Yu(no(a,o),i,c[A].type);!function GR(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let A=0;A<c.length;A++){const R=c[A];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,D=Rl(i,o,c.length,null);for(let A=0;A<c.length;A++){const R=c[A];a.mergedAttrs=nn(a.mergedAttrs,R.hostAttrs),zR(i,a,o,D,R),$R(D,R,h),null!==R.contentQueries&&(a.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=64);const V=R.type.prototype;!y&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!w&&(V.ngOnChanges||V.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),w=!0),D++}!function yI(i,o,a){const h=o.directiveEnd,f=i.data,y=o.attrs,w=[];let D=null,A=null;for(let R=o.directiveStart;R<h;R++){const V=f[R],W=a?a.get(V):null,Ie=W?W.outputs:null;D=sA(V.inputs,R,D,W?W.inputs:null),A=sA(V.outputs,R,A,Ie);const Fe=null===D||null===y||yo(o)?null:wI(D,R,y);w.push(Fe)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=D,o.outputs=A}(i,a,f)}function vI(i,o,a){const c=a.directiveStart,h=a.directiveEnd,f=a.index,y=function $u(){return At.lFrame.currentDirectiveIndex}();try{Xs(f);for(let w=c;w<h;w++){const D=i.data[w],A=o[w];kd(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&BR(D,A)}}finally{Xs(-1),kd(y)}}function BR(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function y_(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function $R(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;wn(o)&&(a[""]=i)}}function zR(i,o,a,c,h){i.data[c]=h;const f=h.factory||(h.factory=Ws(h.type)),y=new pt(f,wn(h),fh);i.blueprint[c]=y,a[c]=y,function uA(i,o,a,c,h){const f=h.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~o.index;(function VR(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=w&&y.push(w),y.push(a,c,f)}}(i,o,c,Rl(i,a,h.hostVars,jt),h)}function nu(i,o,a,c,h,f){const y=kr(i,o);!function v_(i,o,a,c,h,f,y){if(null==f)i.removeAttribute(o,h,a);else{const w=null==y?se(f):y(f,c||"",h);i.setAttribute(o,h,w,a)}}(o[Tt],y,f,i.value,a,c,h)}function _I(i,o,a,c,h,f){const y=f[o];if(null!==y)for(let w=0;w<y.length;)__(c,a,y[w++],y[w++],y[w++])}function __(i,o,a,c,h){const f=jn(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(h=y[c].call(o,h)),null!==i.setInput?i.setInput(o,h,a,c):o[c]=h}finally{jn(f)}}function wI(i,o,a){let c=null,h=0;for(;h<a.length;){const f=a[h];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===c&&(c=[]);const y=i[f];for(let w=0;w<y.length;w+=2)if(y[w]===o){c.push(f,y[w+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function w_(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null,null]}function E_(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const y=i.data[f];Qs(a[c]),y.contentQueries(2,o[f],f)}}}function rp(i,o){return i[La]?i[Tu][Gr]=o:i[La]=o,i[Tu]=o,o}function Nm(i,o,a){Qs(0);const c=jn(null);try{o(i,a)}finally{jn(c)}}function lA(i){return i[As]||(i[As]=[])}function oc(i){return i.cleanup||(i.cleanup=[])}function II(i,o){const a=i[Hi],c=a?a.get(lh,null):null;c&&c.handleError(o)}function D_(i,o,a,c,h){for(let f=0;f<a.length;){const y=a[f++],w=a[f++];__(i.data[y],o[y],c,w,h)}}function dA(i,o){const a=Si(o,i),c=a[it];!function hA(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(c,a);const h=a[Yn];null!==h&&null===a[zr]&&(a[zr]=$T(h,a[Hi])),C_(c,a,a[yn])}function C_(i,o,a){zu(o);try{const c=i.viewQuery;null!==c&&Nm(1,c,a);const h=i.template;null!==h&&hI(i,o,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&E_(i,o),i.staticViewQueries&&Nm(2,i.viewQuery,a);const f=i.components;null!==f&&function fA(i,o){for(let a=0;a<o.length;a++)dA(i,o[a])}(o,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[kt]&=-5,Ld()}}let Vo=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,h){const f=typeof Zone>"u"?null:Zone.current,y=new mf(a,A=>{this.all.has(A)&&this.queue.set(A,f)},h);let w;this.all.add(y),y.notify();const D=()=>{y.cleanup(),w?.(),this.all.delete(y),this.queue.delete(y)};return w=c?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=en({token:i,providedIn:"root",factory:()=>new i}),i})();function ip(i,o,a){let c=a?i.styles:null,h=a?i.classes:null,f=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?f=w:1==f?h=ke(h,w):2==f&&(c=ke(c,w+": "+o[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=h:i.classesWithoutHost=h}function sp(i,o,a,c,h=!1){for(;null!==a;){const f=o[a.index];if(null!==f&&c.push(vn(f)),Or(f)){for(let w=Sr;w<f.length;w++){const D=f[w],A=D[it].firstChild;null!==A&&sp(D[it],D,A,c)}f[hi]!==f[Yn]&&c.push(f[hi])}const y=a.type;if(8&y)sp(i,o,a.child,c);else if(32&y){const w=Qd(a,o);let D;for(;D=w();)c.push(D)}else if(16&y){const w=IE(o,a);if(Array.isArray(w))c.push(...w);else{const D=kf(o[An]);sp(D[it],D,w,c,!0)}}a=h?a.projectionNext:a.next}return c}function Pm(i,o,a,c=!0){const h=o[_o].rendererFactory;h.begin&&h.begin();try{iu(i,o,i.template,a)}catch(y){throw c&&II(o,y),y}finally{h.end&&h.end(),o[_o].effectManager?.flush()}}function iu(i,o,a,c){const h=o[kt];if(256!=(256&h)){o[_o].effectManager?.flush(),zu(o);try{xd(o),function Hu(i){return At.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&hI(i,o,a,2,c);const y=3==(3&h);if(y){const A=i.preOrderCheckHooks;null!==A&&Za(o,A,null)}else{const A=i.preOrderHooks;null!==A&&ul(o,A,0,null),Zu(o,0)}if(function Pi(i){for(let o=gE(i);null!==o;o=Kg(o)){if(!o[Eo])continue;const a=o[ea];for(let c=0;c<a.length;c++){Jc(a[c])}}}(o),b_(o,2),null!==i.contentQueries&&E_(i,o),y){const A=i.contentCheckHooks;null!==A&&Za(o,A)}else{const A=i.contentHooks;null!==A&&ul(o,A,1),Zu(o,1)}!function iA(i,o){const a=i.hostBindingOpCodes;if(null===a)return;const c=sI(o,$i);try{for(let h=0;h<a.length;h++){const f=a[h];if(f<0)Xs(~f);else{const y=f,w=a[++h],D=a[++h];za(w,y),c.runInContext(D,2,o[y])}}}finally{null===o[$i]&&oI(o,$i),Xs(-1)}}(i,o);const w=i.components;null!==w&&mA(o,w,0);const D=i.viewQuery;if(null!==D&&Nm(2,D,c),y){const A=i.viewCheckHooks;null!==A&&Za(o,A)}else{const A=i.viewHooks;null!==A&&ul(o,A,2),Zu(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[kt]&=-73,Lu(o)}finally{Ld()}}}function b_(i,o){for(let a=gE(i);null!==a;a=Kg(a))for(let c=Sr;c<a.length;c++)CI(a[c],o)}function uc(i,o,a){CI(Si(o,i),a)}function CI(i,o){if(!function Sd(i){return 128==(128&i[kt])}(i))return;const a=i[it];if(80&i[kt]&&0===o||1024&i[kt]||2===o)iu(a,i,a.template,i[yn]);else if(i[bu]>0){b_(i,1);const h=i[it].components;null!==h&&mA(i,h,1)}}function mA(i,o,a){for(let c=0;c<o.length;c++)uc(i,o[c],a)}class gh{get rootNodes(){const o=this._lView,a=o[it];return sp(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yn]}set context(o){this._lView[yn]=o}get destroyed(){return 256==(256&this._lView[kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Nn];if(Or(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(Lv(o,c),gl(a,c))}this._attachedToViewContainer=!1}Jg(this._lView[it],this._lView)}onDestroy(o){!function Mi(i,o){if(256==(256&i[kt]))throw new te(911,!1);null===i[Ar]&&(i[Ar]=[]),i[Ar].push(o)}(this._lView,o)}markForCheck(){ep(this._cdRefInjectingView||this._lView)}detach(){this._lView[kt]&=-129}reattach(){this._lView[kt]|=128}detectChanges(){Pm(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dR(i,o){Xd(i,o,o[Tt],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=o}}class bI extends gh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Pm(o[it],o,o[yn],!1)}checkNoChanges(){}get context(){return null}}class T_ extends Kf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Vt(o);return new mh(a,this.ngModule)}}function A_(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class AI{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=G(c);const h=this.injector.get(o,Xf,c);return h!==Xf||a===Xf?h:this.parentInjector.get(o,a,c)}}class mh extends Zf{get inputs(){return A_(this.componentDef.inputs)}get outputs(){return A_(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function gd(i){return i.map(xg).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,h){let f=(h=h||this.ngModule)instanceof Tl?h:h?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new AI(o,f):o,w=y.get(oi,null);if(null===w)throw new te(407,!1);const R={rendererFactory:w,sanitizer:y.get(i_,null),effectManager:y.get(Vo,null)},V=w.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",X=c?function pI(i,o,a,c){const f=c.get(tp,!1)||a===Et.ShadowDom,y=i.selectRootElement(o,f);return function kR(i){gI(i)}(y),y}(V,c,this.componentDef.encapsulation,y):Qg(V,W,function TI(i){const o=i.toLowerCase();return"svg"===o?Qc:"math"===o?"math":null}(W)),Ye=this.componentDef.signals?4608:this.componentDef.onPush?576:528,yt=xm(0,null,null,1,0,null,null,null,null,null,null),be=Ml(null,yt,null,Ye,null,null,R,V,y,null,null);let Ht,an;zu(be);try{const ln=this.componentDef;let bi,hg=null;ln.findHostDirectiveDefs?(bi=[],hg=new Map,ln.findHostDirectiveDefs(ln,bi,hg),bi.push(ln)):bi=[ln];const ZS=function MI(i,o){const a=i[it],c=sn;return i[c]=o,xl(a,c,2,"#host",null)}(be,X),KS=function xI(i,o,a,c,h,f,y){const w=h[it];!function RI(i,o,a,c){for(const h of i)o.mergedAttrs=nn(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(ip(o,o.mergedAttrs,!0),null!==a&&CE(c,a,o))}(c,i,o,y);let D=null;null!==o&&(D=$T(o,h[Hi]));const A=f.rendererFactory.createRenderer(o,a);let R=16;a.signals?R=4096:a.onPush&&(R=64);const V=Ml(h,p_(a),null,R,h[i.index],i,f,A,null,null,D);return w.firstCreatePass&&y_(w,i,c.length-1),rp(h,V),h[i.index]=V}(ZS,X,ln,bi,be,R,V);an=Ad(yt,sn),X&&function yA(i,o,a,c){if(c)ft(i,a,["ng-version",Jf.full]);else{const{attrs:h,classes:f}=function Iu(i){const o=[],a=[];let c=1,h=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===h?""!==f&&o.push(f,i[++c]):8===h&&a.push(f);else{if(!ei(h))break;h=f}c++}return{attrs:o,classes:a}}(o.selectors[0]);h&&ft(i,a,h),f&&f.length>0&&DE(i,a,f.join(" "))}}(V,ln,X,c),void 0!==a&&function PI(i,o,a){const c=i.projection=[];for(let h=0;h<o.length;h++){const f=a[h];c.push(null!=f?Array.from(f):null)}}(an,this.ngContentSelectors,a),Ht=function NI(i,o,a,c,h,f){const y=ur(),w=h[it],D=kr(y,h);aA(w,h,y,a,null,c);for(let R=0;R<a.length;R++)Ei(ro(h,w,y.directiveStart+R,y),h);vI(w,h,y),D&&Ei(D,h);const A=ro(h,w,y.directiveStart+y.componentOffset,y);if(i[yn]=h[yn]=A,null!==f)for(const R of f)R(A,o);return h_(w,y,i),A}(KS,ln,bi,hg,be,[OI]),C_(yt,be,null)}finally{Ld()}return new SI(this.componentType,Ht,ch(an,be),be,an)}}class SI extends zT{constructor(o,a,c,h,f){super(),this.location=c,this._rootLView=h,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new bI(h),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const f=this._rootLView;D_(f[it],f,h,o,a),this.previousInputValues.set(o,a),ep(Si(this._tNode.index,f))}}get injector(){return new xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function OI(){const i=ur();Wu(Ae()[it],i)}function km(i){let o=function Om(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let h;if(wn(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new te(903,!1);h=o.\u0275dir}if(h){if(a){c.push(h);const y=i;y.inputs=op(i.inputs),y.inputTransforms=op(i.inputTransforms),y.declaredInputs=op(i.declaredInputs),y.outputs=op(i.outputs);const w=h.hostBindings;w&&x_(i,w);const D=h.viewQuery,A=h.contentQueries;if(D&&kI(i,D),A&&FI(i,A),z(i.inputs,h.inputs),z(i.declaredInputs,h.declaredInputs),z(i.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),z(y.inputTransforms,h.inputTransforms)),wn(h)&&h.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let y=0;y<f.length;y++){const w=f[y];w&&w.ngInherit&&w(i),w===km&&(a=!1)}}o=Object.getPrototypeOf(o)}!function M_(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const h=i[c];h.hostVars=o+=h.hostVars,h.hostAttrs=nn(h.hostAttrs,a=nn(a,h.hostAttrs))}}(c)}function op(i){return i===wt?{}:i===ht?[]:i}function kI(i,o){const a=i.viewQuery;i.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function FI(i,o){const a=i.contentQueries;i.contentQueries=a?(c,h,f)=>{o(c,h,f),a(c,h,f)}:o}function x_(i,o){const a=i.hostBindings;i.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}function Nl(i){const o=i.inputConfig,a={};for(const c in o)if(o.hasOwnProperty(c)){const h=o[c];Array.isArray(h)&&h[2]&&(a[c]=h[2])}i.inputTransforms=a}function yh(i){return!!up(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function up(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Xi(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function jI(i,o,a,c){const h=Ae();return Xi(h,Sn(),o)&&(tn(),nu(In(),h,i,o,a,c)),jI}function Pl(i,o,a,c){return Xi(i,Sn(),a)?o+se(a)+c:jt}function DA(i,o,a,c,h,f,y,w){const D=Ae(),A=tn(),R=i+sn,V=A.firstCreatePass?function ZI(i,o,a,c,h,f,y,w,D){const A=o.consts,R=xl(o,i,4,y||null,cs(A,w));np(o,a,R,cs(A,D)),Wu(o,R);const V=R.tView=xm(2,R,c,h,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A,null);return null!==o.queries&&(o.queries.template(o,R),V.queries=o.queries.embeddedTView(R)),R}(R,A,D,o,a,c,h,f,y):A.data[R];qr(V,!1);const W=KI(A,D,V,i);Wa()&&Xg(A,D,W,V),Ei(W,D),rp(D,D[R]=w_(W,D,W,V)),qs(V)&&f_(A,D,V),null!=y&&Mm(D,V,w)}let KI=function $_(i,o,a,c){return To(!0),o[Tt].createComment("")};function CA(i){return Ys(function nl(){return At.lFrame.contextLView}(),sn+i)}function G_(i,o,a){const c=Ae();return Xi(c,Sn(),o)&&ms(tn(),In(),c,i,o,c[Tt],a,!1),G_}function Gm(i,o,a,c,h){const y=h?"class":"style";D_(i,a,o.inputs[y],y,c)}function vp(i,o,a,c){const h=Ae(),f=tn(),y=sn+i,w=h[Tt],D=f.firstCreatePass?function bA(i,o,a,c,h,f){const y=o.consts,D=xl(o,i,2,c,cs(y,h));return np(o,a,D,cs(y,f)),null!==D.attrs&&ip(D,D.attrs,!1),null!==D.mergedAttrs&&ip(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(y,f,h,o,a,c):f.data[y],A=YI(f,h,D,w,o,i);h[y]=A;const R=qs(D);return qr(D,!0),CE(w,A,D),32!=(32&D.flags)&&Wa()&&Xg(f,h,A,D),0===function Og(){return At.lFrame.elementDepthCount}()&&Ei(A,h),function el(){At.lFrame.elementDepthCount++}(),R&&(f_(f,h,D),h_(f,D,h)),null!==c&&Mm(h,D),vp}function Ia(){let i=ur();Df()?function Hn(){At.lFrame.isParent=!1}():(i=i.parent,qr(i,!1));const o=i;(function Vu(i){return At.skipHydrationRootTNode===i})(o)&&function Ef(){At.skipHydrationRootTNode=null}(),function _f(){At.lFrame.elementDepthCount--}();const a=tn();return a.firstCreatePass&&(Wu(a,i),Oc(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function bf(i){return 0!=(8&i.flags)}(o)&&Gm(a,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ua(i){return 0!=(16&i.flags)}(o)&&Gm(a,o,Ae(),o.stylesWithoutHost,!1),Ia}function lc(i,o,a,c){return vp(i,o,a,c),Ia(),lc}let YI=(i,o,a,c,h,f)=>(To(!0),Qg(c,h,function Bd(){return At.lFrame.currentNamespace}()));function tD(){return Ae()}function qm(i){return!!i&&"function"==typeof i.then}function nD(i){return!!i&&"function"==typeof i.subscribe}function _p(i,o,a,c){const h=Ae(),f=tn(),y=ur();return function iD(i,o,a,c,h,f,y){const w=qs(c),A=i.firstCreatePass&&oc(i),R=o[yn],V=lA(o);let W=!0;if(3&c.type||y){const Fe=kr(c,o),Ye=y?y(Fe):Fe,yt=V.length,be=y?an=>y(vn(an[c.index])):c.index;let Ht=null;if(!y&&w&&(Ht=function W_(i,o,a,c){const h=i.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const y=h[f];if(y===a&&h[f+1]===c){const w=o[As],D=h[f+2];return w.length>D?w[D]:null}"string"==typeof y&&(f+=2)}return null}(i,o,h,c.index)),null!==Ht)(Ht.__ngLastListenerFn__||Ht).__ngNextListenerFn__=f,Ht.__ngLastListenerFn__=f,W=!1;else{f=Z_(c,o,R,f,!1);const an=a.listen(Ye,h,f);V.push(f,an),A&&A.push(h,be,yt,yt+1)}}else f=Z_(c,o,R,f,!1);const X=c.outputs;let Ie;if(W&&null!==X&&(Ie=X[h])){const Fe=Ie.length;if(Fe)for(let Ye=0;Ye<Fe;Ye+=2){const ln=o[Ie[Ye]][Ie[Ye+1]].subscribe(f),bi=V.length;V.push(f,ln),A&&A.push(h,c.index,bi,-(bi+1))}}}(f,h,h[Tt],y,i,o,c),_p}function Wm(i,o,a,c){try{return zi(6,o,a),!1!==a(c)}catch(h){return II(i,h),!1}finally{zi(7,o,a)}}function Z_(i,o,a,c,h){return function f(y){if(y===Function)return c;ep(i.componentOffset>-1?Si(i.index,o):o);let D=Wm(o,a,c,y),A=f.__ngNextListenerFn__;for(;A;)D=Wm(o,a,A,y)&&D,A=A.__ngNextListenerFn__;return h&&!1===D&&y.preventDefault(),D}}function sD(i=1){return function Ud(i){return(At.lFrame.contextLView=function Fg(i,o){for(;i>0;)o=o[zs],i--;return o}(i,At.lFrame.contextLView))[yn]}(i)}function K_(i,o,a){return wp(i,"",o,"",a),K_}function wp(i,o,a,c,h){const f=Ae(),y=Pl(f,o,a,c);return y!==jt&&ms(tn(),In(),f,i,y,f[Tt],h,!1),wp}function Ep(i,o){return i<<17|o<<2}function ys(i){return i>>17&32767}function J_(i){return 2|i}function dc(i){return(131068&i)>>2}function X_(i,o){return-131069&i|o<<2}function kl(i){return 1|i}function Ip(i,o,a,c,h){const f=i[a+1],y=null===o;let w=c?ys(f):dc(f),D=!1;for(;0!==w&&(!1===D||y);){const R=i[w+1];PA(i[w],o)&&(D=!0,i[w+1]=c?kl(R):J_(R)),w=c?ys(R):dc(R)}D&&(i[a+1]=c?J_(f):kl(f))}function PA(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&U(i,o)>=0}function e0(i,o,a){return ao(i,o,a,!1),e0}function yD(i,o){return ao(i,o,null,!0),yD}function ao(i,o,a,c){const h=Ae(),f=tn(),y=function ds(i){const o=At.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);f.firstUpdatePass&&function st(i,o,a,c){const h=i.data;if(null===h[a+1]){const f=h[ni()],y=function uo(i,o){return o>=i.expandoStartIndex}(i,a);(function s0(i,o){return 0!=(i.flags&(o?8:16))})(f,c)&&null===o&&!y&&(o=!1),o=function n0(i,o,a,c){const h=function qa(i){const o=At.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let f=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=Fl(a=r0(null,i,o,a,c),o.attrs,c),f=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==h)if(a=r0(h,i,o,a,c),null===f){let D=function zt(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==dc(c))return i[ys(c)]}(i,o,c);void 0!==D&&Array.isArray(D)&&(D=r0(null,i,o,D[1],c),D=Fl(D,o.attrs,c),function Ym(i,o,a,c){i[ys(a?o.classBindings:o.styleBindings)]=c}(i,o,c,D))}else f=function Cp(i,o,a){let c;const h=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<h;f++)c=Fl(c,i[f].hostAttrs,a);return Fl(c,o.attrs,a)}(i,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),a}(h,f,o,c),function Km(i,o,a,c,h,f){let y=f?o.classBindings:o.styleBindings,w=ys(y),D=dc(y);i[c]=a;let R,A=!1;if(Array.isArray(a)?(R=a[1],(null===R||U(a,R)>0)&&(A=!0)):R=a,h)if(0!==D){const W=ys(i[w+1]);i[c+1]=Ep(W,w),0!==W&&(i[W+1]=X_(i[W+1],c)),i[w+1]=function hD(i,o){return 131071&i|o<<17}(i[w+1],c)}else i[c+1]=Ep(w,0),0!==w&&(i[w+1]=X_(i[w+1],c)),w=c;else i[c+1]=Ep(D,0),0===w?w=c:i[D+1]=X_(i[D+1],c),D=c;A&&(i[c+1]=J_(i[c+1])),Ip(i,R,c,!0),Ip(i,R,c,!1),function NA(i,o,a,c,h){const f=h?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof o&&U(f,o)>=0&&(a[c+1]=kl(a[c+1]))}(o,R,i,c,f),y=Ep(w,D),f?o.classBindings=y:o.styleBindings=y}(h,f,o,a,y,c)}}(f,i,y,c),o!==jt&&Xi(h,y,o)&&function bp(i,o,a,c,h,f,y,w){if(!(3&o.type))return;const D=i.data,A=D[w+1],R=function xA(i){return 1==(1&i)}(A)?Zr(D,o,a,h,dc(A),y):void 0;Go(R)||(Go(f)||function MA(i){return 2==(2&i)}(A)&&(f=Zr(D,null,a,h,w,y)),function uT(i,o,a,c,h){if(o)h?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:ma.DashCase;null==h?i.removeStyle(a,c,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=ma.Important),i.setStyle(a,c,h,f))}}(c,y,ia(ni(),a),h,f))}(f,f.data[ni()],h,h[Tt],i,h[y+1]=function BA(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=ne(Lo(i)))),i}(o,a),c,y)}function r0(i,o,a,c,h){let f=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(f=o[w],c=Fl(c,f.hostAttrs,h),f!==i);)w++;return null!==i&&(a.directiveStylingLast=w),c}function Fl(i,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let f=0;f<o.length;f++){const y=o[f];"number"==typeof y?h=y:h===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),b(i,y,!!a||o[++f]))}return void 0===i?null:i}function Zr(i,o,a,c,h,f){const y=null===o;let w;for(;h>0;){const D=i[h],A=Array.isArray(D),R=A?D[1]:D,V=null===R;let W=a[h+1];W===jt&&(W=V?ht:void 0);let X=V?S(W,c):R===c?W:void 0;if(A&&!Go(X)&&(X=S(D,c)),Go(X)&&(w=X,y))return w;const Ie=i[h+1];h=y?ys(Ie):dc(Ie)}if(null!==o){let D=f?o.residualClasses:o.residualStyles;null!=D&&(w=S(D,c))}return w}function Go(i){return void 0!==i}function Qm(i,o=""){const a=Ae(),c=tn(),h=i+sn,f=c.firstCreatePass?xl(c,h,1,o,null):c.data[h],y=o0(c,a,f,o,i);a[h]=y,Wa()&&Xg(c,a,y,f),qr(f,!1)}let o0=(i,o,a,c,h)=>(To(!0),function Lf(i,o){return i.createText(o)}(o[Tt],c));function Ll(i){return Ul("",i,""),Ll}function Ul(i,o,a){const c=Ae(),h=Pl(c,i,o,a);return h!==jt&&function ru(i,o,a){const c=ia(o,i);!function Fv(i,o,a){i.setValue(o,a)}(i[Tt],c,a)}(c,ni(),h),Ul}const hc=void 0;var bD=["en",[["a","p"],["AM","PM"],hc],[["AM","PM"],hc,hc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hc,"{1} 'at' {0}",hc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function w0(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Ch={};function Mp(i){const o=function ZA(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=ai(o);if(a)return a;const c=o.split("-")[0];if(a=ai(c),a)return a;if("en"===c)return bD;throw new te(701,!1)}function Kr(i){return Mp(i)[St.PluralCase]}function ai(i){return i in Ch||(Ch[i]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[i]),Ch[i]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const Bl="en-US";let uy=Bl;function wy(i,o,a,c,h){if(i=xe(i),Array.isArray(i))for(let f=0;f<i.length;f++)wy(i[f],o,a,c,h);else{const f=tn(),y=Ae();let w=ih(i)?i:xe(i.provide),D=$E(i);const A=ur(),R=1048575&A.providerIndexes,V=A.directiveStart,W=A.providerIndexes>>20;if(ih(i)||!i.multi){const X=new pt(D,h,fh),Ie=Iy(w,o,h?R:R+W,V);-1===Ie?(Yu(no(A,y),f,w),Up(f,i,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(X),y.push(X)):(a[Ie]=X,y[Ie]=X)}else{const X=Iy(w,o,R+W,V),Ie=Iy(w,o,R,R+W),Ye=Ie>=0&&a[Ie];if(h&&!Ye||!h&&!(X>=0&&a[X])){Yu(no(A,y),f,w);const yt=function fS(i,o,a,c,h){const f=new pt(i,a,fh);return f.multi=[],f.index=o,f.componentProviders=0,Ey(f,h,c&&!a),f}(h?hS:QD,a.length,h,c,D);!h&&Ye&&(a[Ie].providerFactory=yt),Up(f,i,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(yt),y.push(yt)}else Up(f,i,X>-1?X:Ie,Ey(a[h?Ie:X],D,!h&&c));!h&&c&&Ye&&a[Ie].componentProviders++}}}function Up(i,o,a,c){const h=ih(o),f=function DR(i){return!!i.useClass}(o);if(h||f){const D=(f?xe(o.useClass):o).prototype.ngOnDestroy;if(D){const A=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const R=A.indexOf(a);-1===R?A.push(a,[c,D]):A[R+1].push(c,D)}else A.push(a,D)}}}function Ey(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Iy(i,o,a,c){for(let h=a;h<c;h++)if(o[h]===i)return h;return-1}function QD(i,o,a,c){return R0(this.multi,[])}function hS(i,o,a,c){const h=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=ro(a,a[it],this.providerFactory.index,c);f=w.slice(0,y),R0(h,f);for(let D=y;D<w.length;D++)f.push(w[D])}else f=[],R0(h,f);return f}function R0(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function JD(i,o=[]){return a=>{a.providersResolver=(c,h)=>function YD(i,o,a){const c=tn();if(c.firstCreatePass){const h=wn(i);wy(a,c.data,c.blueprint,h,!0),wy(o,c.data,c.blueprint,h,!1)}}(c,h?h(i):i,o)}}class hu{}class xh{}function Dy(i,o){return new Cy(i,o??null,[])}class Cy extends hu{constructor(o,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new T_(this);const h=$r(o);this._bootstrapComponents=Uo(h.bootstrap),this._r3Injector=lI(o,a,[{provide:hu,useValue:this},{provide:Kf,useValue:this.componentFactoryResolver},...c],ne(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Wl extends xh{constructor(o){super(),this.moduleType=o}create(o){return new Cy(this.moduleType,o,[])}}class eC extends hu{constructor(o){super(),this.componentFactoryResolver=new T_(this),this.instance=null;const a=new qf([...o.providers,{provide:hu,useValue:this},{provide:Kf,useValue:this.componentFactoryResolver}],o.parent||ym(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function dr(i,o,a=null){return new eC({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let tC=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=RT(0,a.type),h=c.length>0?dr([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=en({token:i,providedIn:"environment",factory:()=>new i(Tn(Tl))}),i})();function nC(i){i.getStandaloneInjector=o=>o.get(tC).getOrCreateStandaloneInjector(i)}function U0(i,o,a,c,h,f){const y=o+a;return Xi(i,y,h)?function ou(i,o,a){return i[o]=a}(i,y+1,f?c.call(f,h):c(h)):function Rh(i,o){const a=i[o];return a===jt?void 0:a}(i,y+1)}function H0(i,o){const a=tn();let c;const h=i+sn;a.firstCreatePass?(c=function xy(i,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(i===c.name)return c}}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks??=[]).push(h,c.onDestroy)):c=a.data[h];const f=c.factory||(c.factory=Ws(c.type)),y=Qt(fh);try{const w=So(!1),D=f();return So(w),function r1(i,o,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=c}(a,Ae(),h,D),D}finally{Qt(y)}}function $0(i,o,a){const c=i+sn,h=Ae(),f=Ys(h,c);return function Zl(i,o){return i[it].data[o].pure}(h,c)?U0(h,function Mr(){const i=At.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}(),o,f.transform,a,f):f.transform(a)}function G0(i){return o=>{setTimeout(i,void 0,o)}}const lo=class Dn extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let h=o,f=a||(()=>null),y=c;if(o&&"object"==typeof o){const D=o;h=D.next?.bind(D),f=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(f=G0(f),h&&(h=G0(h)),y&&(y=G0(y)));const w=super.subscribe({next:h,error:f,complete:y});return o instanceof B.w0&&o.add(w),w}};function Ca(){return this._results[Symbol.iterator]()}class Ry{get changes(){return this._changes||(this._changes=new lo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ry.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Ca)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=function wi(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Qi(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let h=i[c],f=o[c];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kl=(()=>{class i{}return i.__NG_ELEMENT_ID__=gC,i})();const Ph=Kl,z0=class extends Ph{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a,null)}createEmbeddedViewImpl(o,a,c){const y=this._declarationTContainer.tView,w=Ml(this._declarationLView,y,o,4096&this._declarationLView[kt]?4096:16,null,y.declTNode,null,null,null,a||null,c||null);w[Au]=this._declarationLView[this._declarationTContainer.index];const A=this._declarationLView[os];return null!==A&&(w[os]=A.createEmbeddedView(y)),C_(y,w,o),new gh(w)}};function gC(){return ho(ur(),Ae())}function ho(i,o){return 4&i.type?new z0(o,i,ch(i,o)):null}let Fh=(()=>{class i{}return i.__NG_ELEMENT_ID__=vS,i})();function vS(){return vC(ur(),Ae())}const _S=Fh,W0=class extends _S{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return ch(this._hostTNode,this._hostLView)}get injector(){return new xs(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ki(this._hostTNode,this._hostLView);if(Pt(o)){const a=ca(o,this._hostLView),c=gi(o);return new xs(a[it].data[c+8],a)}return new xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=yC(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Sr}createEmbeddedView(o,a,c){let h,f;"number"==typeof c?h=c:null!=c&&(h=c.index,f=c.injector);const w=o.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(w,h,false),w}createComponent(o,a,c,h,f){const y=o&&!function Ya(i){return"function"==typeof i}(o);let w;if(y)w=a;else{const Fe=a||{};w=Fe.index,c=Fe.injector,h=Fe.projectableNodes,f=Fe.environmentInjector||Fe.ngModuleRef}const D=y?o:new mh(Vt(o)),A=c||this.parentInjector;if(!f&&null==D.ngModule){const Ye=(y?A:this.parentInjector).get(Tl,null);Ye&&(f=Ye)}Vt(D.componentType??{});const X=D.create(A,h,null,f);return this.insertImpl(X.hostView,w,false),X}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,c){const h=o._lView,f=h[it];if(function Md(i){return Or(i[Nn])}(h)){const D=this.indexOf(o);if(-1!==D)this.detach(D);else{const A=h[Nn],R=new W0(A,A[Tr],A[Nn]);R.detach(R.indexOf(o))}}const y=this._adjustIndex(a),w=this._lContainer;if(function rT(i,o,a,c){const h=Sr+c,f=a.length;c>0&&(a[h-1][Gr]=o),c<f-Sr?(o[Gr]=a[h],pl(a,Sr+c,o)):(a.push(o),o[Gr]=null),o[Nn]=a;const y=o[Au];null!==y&&a!==y&&function fR(i,o){const a=i[ea];o[An]!==o[Nn][Nn][An]&&(i[Eo]=!0),null===a?i[ea]=[o]:a.push(o)}(y,o);const w=o[os];null!==w&&w.insertView(i),o[kt]|=128}(f,h,w,y),!c){const D=Vv(y,w),A=h[Tt],R=eu(A,w[hi]);null!==R&&function lR(i,o,a,c,h,f){c[Yn]=h,c[Tr]=o,Xd(i,c,a,1,h,f)}(f,w[Tr],A,h,R,D)}return o.attachToViewContainerRef(),pl(Lh(w),y,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=yC(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Lv(this._lContainer,a);c&&(gl(Lh(this._lContainer),a),Jg(c[it],c))}detach(o){const a=this._adjustIndex(o,-1),c=Lv(this._lContainer,a);return c&&null!=gl(Lh(this._lContainer),a)?new gh(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function yC(i){return i[8]}function Lh(i){return i[8]||(i[8]=[])}function vC(i,o){let a;const c=o[i.index];return Or(c)?a=c:(a=w_(c,o,null,i),o[i.index]=a,rp(o,a)),Yl(a,o,i,c),new W0(a,i,o)}let Yl=function Z0(i,o,a,c){if(i[hi])return;let h;h=8&a.type?vn(c):function wS(i,o){const a=i[Tt],c=a.createComment(""),h=kr(o,i);return Il(a,eu(a,h),c,function Bf(i,o){return i.nextSibling(o)}(a,h),!1),c}(o,a),i[hi]=h};class ba{constructor(o){this.queryList=o,this.matches=null}clone(){return new ba(this.queryList)}setDirty(){this.queryList.setDirty()}}class $p{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);h.push(this.queries[y.indexInDeclarationView].clone())}return new $p(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==DC(o,a).matches&&this.queries[a].setDirty()}}class _C{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Ue{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(o,h);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new Ue(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class hr{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new hr(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const f=c[h];this.matchTNodeWithReadOption(o,a,fo(a,f)),this.matchTNodeWithReadOption(o,a,xo(a,o,f,!1,!1))}else c===Kl?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,xo(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Yf||h===Fh||h===Kl&&4&a.type)this.addMatch(a.index,-2);else{const f=xo(a,o,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function fo(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function ct(i,o,a,c){return-1===a?function K0(i,o){return 11&i.type?ch(i,o):4&i.type?ho(i,o):null}(o,i):-2===a?function bt(i,o,a){return a===Yf?ch(o,i):a===Kl?ho(o,i):a===Fh?vC(o,i):void 0}(i,o,c):ro(i,i[it],a,o)}function wC(i,o,a,c){const h=o[os].queries[c];if(null===h.matches){const f=i.data,y=a.matches,w=[];for(let D=0;D<y.length;D+=2){const A=y[D];w.push(A<0?null:ct(o,f[A],y[D+1],a.metadata.read))}h.matches=w}return h.matches}function Xe(i,o,a,c){const h=i.queries.getByIndex(a),f=h.matches;if(null!==f){const y=wC(i,o,h,a);for(let w=0;w<f.length;w+=2){const D=f[w];if(D>0)c.push(y[w/2]);else{const A=f[w+1],R=o[-D];for(let V=Sr;V<R.length;V++){const W=R[V];W[Au]===W[Nn]&&Xe(W[it],W,A,c)}if(null!==R[ea]){const V=R[ea];for(let W=0;W<V.length;W++){const X=V[W];Xe(X[it],X,A,c)}}}}}return c}function ce(i){const o=Ae(),a=tn(),c=Gu();Qs(c+1);const h=DC(a,c);if(i.dirty&&function vf(i){return 4==(4&i[kt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const f=h.crossesNgTemplate?Xe(a,o,c,[]):wC(a,o,h,c);i.reset(f,ZT),i.notifyOnChanges()}return!0}return!1}function Vr(i,o,a,c){const h=tn();if(h.firstCreatePass){const f=ur();(function IC(i,o,a){null===i.queries&&(i.queries=new Ue),i.queries.track(new hr(o,a))})(h,new _C(o,a,c),f.index),function IS(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function EC(i,o,a){const c=new Ry(4==(4&a));(function g_(i,o,a,c){const h=lA(o);h.push(a),i.firstCreatePass&&oc(i).push(c,h.length-1)})(i,o,c,c.destroy),null===o[os]&&(o[os]=new $p),o[os].queries.push(new ba(c))}(h,Ae(),a)}function Y0(){return function ES(i,o){return i[os].queries[o].queryList}(Ae(),Gu())}function DC(i,o){return i.queries.getByIndex(o)}function zn(i){return!!$r(i)}const PC=new mn("Application Initializer");let iw=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=Jt(PC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const f=h();if(qm(f))a.push(f);else if(nD(f)){const y=new Promise((w,D)=>{f.subscribe({complete:w,error:D})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),OC=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const By=new mn("LocaleId",{providedIn:"root",factory:()=>Jt(By,Ze.Optional|Ze.SkipSelf)||function SS(){return typeof $localize<"u"&&$localize.locale||Bl}()}),MS=new mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let sw=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class NS{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let ow=(()=>{class i{compileModuleSync(a){return new Wl(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=Uo($r(a).declarations).reduce((y,w)=>{const D=Vt(w);return D&&y.push(new mh(D)),y},[]);return new NS(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const er=(()=>Promise.resolve(0))();function jy(i){typeof Zone>"u"?er.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}function Xl(...i){}class ts{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lo(!1),this.onMicrotaskEmpty=new lo(!1),this.onStable=new lo(!1),this.onError=new lo(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function vs(){let i=Wt.requestAnimationFrame,o=Wt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Er(i){const o=()=>{!function _c(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Wt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Wo(i),i.isCheckStableRunning=!0,cw(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Wo(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,f,y,w)=>{try{return Yp(i),a.invokeTask(h,f,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&o(),Qp(i)}},onInvoke:(a,c,h,f,y,w,D)=>{try{return Yp(i),a.invoke(h,f,y,w,D)}finally{i.shouldCoalesceRunChangeDetection&&o(),Qp(i)}},onHasTask:(a,c,h,f)=>{a.hasTask(h,f),c===h&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Wo(i),cw(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,h,f)=>(a.handleError(h,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ts.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(ts.isInAngularZone())throw new te(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+h,o,Yr,Xl,Xl);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const Yr={};function cw(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Wo(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Yp(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Qp(i){i._nesting--,cw(i)}class Jp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lo,this.onMicrotaskEmpty=new lo,this.onStable=new lo,this.onError=new lo}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}const kC=new mn("",{providedIn:"root",factory:gu});function gu(){const i=Jt(ts);let o=!0;const a=new Q.y(h=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(o),h.complete()})}),c=new Q.y(h=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{ts.assertNotInAngularZone(),jy(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,h.next(!0))})})});const y=i.onUnstable.subscribe(()=>{ts.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,ie.T)(a,c.pipe((0,ve.B)()))}const mu=new mn(""),Xp=new mn("");let Sa,wc=(()=>{class i{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sa||(function eg(i){Sa=i}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ts.assertNotInAngularZone(),jy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jy(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Tn(ts),Tn(Zo),Tn(Xp))},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})(),Zo=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Sa?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),yu=null;const ed=new mn("AllowMultipleToken"),tg=new mn("PlatformDestroyListeners"),Bh=new mn("appBootstrapListener");class UC{constructor(o,a){this.name=o,this.token=a}}function VC(i,o,a=[]){const c=`Platform: ${o}`,h=new mn(c);return(f=[])=>{let y=$y();if(!y||y.injector.get(ed,!1)){const w=[...a,...f,{provide:h,useValue:!0}];i?i(w):function Hy(i){if(yu&&!yu.get(ed,!1))throw new te(400,!1);(function jh(){!function bd(i){Cd=i}(()=>{throw new te(600,!1)})})(),yu=i;const o=i.get(qn);(function lw(i){i.get(LT,null)?.forEach(a=>a())})(i)}(function dw(i=[],o){return sc.create({name:o,providers:[{provide:HE,useValue:"platform"},{provide:tg,useValue:new Set([()=>yu=null])},...i]})}(w,c))}return function BC(i){const o=$y();if(!o)throw new te(401,!1);return o}()}}function $y(){return yu?.get(qn)??null}let qn=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function jC(i="zone.js",o){return"noop"===i?new Jp:"zone.js"===i?new ts(o):i}(c?.ngZone,function vu(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return h.run(()=>{const f=function Vp(i,o,a){return new Cy(i,o,a)}(a.moduleType,this.injector,function pw(i){return[{provide:ts,useFactory:i},{provide:fm,multi:!0,useFactory:()=>{const o=Jt(fw,{optional:!0});return()=>o.initialize()}},{provide:En,useFactory:$h},{provide:kC,useFactory:gu}]}(()=>h)),y=f.injector.get(lh,null);return h.runOutsideAngular(()=>{const w=h.onError.subscribe({next:D=>{y.handleError(D)}});f.onDestroy(()=>{rg(this._modules,f),w.unsubscribe()})}),function hw(i,o,a){try{const c=a();return qm(c)?c.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(y,h,()=>{const w=f.injector.get(iw);return w.runInitializers(),w.donePromise.then(()=>(function I0(i){nt(i,"Expected localeId to be defined"),"string"==typeof i&&(uy=i.toLowerCase().replace(/_/g,"-"))}(f.injector.get(By,Bl)||Bl),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,c=[]){const h=nd({},c);return function td(i,o,a){const c=new Wl(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(a){const c=a.injector.get(Hh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new te(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(tg,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Tn(sc))},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function nd(i,o){return Array.isArray(o)?o.reduce(nd,i):{...i,...o}}let Hh=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Jt(En),this.zoneIsStable=Jt(kC),this.componentTypes=[],this.components=[],this.isStable=Jt(sw).hasPendingTasks.pipe((0,Se.w)(a=>a?(0,pe.of)(!1):this.zoneIsStable),(0,ge.x)(),(0,ve.B)()),this._injector=Jt(Tl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof Zf;if(!this._injector.get(iw).done)throw!h&&Ts(a),new te(405,!1);let y;y=h?a:this._injector.get(Kf).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const w=function LC(i){return i.isBoundToModule}(y)?void 0:this._injector.get(hu),A=y.create(sc.NULL,[],c||y.selector,w),R=A.location.nativeElement,V=A.injector.get(mu,null);return V?.registerApplication(R),A.onDestroy(()=>{this.detachView(A.hostView),rg(this.components,A),V?.unregisterApplication(R)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;rg(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Bh,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>rg(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new te(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function rg(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}const En=new mn("",{providedIn:"root",factory:()=>Jt(lh).handleError.bind(void 0)});function $h(){const i=Jt(ts),o=Jt(lh);return a=>i.runOutsideAngular(()=>o.handleError(a))}let fw=(()=>{class i{constructor(){this.zone=Jt(ts),this.applicationRef=Jt(Hh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function $C(){return!1}let LS=(()=>{class i{}return i.__NG_ELEMENT_ID__=zC,i})();function zC(i){return function US(i,o,a){if(Gi(i)&&!a){const c=Si(i.index,o);return new gh(c,c)}return 47&i.type?new gh(o[An],o):null}(ur(),Ae(),16==(16&i))}class sg{constructor(){}supports(o){return yh(o)}create(o){return new KC(o)}}const og=(i,o)=>o;class KC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||og}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<_w(c,h,f)?a:c,w=_w(y,h,f),D=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{f||(f=[]);const A=w-h,R=D-h;if(A!=R){for(let W=0;W<A;W++){const X=W<f.length?f[W]:f[W]=0,Ie=X+W;R<=Ie&&Ie<A&&(f[W]=X+1)}f[y.previousIndex]=R-A}}w!==D&&o(y,w,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!yh(o))throw new te(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,f,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)f=o[w],y=this._trackByFn(w,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,w)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,w),c=!0),a=a._next}else h=0,function _A(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,w=>{y=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,w,y,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,f,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,f,h)):o=this._addAfter(new yw(a,c),f,h),o}_verifyReinsertion(o,a,c,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,f=o._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new vw),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class yw{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ag{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class vw{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new ag,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _w(i,o,a){const c=i.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class YC{constructor(){}supports(o){return o instanceof Map||up(o)}create(){return new _u}}class _u{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||up(o)))throw new te(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const f=h._prev,y=h._next;return f&&(f._next=y),y&&(y._prev=f),h._next=null,h._prev=null,h}const c=new BS(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class BS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ns(){return new Wy([new sg])}let Wy=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||ns()),deps:[[i,new Wr,new Ns]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new te(901,!1)}}return i.\u0275prov=en({token:i,providedIn:"root",factory:ns}),i})();function ww(){return new po([new YC])}let po=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||ww()),deps:[[i,new Wr,new Ns]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new te(901,!1)}}return i.\u0275prov=en({token:i,providedIn:"root",factory:ww}),i})();const Yt=VC(null,"core",[]);let jS=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Tn(Hh))},i.\u0275mod=Oa({type:i}),i.\u0275inj=ar({}),i})();function eb(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function xw(i){const o=Vt(i);if(!o)return null;const a=new mh(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3106:(gt,Ce,L)=>{L.d(Ce,{Z:()=>qe});var d=L(9058),B=L(4537),P=L(534),Q=L(7879);class ie{constructor(We,Pe){this._delegate=We,this.firebase=Pe,(0,P._addComponent)(We,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(We,Pe=P._DEFAULT_ENTRY_NAME){var Dt;this._delegate.checkDestroyed();const lt=this._delegate.container.getProvider(We);return!lt.isInitialized()&&"EXPLICIT"===(null===(Dt=lt.getComponent())||void 0===Dt?void 0:Dt.instantiationMode)&&lt.initialize(),lt.getImmediate({identifier:Pe})}_removeServiceInstance(We,Pe=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(Pe)}_addComponent(We){(0,P._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,P._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ge(){const xe=function Se(xe){const We={},Pe={__esModule:!0,initializeApp:function te(Ne,ee={}){const tt=P.initializeApp(Ne,ee);if((0,d.r3)(We,tt.name))return We[tt.name];const je=new xe(tt,Pe);return We[tt.name]=je,je},app:lt,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function se(Ne){const ee=Ne.name,tt=ee.replace("-compat","");if(P._registerComponent(Ne)&&"PUBLIC"===Ne.type){const je=(Xt=lt())=>{if("function"!=typeof Xt[tt])throw ve.create("invalid-app-argument",{appName:ee});return Xt[tt]()};void 0!==Ne.serviceProps&&(0,d.ZB)(je,Ne.serviceProps),Pe[tt]=je,xe.prototype[tt]=function(...Xt){return this._getService.bind(this,ee).apply(this,Ne.multipleInstances?Xt:[])}}return"PUBLIC"===Ne.type?Pe[tt]:null},removeApp:function Dt(Ne){delete We[Ne]},useAsService:function fe(Ne,ee){return"serverAuth"===ee?null:ee},modularAPIs:P}};function lt(Ne){if(!(0,d.r3)(We,Ne=Ne||P._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:Ne});return We[Ne]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function De(){return Object.keys(We).map(Ne=>We[Ne])}}),lt.App=xe,Pe}(ie);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function We(Pe){(0,d.ZB)(xe,Pe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),xe}(),z=new Q.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=$;!function Me(xe){(0,P.registerVersion)("@firebase/app-compat","0.2.12",xe)}()},534:(gt,Ce,L)=>{L.r(Ce),L.d(Ce,{FirebaseError:()=>Q.ZR,SDK_VERSION:()=>ji,_DEFAULT_ENTRY_NAME:()=>Ze,_addComponent:()=>nr,_addOrOverwriteComponent:()=>Xr,_apps:()=>Ct,_clearComponents:()=>hn,_components:()=>Qt,_getProvider:()=>Wn,_registerComponent:()=>Wt,_removeServiceInstance:()=>ss,deleteApp:()=>_n,getApp:()=>Cr,getApps:()=>Un,initializeApp:()=>Cs,onLog:()=>rr,registerVersion:()=>bn,setLogLevel:()=>Tn});var d=L(5861),B=L(4537),P=L(7879),Q=L(9058);const ie=(he,re)=>re.some(Le=>he instanceof Le);let pe,ve;const $=new WeakMap,z=new WeakMap,ne=new WeakMap,ke=new WeakMap,Me=new WeakMap;let We={get(he,re,Le){if(he instanceof IDBTransaction){if("done"===re)return z.get(he);if("objectStoreNames"===re)return he.objectStoreNames||ne.get(he);if("store"===re)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return te(he[re])},set:(he,re,Le)=>(he[re]=Le,!0),has:(he,re)=>he instanceof IDBTransaction&&("done"===re||"store"===re)||re in he};function lt(he){return"function"==typeof he?function Dt(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...re){return he.apply(De(this),re),te($.get(this))}:function(...re){return te(he.apply(De(this),re))}:function(re,...Le){const ft=he.call(De(this),re,...Le);return ne.set(ft,re.sort?re.sort():[re]),te(ft)}}(he):(he instanceof IDBTransaction&&function xe(he){if(z.has(he))return;const re=new Promise((Le,ft)=>{const xt=()=>{he.removeEventListener("complete",$t),he.removeEventListener("error",nn),he.removeEventListener("abort",nn)},$t=()=>{Le(),xt()},nn=()=>{ft(he.error||new DOMException("AbortError","AbortError")),xt()};he.addEventListener("complete",$t),he.addEventListener("error",nn),he.addEventListener("abort",nn)});z.set(he,re)}(he),ie(he,function Se(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,We):he)}function te(he){if(he instanceof IDBRequest)return function qe(he){const re=new Promise((Le,ft)=>{const xt=()=>{he.removeEventListener("success",$t),he.removeEventListener("error",nn)},$t=()=>{Le(te(he.result)),xt()},nn=()=>{ft(he.error),xt()};he.addEventListener("success",$t),he.addEventListener("error",nn)});return re.then(Le=>{Le instanceof IDBCursor&&$.set(Le,he)}).catch(()=>{}),Me.set(re,he),re}(he);if(ke.has(he))return ke.get(he);const re=lt(he);return re!==he&&(ke.set(he,re),Me.set(re,he)),re}const De=he=>Me.get(he),Ne=["get","getKey","getAll","getAllKeys","count"],ee=["put","add","delete","clear"],tt=new Map;function je(he,re){if(!(he instanceof IDBDatabase)||re in he||"string"!=typeof re)return;if(tt.get(re))return tt.get(re);const Le=re.replace(/FromIndex$/,""),ft=re!==Le,xt=ee.includes(Le);if(!(Le in(ft?IDBIndex:IDBObjectStore).prototype)||!xt&&!Ne.includes(Le))return;const $t=function(){var nn=(0,d.Z)(function*(yr,...Vn){const $s=this.transaction(yr,xt?"readwrite":"readonly");let yo=$s.store;return ft&&(yo=yo.index(Vn.shift())),(yield Promise.all([yo[Le](...Vn),xt&&$s.done]))[0]});return function(Vn){return nn.apply(this,arguments)}}();return tt.set(re,$t),$t}!function Pe(he){We=he(We)}(he=>({...he,get:(re,Le,ft)=>je(re,Le)||he.get(re,Le,ft),has:(re,Le)=>!!je(re,Le)||he.has(re,Le)}));class Xt{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function sr(he){const re=he.getComponent();return"VERSION"===re?.type}(Le)){const ft=Le.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Le=>Le).join(" ")}}const Br="@firebase/app",ae=new P.Yd("@firebase/app"),Ze="[DEFAULT]",dt={[Br]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,Qt=new Map;function nr(he,re){try{he.container.addComponent(re)}catch(Le){ae.debug(`Component ${re.name} failed to register with FirebaseApp ${he.name}`,Le)}}function Xr(he,re){he.container.addOrOverwriteComponent(re)}function Wt(he){const re=he.name;if(Qt.has(re))return ae.debug(`There were multiple attempts to register component ${re}.`),!1;Qt.set(re,he);for(const Le of Ct.values())nr(Le,he);return!0}function Wn(he,re){const Le=he.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),he.container.getProvider(re)}function ss(he,re,Le=Ze){Wn(he,re).clearInstance(Le)}function hn(){Qt.clear()}const Ft=new Q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rn{constructor(re,Le,ft){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}const ji="9.22.2";function Cs(he,re={}){let Le=he;"object"!=typeof re&&(re={name:re});const ft=Object.assign({name:Ze,automaticDataCollectionEnabled:!1},re),xt=ft.name;if("string"!=typeof xt||!xt)throw Ft.create("bad-app-name",{appName:String(xt)});if(Le||(Le=(0,Q.aH)()),!Le)throw Ft.create("no-options");const $t=Ct.get(xt);if($t){if((0,Q.vZ)(Le,$t.options)&&(0,Q.vZ)(ft,$t.config))return $t;throw Ft.create("duplicate-app",{appName:xt})}const nn=new B.H0(xt);for(const Vn of Qt.values())nn.addComponent(Vn);const yr=new Rn(Le,ft,nn);return Ct.set(xt,yr),yr}function Cr(he=Ze){const re=Ct.get(he);if(!re&&he===Ze&&(0,Q.aH)())return Cs();if(!re)throw Ft.create("no-app",{appName:he});return re}function Un(){return Array.from(Ct.values())}function _n(he){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(he){const re=he.name;Ct.has(re)&&(Ct.delete(re),yield Promise.all(he.container.getProviders().map(Le=>Le.delete())),he.isDeleted=!0)})).apply(this,arguments)}function bn(he,re,Le){var ft;let xt=null!==(ft=dt[he])&&void 0!==ft?ft:he;Le&&(xt+=`-${Le}`);const $t=xt.match(/\s|\//),nn=re.match(/\s|\//);if($t||nn){const yr=[`Unable to register library "${xt}" with version "${re}":`];return $t&&yr.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),$t&&nn&&yr.push("and"),nn&&yr.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void ae.warn(yr.join(" "))}Wt(new B.wA(`${xt}-version`,()=>({library:xt,version:re}),"VERSION"))}function rr(he,re){if(null!==he&&"function"!=typeof he)throw Ft.create("invalid-log-argument");(0,P.Am)(he,re)}function Tn(he){(0,P.Ub)(he)}const Hr="firebase-heartbeat-database",Jt=1,G="firebase-heartbeat-store";let j=null;function k(){return j||(j=function se(he,re,{blocked:Le,upgrade:ft,blocking:xt,terminated:$t}={}){const nn=indexedDB.open(he,re),yr=te(nn);return ft&&nn.addEventListener("upgradeneeded",Vn=>{ft(te(nn.result),Vn.oldVersion,Vn.newVersion,te(nn.transaction),Vn)}),Le&&nn.addEventListener("blocked",Vn=>Le(Vn.oldVersion,Vn.newVersion,Vn)),yr.then(Vn=>{$t&&Vn.addEventListener("close",()=>$t()),xt&&Vn.addEventListener("versionchange",$s=>xt($s.oldVersion,$s.newVersion,$s))}).catch(()=>{}),yr}(Hr,Jt,{upgrade:(he,re)=>{0===re&&he.createObjectStore(G)}}).catch(he=>{throw Ft.create("idb-open",{originalErrorMessage:he.message})})),j}function N(){return(N=(0,d.Z)(function*(he){try{return yield(yield k()).transaction(G).objectStore(G).get(ze(he))}catch(re){if(re instanceof Q.ZR)ae.warn(re.message);else{const Le=Ft.create("idb-get",{originalErrorMessage:re?.message});ae.warn(Le.message)}}})).apply(this,arguments)}function J(he,re){return _e.apply(this,arguments)}function _e(){return(_e=(0,d.Z)(function*(he,re){try{const ft=(yield k()).transaction(G,"readwrite");yield ft.objectStore(G).put(re,ze(he)),yield ft.done}catch(Le){if(Le instanceof Q.ZR)ae.warn(Le.message);else{const ft=Ft.create("idb-set",{originalErrorMessage:Le?.message});ae.warn(ft.message)}}})).apply(this,arguments)}function ze(he){return`${he.name}!${he.options.appId}`}class ht{constructor(re){this.container=re,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new Ut(Le),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var re=this;return(0,d.Z)(function*(){const ft=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=Mt();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==xt&&!re._heartbeatsCache.heartbeats.some($t=>$t.date===xt))return re._heartbeatsCache.heartbeats.push({date:xt,agent:ft}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter($t=>{const nn=new Date($t.date).valueOf();return Date.now()-nn<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,d.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const Le=Mt(),{heartbeatsToSend:ft,unsentEntries:xt}=function gn(he,re=1024){const Le=[];let ft=he.slice();for(const xt of he){const $t=Le.find(nn=>nn.agent===xt.agent);if($t){if($t.dates.push(xt.date),mr(Le)>re){$t.dates.pop();break}}else if(Le.push({agent:xt.agent,dates:[xt.date]}),mr(Le)>re){Le.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Le,unsentEntries:ft}}(re._heartbeatsCache.heartbeats),$t=(0,Q.L)(JSON.stringify({version:2,heartbeats:ft}));return re._heartbeatsCache.lastSentHeartbeatDate=Le,xt.length>0?(re._heartbeatsCache.heartbeats=xt,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),$t})()}}function Mt(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,Q.hl)()&&(0,Q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,d.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function F(he){return N.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var Le=this;return(0,d.Z)(function*(){var ft;if(yield Le._canUseIndexedDBPromise){const $t=yield Le.read();return J(Le.app,{lastSentHeartbeatDate:null!==(ft=re.lastSentHeartbeatDate)&&void 0!==ft?ft:$t.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Le=this;return(0,d.Z)(function*(){var ft;if(yield Le._canUseIndexedDBPromise){const $t=yield Le.read();return J(Le.app,{lastSentHeartbeatDate:null!==(ft=re.lastSentHeartbeatDate)&&void 0!==ft?ft:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...re.heartbeats]})}})()}}function mr(he){return(0,Q.L)(JSON.stringify({version:2,heartbeats:he})).length}!function br(he){Wt(new B.wA("platform-logger",re=>new Xt(re),"PRIVATE")),Wt(new B.wA("heartbeat",re=>new ht(re),"PRIVATE")),bn(Br,"0.9.12",he),bn(Br,"0.9.12","esm2017"),bn("fire-js","")}("")},4537:(gt,Ce,L)=>{L.d(Ce,{H0:()=>Se,wA:()=>P});var d=L(5861),B=L(9058);class P{constructor($,z,ne){this.name=$,this.instanceFactory=z,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const Q="[DEFAULT]";class ie{constructor($,z){this.name=$,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(z)){const ne=new B.BH;if(this.instancesDeferred.set(z,ne),this.isInitialized(z)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:z});ke&&ne.resolve(ke)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate($){var z;const ne=this.normalizeInstanceIdentifier($?.identifier),ke=null!==(z=$?.optional)&&void 0!==z&&z;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Me){if(ke)return null;throw Me}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ve(ge){return"EAGER"===ge.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:Q})}catch{}for(const[z,ne]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(z);try{const Me=this.getOrInitializeService({instanceIdentifier:ke});ne.resolve(Me)}catch{}}}}clearInstance($=Q){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,d.Z)(function*(){const z=Array.from($.instances.values());yield Promise.all([...z.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...z.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=Q){return this.instances.has($)}getOptions($=Q){return this.instancesOptions.get($)||{}}initialize($={}){const{options:z={}}=$,ne=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:ne,options:z});for(const[Me,qe]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Me)&&qe.resolve(ke);return ke}onInit($,z){var ne;const ke=this.normalizeInstanceIdentifier(z),Me=null!==(ne=this.onInitCallbacks.get(ke))&&void 0!==ne?ne:new Set;Me.add($),this.onInitCallbacks.set(ke,Me);const qe=this.instances.get(ke);return qe&&$(qe,ke),()=>{Me.delete($)}}invokeOnInitCallbacks($,z){const ne=this.onInitCallbacks.get(z);if(ne)for(const ke of ne)try{ke($,z)}catch{}}getOrInitializeService({instanceIdentifier:$,options:z={}}){let ne=this.instances.get($);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=$,ge===Q?void 0:ge),options:z}),this.instances.set($,ne),this.instancesOptions.set($,z),this.invokeOnInitCallbacks(ne,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,ne)}catch{}var ge;return ne||null}normalizeInstanceIdentifier($=Q){return this.component?this.component.multipleInstances?$:Q:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor($){this.name=$,this.providers=new Map}addComponent($){const z=this.getProvider($.name);if(z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const z=new ie($,this);return this.providers.set($,z),z}getProviders(){return Array.from(this.providers.values())}}},7879:(gt,Ce,L)=>{L.d(Ce,{Am:()=>ge,Ub:()=>Se,Yd:()=>ve,in:()=>B});const d=[];var B=(()=>((B=B||{})[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B))();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},Q=B.INFO,ie={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},pe=($,z,...ne)=>{if(z<$.logLevel)return;const ke=(new Date).toISOString(),Me=ie[z];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Me](`[${ke}]  ${$.name}:`,...ne)};class ve{constructor(z){this.name=z,this._logLevel=Q,this._logHandler=pe,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in B))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?P[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...z),this._logHandler(this,B.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...z),this._logHandler(this,B.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,B.INFO,...z),this._logHandler(this,B.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,B.WARN,...z),this._logHandler(this,B.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...z),this._logHandler(this,B.ERROR,...z)}}function Se($){d.forEach(z=>{z.setLogLevel($)})}function ge($,z){for(const ne of d){let ke=null;z&&z.level&&(ke=P[z.level]),ne.userLogHandler=null===$?null:(Me,qe,...xe)=>{const We=xe.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");qe>=(ke??Me.logLevel)&&$({level:B[qe].toLowerCase(),message:We,args:xe,type:Me.name})}}}},3182:(gt,Ce,L)=>{L.d(Ce,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=L(534);(0,d.registerVersion)("firebase","9.22.2","app")},7142:(gt,Ce,L)=>{L.d(Ce,{Z:()=>d.Z});var d=L(3106);d.Z.registerVersion("firebase","9.22.2","app-compat")},6365:(gt,Ce,L)=>{L.r(Ce);var d=L(5861),B=L(3106),P=L(6878),Q=L(9058),ve=(L(534),L(7879),L(4537));function Se(){return window}function z(){return z=(0,d.Z)(function*(k,F,N){var J;const{BuildInfo:_e}=Se();(0,P.as)(F.sessionId,"AuthEvent did not contain a session ID");const ze=yield function Pe(k){return Dt.apply(this,arguments)}(F.sessionId),Et={};return(0,P.at)()?Et.ibi=_e.packageName:(0,P.au)()?Et.apn=_e.packageName:(0,P.av)(k,"operation-not-supported-in-this-environment"),_e.displayName&&(Et.appDisplayName=_e.displayName),Et.sessionId=ze,(0,P.aw)(k,N,F.type,void 0,null!==(J=F.eventId)&&void 0!==J?J:void 0,Et)}),z.apply(this,arguments)}function ke(){return(ke=(0,d.Z)(function*(k){const{BuildInfo:F}=Se(),N={};(0,P.at)()?N.iosBundleId=F.packageName:(0,P.au)()?N.androidPackageName=F.packageName:(0,P.av)(k,"operation-not-supported-in-this-environment"),yield(0,P.ax)(k,N)})).apply(this,arguments)}function xe(){return(xe=(0,d.Z)(function*(k,F,N){const{cordova:J}=Se();let _e=()=>{};try{yield new Promise((ze,Et)=>{let wt=null;function ht(){var Ut;ze();const mr=null===(Ut=J.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof mr&&mr(),"function"==typeof N?.close&&N.close()}function Mt(){wt||(wt=window.setTimeout(()=>{Et((0,P.az)(k,"redirect-cancelled-by-user"))},2e3))}function gn(){"visible"===document?.visibilityState&&Mt()}F.addPassiveListener(ht),document.addEventListener("resume",Mt,!1),(0,P.au)()&&document.addEventListener("visibilitychange",gn,!1),_e=()=>{F.removePassiveListener(ht),document.removeEventListener("resume",Mt,!1),document.removeEventListener("visibilitychange",gn,!1),wt&&window.clearTimeout(wt)}})}finally{_e()}})).apply(this,arguments)}function Dt(){return(Dt=(0,d.Z)(function*(k){const F=function lt(k){if((0,P.as)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(k);const F=new ArrayBuffer(k.length),N=new Uint8Array(F);for(let J=0;J<k.length;J++)N[J]=k.charCodeAt(J);return N}(k),N=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(N)).map(_e=>_e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class De extends P.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(F)),super.onEvent(F)}initialized(){var F=this;return(0,d.Z)(function*(){yield F.initPromise})()}}function Ne(k){return ee.apply(this,arguments)}function ee(){return(ee=(0,d.Z)(function*(k){const F=yield Xt()._get(sr(k));return F&&(yield Xt()._remove(sr(k))),F})).apply(this,arguments)}function je(){const k=[];for(let N=0;N<20;N++){const J=Math.floor(62*Math.random());k.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(J))}return k.join("")}function Xt(){return(0,P.aC)(P.b)}function sr(k){return(0,P.aD)("authEvent",k.config.apiKey,k.name)}function ae(k){if(!k?.includes("?"))return{};const[F,...N]=k.split("?");return(0,Q.zd)(N.join("?"))}const Oe=class Te{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(F){var N=this;return(0,d.Z)(function*(){const J=F._key();let _e=N.eventManagers.get(J);return _e||(_e=new De(F),N.eventManagers.set(J,_e),N.attachCallbackListeners(F,_e)),_e})()}_openPopup(F){(0,P.av)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,N,J,_e){var ze=this;return(0,d.Z)(function*(){!function We(k){var F,N,J,_e,ze,Et,wt,ht,Mt,gn;const Ut=Se();(0,P.aA)("function"==typeof(null===(F=Ut?.universalLinks)||void 0===F?void 0:F.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aA)(typeof(null===(N=Ut?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aA)("function"==typeof(null===(ze=null===(_e=null===(J=Ut?.cordova)||void 0===J?void 0:J.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===ze?void 0:ze.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(ht=null===(wt=null===(Et=Ut?.cordova)||void 0===Et?void 0:Et.plugins)||void 0===wt?void 0:wt.browsertab)||void 0===ht?void 0:ht.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(gn=null===(Mt=Ut?.cordova)||void 0===Mt?void 0:Mt.InAppBrowser)||void 0===gn?void 0:gn.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const Et=yield ze._initialize(F);yield Et.initialized(),Et.resetRedirect(),(0,P.aG)(),yield ze._originValidation(F);const wt=function se(k,F,N=null){return{type:F,eventId:N,urlResponse:null,sessionId:je(),postBody:null,tenantId:k.tenantId,error:(0,P.az)(k,"no-auth-event")}}(F,J,_e);yield function fe(k,F){return Xt()._set(sr(k),F)}(F,wt);const ht=yield function $(k,F,N){return z.apply(this,arguments)}(F,wt,N),Mt=yield function Me(k){const{cordova:F}=Se();return new Promise(N=>{F.plugins.browsertab.isAvailable(J=>{let _e=null;J?F.plugins.browsertab.openUrl(k):_e=F.InAppBrowser.open(k,(0,P.ay)()?"_blank":"_system","location=yes"),N(_e)})})}(ht);return function qe(k,F,N){return xe.apply(this,arguments)}(F,Et,Mt)})()}_isIframeWebStorageSupported(F,N){throw new Error("Method not implemented.")}_originValidation(F){const N=F._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function ne(k){return ke.apply(this,arguments)}(F)),this.originValidationPromises[N]}attachCallbackListeners(F,N){const{universalLinks:J,handleOpenURL:_e,BuildInfo:ze}=Se(),Et=setTimeout((0,d.Z)(function*(){yield Ne(F),N.onEvent($e())}),500),wt=function(){var gn=(0,d.Z)(function*(Ut){clearTimeout(Et);const mr=yield Ne(F);let br=null;mr&&Ut?.url&&(br=function tt(k,F){var N,J;const _e=function Ds(k){const F=ae(k),N=F.link?decodeURIComponent(F.link):void 0,J=ae(N).link,_e=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return ae(_e).link||_e||J||N||k}(F);if(_e.includes("/__/auth/callback")){const ze=ae(_e),Et=ze.firebaseError?function Br(k){try{return JSON.parse(k)}catch{return null}}(decodeURIComponent(ze.firebaseError)):null,wt=null===(J=null===(N=Et?.code)||void 0===N?void 0:N.split("auth/"))||void 0===J?void 0:J[1],ht=wt?(0,P.az)(wt):null;return ht?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:ht,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:_e,postBody:null}}return null}(mr,Ut.url)),N.onEvent(br||$e())});return function(mr){return gn.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,wt);const ht=_e,Mt=`${ze.packageName.toLowerCase()}://`;Se().handleOpenURL=function(){var gn=(0,d.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(Mt)&&wt({url:Ut}),"function"==typeof ht)try{ht(Ut)}catch(mr){console.error(mr)}});return function(Ut){return gn.apply(this,arguments)}}()}};function $e(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.az)("no-auth-event")}}function nt(){var k;return(null===(k=self?.location)||void 0===k?void 0:k.protocol)||null}function rn(k=(0,Q.z$)()){return!("file:"!==nt()&&"ionic:"!==nt()&&"capacitor:"!==nt()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function ar(){try{const k=self.localStorage,F=P.aL();if(k)return k.setItem(F,"1"),k.removeItem(F),!function or(k=(0,Q.z$)()){return function xn(){return(0,Q.w1)()&&11===document?.documentMode}()||function en(k=(0,Q.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,Q.hl)()}catch{return tr()&&(0,Q.hl)()}return!1}function tr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fn(){return(function mt(){return"http:"===nt()||"https:"===nt()}()||(0,Q.ru)()||rn())&&!function pn(){return(0,Q.b$)()||(0,Q.UG)()}()&&ar()&&!tr()}function Ti(){return rn()&&typeof document<"u"}function Bi(){return(Bi=(0,d.Z)(function*(){return!!Ti()&&new Promise(k=>{const F=setTimeout(()=>{k(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),k(!0)})})})).apply(this,arguments)}const Ln={LOCAL:"local",NONE:"none",SESSION:"session"},jr=P.aA,is="persistence";function dt(k){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,d.Z)(function*(k){yield k._initializationPromise;const F=nr(),N=P.aD(is,k.config.apiKey,k.name);F&&F.setItem(N,k._getPersistence())})).apply(this,arguments)}function nr(){var k;try{return(null===(k=function Dr(){return typeof window<"u"?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch{return null}}const Xr=P.aA;class Wt{constructor(){this.browserResolver=P.aC(P.k),this.cordovaResolver=P.aC(Oe),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(F){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,N,J,_e){var ze=this;return(0,d.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openPopup(F,N,J,_e)})()}_openRedirect(F,N,J,_e){var ze=this;return(0,d.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openRedirect(F,N,J,_e)})()}_isIframeWebStorageSupported(F,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,N)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return Ti()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,d.Z)(function*(){if(F.underlyingResolver)return;const N=yield function mo(){return Bi.apply(this,arguments)}();F.underlyingResolver=N?F.cordovaResolver:F.browserResolver})()}}function Wn(k){return k.unwrap()}function hn(k){return Ft(k)}function Ft(k){const{_tokenResponse:F}=k instanceof Q.ZR?k.customData:k;if(!F)return null;if(!(k instanceof Q.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return P.P.credentialFromResult(k);const N=F.providerId;if(!N||N===P.p.PASSWORD)return null;let J;switch(N){case P.p.GOOGLE:J=P.V;break;case P.p.FACEBOOK:J=P.U;break;case P.p.GITHUB:J=P.W;break;case P.p.TWITTER:J=P.Z;break;default:const{oauthIdToken:_e,oauthAccessToken:ze,oauthTokenSecret:Et,pendingToken:wt,nonce:ht}=F;return ze||Et||_e||wt?wt?N.startsWith("saml.")?P.aO._create(N,wt):P.L._fromParams({providerId:N,signInMethod:N,pendingToken:wt,idToken:_e,accessToken:ze}):new P.X(N).credential({idToken:_e,accessToken:ze,rawNonce:ht}):null}return k instanceof Q.ZR?J.credentialFromError(k):J.credentialFromResult(k)}function Rn(k,F){return F.catch(N=>{throw N instanceof Q.ZR&&function Nr(k,F){var N;const J=null===(N=F.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new Cr(k,P.aq(k,F));else if(J){const _e=Ft(F),ze=F;_e&&(ze.credential=_e,ze.tenantId=J.tenantId||void 0,ze.email=J.email||void 0,ze.phoneNumber=J.phoneNumber||void 0)}}(k,N),N}).then(N=>{const _e=N.user;return{operationType:N.operationType,credential:hn(N),additionalUserInfo:P.ao(N),user:Un.getOrCreate(_e)}})}function ji(k,F){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,d.Z)(function*(k,F){const N=yield F;return{verificationId:N.verificationId,confirm:J=>Rn(k,N.confirm(J))}})).apply(this,arguments)}class Cr{constructor(F,N){this.resolver=N,this.auth=function ss(k){return k.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Rn(Wn(this.auth),this.resolver.resolveSignIn(F))}}class Un{constructor(F){this._delegate=F,this.multiFactor=P.ar(F)}static getOrCreate(F){return Un.USER_MAP.has(F)||Un.USER_MAP.set(F,new Un(F)),Un.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var N=this;return(0,d.Z)(function*(){return Rn(N.auth,P.a0(N._delegate,F))})()}linkWithPhoneNumber(F,N){var J=this;return(0,d.Z)(function*(){return ji(J.auth,P.l(J._delegate,F,N))})()}linkWithPopup(F){var N=this;return(0,d.Z)(function*(){return Rn(N.auth,P.d(N._delegate,F,Wt))})()}linkWithRedirect(F){var N=this;return(0,d.Z)(function*(){return yield dt(P.aH(N.auth)),P.g(N._delegate,F,Wt)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var N=this;return(0,d.Z)(function*(){return Rn(N.auth,P.a1(N._delegate,F))})()}reauthenticateWithPhoneNumber(F,N){return ji(this.auth,P.r(this._delegate,F,N))}reauthenticateWithPopup(F){return Rn(this.auth,P.e(this._delegate,F,Wt))}reauthenticateWithRedirect(F){var N=this;return(0,d.Z)(function*(){return yield dt(P.aH(N.auth)),P.h(N._delegate,F,Wt)})()}sendEmailVerification(F){return P.ae(this._delegate,F)}unlink(F){var N=this;return(0,d.Z)(function*(){return yield P.an(N._delegate,F),N})()}updateEmail(F){return P.aj(this._delegate,F)}updatePassword(F){return P.ak(this._delegate,F)}updatePhoneNumber(F){return P.u(this._delegate,F)}updateProfile(F){return P.ai(this._delegate,F)}verifyBeforeUpdateEmail(F,N){return P.af(this._delegate,F,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Un.USER_MAP=new WeakMap;const _n=P.aA;let Zn=(()=>{class k{constructor(N,J){if(this.app=N,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_e}=N.options;_n(_e,"invalid-api-key",{appName:N.name}),_n(_e,"invalid-api-key",{appName:N.name});const ze=typeof window<"u"?Wt:void 0;this._delegate=J.initialize({options:{persistence:rr(_e,N.name),popupRedirectResolver:ze}}),this._delegate._updateErrorMap(P.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,J){P.I(this._delegate,N,J)}applyActionCode(N){return P.a5(this._delegate,N)}checkActionCode(N){return P.a6(this._delegate,N)}confirmPasswordReset(N,J){return P.a4(this._delegate,N,J)}createUserWithEmailAndPassword(N,J){var _e=this;return(0,d.Z)(function*(){return Rn(_e._delegate,P.a8(_e._delegate,N,J))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return P.ad(this._delegate,N)}isSignInWithEmailLink(N){return P.ab(this._delegate,N)}getRedirectResult(){var N=this;return(0,d.Z)(function*(){_n(Fn(),N._delegate,"operation-not-supported-in-this-environment");const J=yield P.j(N._delegate,Wt);return J?Rn(N._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function Ve(k,F){(0,P.aH)(k)._logFramework(F)}(this._delegate,N)}onAuthStateChanged(N,J,_e){const{next:ze,error:Et,complete:wt}=bn(N,J,_e);return this._delegate.onAuthStateChanged(ze,Et,wt)}onIdTokenChanged(N,J,_e){const{next:ze,error:Et,complete:wt}=bn(N,J,_e);return this._delegate.onIdTokenChanged(ze,Et,wt)}sendSignInLinkToEmail(N,J){return P.aa(this._delegate,N,J)}sendPasswordResetEmail(N,J){return P.a3(this._delegate,N,J||void 0)}setPersistence(N){var J=this;return(0,d.Z)(function*(){let _e;switch(function Ze(k,F){jr(Object.values(Ln).includes(F),k,"invalid-persistence-type"),(0,Q.b$)()?jr(F!==Ln.SESSION,k,"unsupported-persistence-type"):(0,Q.UG)()?jr(F===Ln.NONE,k,"unsupported-persistence-type"):tr()?jr(F===Ln.NONE||F===Ln.LOCAL&&(0,Q.hl)(),k,"unsupported-persistence-type"):jr(F===Ln.NONE||ar(),k,"unsupported-persistence-type")}(J._delegate,N),N){case Ln.SESSION:_e=P.a;break;case Ln.LOCAL:_e=(yield P.aC(P.i)._isAvailable())?P.i:P.b;break;case Ln.NONE:_e=P.N;break;default:return P.av("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(_e)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return Rn(this._delegate,P._(this._delegate))}signInWithCredential(N){return Rn(this._delegate,P.$(this._delegate,N))}signInWithCustomToken(N){return Rn(this._delegate,P.a2(this._delegate,N))}signInWithEmailAndPassword(N,J){return Rn(this._delegate,P.a9(this._delegate,N,J))}signInWithEmailLink(N,J){return Rn(this._delegate,P.ac(this._delegate,N,J))}signInWithPhoneNumber(N,J){return ji(this._delegate,P.s(this._delegate,N,J))}signInWithPopup(N){var J=this;return(0,d.Z)(function*(){return _n(Fn(),J._delegate,"operation-not-supported-in-this-environment"),Rn(J._delegate,P.c(J._delegate,N,Wt))})()}signInWithRedirect(N){var J=this;return(0,d.Z)(function*(){return _n(Fn(),J._delegate,"operation-not-supported-in-this-environment"),yield dt(J._delegate),P.f(J._delegate,N,Wt)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return P.a7(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=Ln,k})();function bn(k,F,N){let J=k;"function"!=typeof k&&({next:J,error:F,complete:N}=k);const _e=J;return{next:Et=>_e(Et&&Un.getOrCreate(Et)),error:F,complete:N}}function rr(k,F){const N=function Qt(k,F){const N=nr();if(!N)return[];const J=P.aD(is,k,F);switch(N.getItem(J)){case Ln.NONE:return[P.N];case Ln.LOCAL:return[P.i,P.a];case Ln.SESSION:return[P.a];default:return[]}}(k,F);if(typeof self<"u"&&!N.includes(P.i)&&N.push(P.i),typeof window<"u")for(const J of[P.b,P.a])N.includes(J)||N.push(J);return N.includes(P.N)||N.push(P.N),N}class Tn{constructor(){this.providerId="phone",this._delegate=new P.P(Wn(B.Z.auth()))}static credential(F,N){return P.P.credential(F,N)}verifyPhoneNumber(F,N){return this._delegate.verifyPhoneNumber(F,N)}unwrap(){return this._delegate}}Tn.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Tn.PROVIDER_ID=P.P.PROVIDER_ID;const Hr=P.aA;class Jt{constructor(F,N,J=B.Z.app()){var _e;Hr(null===(_e=J.options)||void 0===_e?void 0:_e.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new P.R(F,N,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function j(k){k.INTERNAL.registerComponent(new ve.wA("auth-compat",F=>{const N=F.getProvider("app-compat").getImmediate(),J=F.getProvider("auth");return new Zn(N,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.Q,FacebookAuthProvider:P.U,GithubAuthProvider:P.W,GoogleAuthProvider:P.V,OAuthProvider:P.X,SAMLAuthProvider:P.Y,PhoneAuthProvider:Tn,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:Jt,TwitterAuthProvider:P.Z,Auth:Zn,AuthCredential:P.J,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(gt,Ce,L)=>{function d(P,Q,ie,pe,ve,Se,ge){try{var $=P[Se](ge),z=$.value}catch(ne){return void ie(ne)}$.done?Q(z):Promise.resolve(z).then(pe,ve)}function B(P){return function(){var Q=this,ie=arguments;return new Promise(function(pe,ve){var Se=P.apply(Q,ie);function ge(z){d(Se,pe,ve,ge,$,"next",z)}function $(z){d(Se,pe,ve,ge,$,"throw",z)}ge(void 0)})}}L.d(Ce,{Z:()=>B})},7582:(gt,Ce,L)=>{function Q(ae,we){var Te={};for(var Oe in ae)Object.prototype.hasOwnProperty.call(ae,Oe)&&we.indexOf(Oe)<0&&(Te[Oe]=ae[Oe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(Oe=Object.getOwnPropertySymbols(ae);$e<Oe.length;$e++)we.indexOf(Oe[$e])<0&&Object.prototype.propertyIsEnumerable.call(ae,Oe[$e])&&(Te[Oe[$e]]=ae[Oe[$e]])}return Te}function ne(ae,we,Te,Oe){return new(Te||(Te=Promise))(function(Ve,Qe){function ot(mt){try{nt(Oe.next(mt))}catch(rn){Qe(rn)}}function Cn(mt){try{nt(Oe.throw(mt))}catch(rn){Qe(rn)}}function nt(mt){mt.done?Ve(mt.value):function $e(Ve){return Ve instanceof Te?Ve:new Te(function(Qe){Qe(Ve)})}(mt.value).then(ot,Cn)}nt((Oe=Oe.apply(ae,we||[])).next())})}function te(ae){return this instanceof te?(this.v=ae,this):new te(ae)}function De(ae,we,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Oe=Te.apply(ae,we||[]),Ve=[];return $e={},Qe("next"),Qe("throw"),Qe("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function Qe(pn){Oe[pn]&&($e[pn]=function(xn){return new Promise(function(en,or){Ve.push([pn,xn,en,or])>1||ot(pn,xn)})})}function ot(pn,xn){try{!function Cn(pn){pn.value instanceof te?Promise.resolve(pn.value.v).then(nt,mt):rn(Ve[0][2],pn)}(Oe[pn](xn))}catch(en){rn(Ve[0][3],en)}}function nt(pn){ot("next",pn)}function mt(pn){ot("throw",pn)}function rn(pn,xn){pn(xn),Ve.shift(),Ve.length&&ot(Ve[0][0],Ve[0][1])}}function fe(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,we=ae[Symbol.asyncIterator];return we?we.call(ae):(ae=function xe(ae){var we="function"==typeof Symbol&&Symbol.iterator,Te=we&&ae[we],Oe=0;if(Te)return Te.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&Oe>=ae.length&&(ae=void 0),{value:ae&&ae[Oe++],done:!ae}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),Te={},Oe("next"),Oe("throw"),Oe("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Oe(Ve){Te[Ve]=ae[Ve]&&function(Qe){return new Promise(function(ot,Cn){!function $e(Ve,Qe,ot,Cn){Promise.resolve(Cn).then(function(nt){Ve({value:nt,done:ot})},Qe)}(ot,Cn,(Qe=ae[Ve](Qe)).done,Qe.value)})}}}L.d(Ce,{FC:()=>De,KL:()=>fe,_T:()=>Q,mG:()=>ne,qq:()=>te})}},gt=>{gt(gt.s=3265)}]);